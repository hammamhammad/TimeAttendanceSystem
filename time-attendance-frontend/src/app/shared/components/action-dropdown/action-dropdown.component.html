<div [class]="getDropdownClasses()">
  @if (split) {
    <!-- Split Button Dropdown -->
    <button
      type="button"
      [class]="getButtonClasses()"
      [disabled]="disabled"
      (click)="onActionClick(actions[0])">
      @if (showLabel) {
        {{ label }}
      }
    </button>
    <button
      type="button"
      [class]="getButtonClasses() + ' dropdown-toggle dropdown-toggle-split'"
      [disabled]="disabled"
      data-bs-toggle="dropdown"
      aria-expanded="false">
      <span class="visually-hidden">Toggle Dropdown</span>
    </button>
  } @else {
    <!-- Regular Dropdown -->
    <button
      type="button"
      [class]="getButtonClasses()"
      [disabled]="disabled"
      data-bs-toggle="dropdown"
      aria-expanded="false">
      @if (icon) {
        <i [class]="icon + (showLabel ? ' me-2' : '')"></i>
      }
      @if (showLabel) {
        <span>{{ label }}</span>
      }
    </button>
  }

  <!-- Dropdown Menu -->
  <ul [class]="getMenuClasses()">
    @for (action of getVisibleActions(); track action.id) {
      <li>
        <button
          type="button"
          [class]="getItemClasses(action)"
          [disabled]="action.disabled"
          (click)="onActionClick(action)">
          @if (action.icon) {
            <i [class]="action.icon + ' me-2'"></i>
          }
          {{ action.label }}
        </button>
      </li>

      @if (action.divider && !$last) {
        <li><hr class="dropdown-divider"></li>
      }
    }

    @if (getVisibleActions().length === 0) {
      <li>
        <span class="dropdown-item-text text-muted">No actions available</span>
      </li>
    }
  </ul>
</div>