<div class="view-remote-work-page">
  <!-- Form Header -->
  <app-form-header
    mode="view"
    [title]="i18n.t('remoteWork.request.view_details')"
    moduleName="remoteWork.request"
    moduleRoute="remote-work"
    [entityId]="request()?.id">
  </app-form-header>

  <!-- Loading State -->
  @if (loading()) {
    <app-loading-spinner></app-loading-spinner>
  }

  <!-- Request Details -->
  @if (!loading() && request()) {
    <!-- Basic Information Card -->
    <div class="card mb-3">
      <div class="card-header">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="mb-0">{{ i18n.t('remoteWork.request.basic_information') }}</h5>
          <app-status-badge
            [status]="statusBadge().variant"
            [label]="statusBadge().label">
          </app-status-badge>
        </div>
      </div>
      <div class="card-body">
        <app-definition-list
          [items]="basicInfoItems()"
          [labelWidth]="'4'"
          [valueWidth]="'8'">
        </app-definition-list>

        @if (request()!.reason) {
          <div class="mt-3">
            <strong>{{ i18n.t('remoteWork.request.reason') }}:</strong>
            <p class="mt-2 mb-0">{{ request()!.reason }}</p>
          </div>
        }
      </div>
    </div>

    <!-- Approval Information Card -->
    @if (approvalInfoItems().length > 0) {
      <div class="card mb-3">
        <div class="card-header">
          <h5 class="mb-0">{{ i18n.t('remoteWork.request.approval_information') }}</h5>
        </div>
        <div class="card-body">
          <app-definition-list
            [items]="approvalInfoItems()"
            [labelWidth]="'4'"
            [valueWidth]="'8'">
          </app-definition-list>
        </div>
      </div>
    }

    <!-- Actions -->
    <div class="d-flex justify-content-end gap-2 mt-4">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="onBack()">
        {{ i18n.t('common.back') }}
      </button>
      @if (request()!.status === 0) {
        <button
          type="button"
          class="btn btn-danger"
          (click)="onReject()">
          <i class="fas fa-times me-2"></i>
          {{ i18n.t('common.reject') }}
        </button>
        <button
          type="button"
          class="btn btn-success"
          (click)="onApprove()">
          <i class="fas fa-check me-2"></i>
          {{ i18n.t('common.approve') }}
        </button>
        <button
          type="button"
          class="btn btn-warning"
          (click)="onCancel()">
          <i class="fas fa-ban me-2"></i>
          {{ i18n.t('remoteWork.request.cancel') }}
        </button>
      }
    </div>
  }
</div>
