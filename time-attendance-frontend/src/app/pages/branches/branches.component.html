<div class="app-list-page">
  <!-- Page Header -->
  <app-page-header
    [title]="i18n.t('branches.title')">
  </app-page-header>

  <!-- Filters Component -->
  <app-unified-filter
    moduleName="branches"
    [refreshing]="loading()"
    (searchChange)="onSearchChange($event)"
    (filtersChange)="onFiltersChange($event)"
    (add)="onAddBranch()"
    (refresh)="onRefreshData()">
  </app-unified-filter>

  <!-- Branches Table Component -->
  <app-branch-table
    [branches]="branches()"
    [loading]="loading"
    [currentPage]="currentPage"
    [totalPages]="totalPages"
    [totalItems]="totalCount"
    [pageSize]="pageSize"
    (viewBranch)="onViewBranch($event)"
    (editBranch)="onEditBranch($event)"
    (deleteBranch)="onDeleteBranch($event)"
    (pageChange)="onPageChange($event)"
    (pageSizeChange)="onPageSizeChange($event)"
    (selectionChange)="onSelectionChange($event)"
    (sortChange)="onSortChange($event)">
  </app-branch-table>

  <!-- Branch Form Modal Component -->
  <app-branch-form-modal
    #branchFormModal
    [show]="showBranchForm()"
    [branch]="selectedBranch()"
    (close)="onCloseBranchForm()"
    (save)="onBranchSave($event)">
  </app-branch-form-modal>
</div>