import{a as De,b as Pe}from"./chunk-N7LIAKQC.js";import{a as Se}from"./chunk-L4WYWFVA.js";import{a as ve}from"./chunk-NPDCAEA6.js";import{a as ye}from"./chunk-LHKEM3UB.js";import{a as xe}from"./chunk-QXVLGI72.js";import{b as oe,c as re,e as le,f as de,i as se,j as ce,m as me,n as pe,o as ue,p as fe,q as ge,r as _e,w as be,x as W,y as Ce}from"./chunk-VRETN7JA.js";import"./chunk-GRQ6RO47.js";import"./chunk-EYAJMHM7.js";import{a as he}from"./chunk-HHXRLUSQ.js";import{b as G}from"./chunk-TJ2U7DWW.js";import{d as ie,g as ae}from"./chunk-TWXUAMJ4.js";import{$a as D,Ab as H,Bb as l,Cb as c,Db as m,Ea as L,Eb as Q,Fb as X,Ia as E,Ka as B,Sb as $,Tb as z,Ub as F,W as y,X as S,Xa as p,Ya as u,Yb as M,Zb as ee,ab as P,bb as f,cb as r,da as x,db as o,eb as g,ib as w,jb as I,lb as k,lc as te,nb as v,pb as s,qa as K,ta as i,uc as ne,wc as j,ya as O,yb as V}from"./chunk-JSQL33QG.js";import{a as Z,b as J}from"./chunk-DGAILPFQ.js";var Te=(n,t)=>t.key,Ae=(n,t)=>t.label,A=(n,t)=>t.value;function Re(n,t){if(n&1){let e=k();r(0,"button",16),v("click",function(){y(e);let d=s(2);return S(d.clearFilters())}),g(1,"i",17),l(2),o()}if(n&2){let e=s(2);i(2),m(" ",e.i18nService.t("app.clear")," ")}}function Ve(n,t){if(n&1){let e=k();r(0,"button",18),v("click",function(){y(e);let d=s(2);return S(d.applyFilters())}),g(1,"i",19),l(2),o()}if(n&2){let e=s(2);i(2),m(" ",e.i18nService.t("app.search")," ")}}function Ne(n,t){if(n&1&&(r(0,"div",6),p(1,Re,3,1,"button",14),p(2,Ve,3,1,"button",15),o()),n&2){let e=s();i(),u(e.showClearButton?1:-1),i(),u(e.showApplyButton?2:-1)}}function He(n,t){if(n&1&&(r(0,"button",7),g(1,"i",20),o()),n&2){let e=s();i(),V("fa-chevron-down",e.isCollapsed)("fa-chevron-up",!e.isCollapsed)}}function $e(n,t){if(n&1){let e=k();r(0,"button",31),v("click",function(){let d=y(e).$implicit,_=s(3);return S(_.applyDatePreset(d))}),l(1),o()}if(n&2){let e=t.$implicit;i(),m(" ",e.label," ")}}function ze(n,t){if(n&1&&(r(0,"div",23)(1,"div",29),D(2,$e,2,1,"button",30,Ae),o()()),n&2){let e=s(2);i(2),P(e.config.dateRange==null?null:e.config.dateRange.presets)}}function Le(n,t){if(n&1&&(r(0,"div",11)(1,"div",21)(2,"label",22),l(3),o(),p(4,ze,4,0,"div",23),r(5,"div",24)(6,"div",25)(7,"label",26),l(8),o(),g(9,"input",27),o(),r(10,"div",25)(11,"label",26),l(12),o(),g(13,"input",28),o()()()()),n&2){let e,a,d=s();i(3),c(d.i18nService.t("attendance.filters.date_range")),i(),u(d.config.dateRange!=null&&d.config.dateRange.presets&&((d.config.dateRange==null||d.config.dateRange.presets==null?null:d.config.dateRange.presets.length)||0)>0?4:-1),i(4),c(d.i18nService.t("attendance.filters.start_date")),i(),f("max",(e=d.filterForm.get("endDate"))==null?null:e.value),i(3),c(d.i18nService.t("attendance.filters.end_date")),i(),f("min",(a=d.filterForm.get("startDate"))==null?null:a.value)}}function Be(n,t){if(n&1&&(r(0,"option",34),l(1),o()),n&2){let e=t.$implicit;f("value",e.value)("disabled",e.disabled),i(),m(" ",e.label," ")}}function je(n,t){if(n&1&&(r(0,"div",12)(1,"div",21)(2,"label",22),l(3),o(),r(4,"select",32)(5,"option",33),l(6),o(),D(7,Be,2,3,"option",34,A),o()()()),n&2){let e=s();i(3),c(e.i18nService.t("attendance.filters.employees")),i(),f("multiple",e.isMultipleSelection("employees")),i(2),c(e.i18nService.t("attendance.filters.all_employees")),i(),P(e.getFieldOptions("employees"))}}function We(n,t){if(n&1&&(r(0,"option",34),l(1),o()),n&2){let e=t.$implicit;f("value",e.value)("disabled",e.disabled),i(),m(" ",e.label," ")}}function Ge(n,t){if(n&1&&(r(0,"div",12)(1,"div",21)(2,"label",22),l(3),o(),r(4,"select",35)(5,"option",33),l(6),o(),D(7,We,2,3,"option",34,A),o()()()),n&2){let e=s();i(3),c(e.i18nService.t("attendance.filters.departments")),i(),f("multiple",e.isMultipleSelection("departments")),i(2),c(e.i18nService.t("attendance.filters.all_departments")),i(),P(e.getFieldOptions("departments"))}}function Ue(n,t){if(n&1&&(r(0,"option",34),l(1),o()),n&2){let e=t.$implicit;f("value",e.value)("disabled",e.disabled),i(),m(" ",e.label," ")}}function Ye(n,t){if(n&1&&(r(0,"div",12)(1,"div",21)(2,"label",22),l(3),o(),r(4,"select",36)(5,"option",33),l(6),o(),D(7,Ue,2,3,"option",34,A),o()()()),n&2){let e=s();i(3),c(e.i18nService.t("attendance.filters.branches")),i(),f("multiple",e.isMultipleSelection("branches")),i(2),c(e.i18nService.t("attendance.filters.all_branches")),i(),P(e.getFieldOptions("branches"))}}function qe(n,t){if(n&1&&(r(0,"option",34),l(1),o()),n&2){let e=t.$implicit;f("value",e.value)("disabled",e.disabled),i(),m(" ",e.label," ")}}function Ze(n,t){if(n&1&&(r(0,"div",12)(1,"div",21)(2,"label",22),l(3),o(),r(4,"select",37)(5,"option",33),l(6),o(),D(7,qe,2,3,"option",34,A),o()()()),n&2){let e=s();i(3),c(e.i18nService.t("attendance.filters.status")),i(),f("multiple",e.isMultipleSelection("status")),i(2),c(e.i18nService.t("attendance.filters.all_statuses")),i(),P(e.getFieldOptions("status"))}}function Je(n,t){if(n&1&&(r(0,"option",34),l(1),o()),n&2){let e=t.$implicit;f("value",e.value)("disabled",e.disabled),i(),m(" ",e.label," ")}}function Ke(n,t){if(n&1&&(r(0,"div",12)(1,"div",21)(2,"label",22),l(3),o(),r(4,"select",38),D(5,Je,2,3,"option",34,A),o()()()),n&2){let e=s();i(3),c(e.i18nService.t("attendance.filters.report_type")),i(2),P(e.config.reportType==null?null:e.config.reportType.options)}}function Qe(n,t){if(n&1&&g(0,"input",39),n&2){let e=s().$implicit;f("formControlName",e.key)("placeholder",e.placeholder)}}function Xe(n,t){if(n&1&&g(0,"input",40),n&2){let e=s().$implicit;f("formControlName",e.key)("placeholder",e.placeholder)}}function et(n,t){if(n&1&&(r(0,"option",34),l(1),o()),n&2){let e=t.$implicit;f("value",e.value)("disabled",e.disabled),i(),m(" ",e.label," ")}}function tt(n,t){if(n&1&&(r(0,"select",41)(1,"option",33),l(2),o(),D(3,et,2,3,"option",34,A),o()),n&2){let e=s().$implicit,a=s();f("formControlName",e.key),i(2),c(e.placeholder||"Select option..."),i(),P(a.getCustomFieldOptions(e))}}function nt(n,t){if(n&1&&(r(0,"option",34),l(1),o()),n&2){let e=t.$implicit;f("value",e.value)("disabled",e.disabled),i(),m(" ",e.label," ")}}function it(n,t){if(n&1&&(r(0,"select",42),D(1,nt,2,3,"option",34,A),o()),n&2){let e=s().$implicit,a=s();f("formControlName",e.key),i(),P(a.getCustomFieldOptions(e))}}function at(n,t){if(n&1&&(r(0,"div",43),g(1,"input",44),r(2,"label",45),l(3),o()()),n&2){let e=s().$implicit;i(),f("formControlName",e.key)("id","checkbox-"+e.key),i(),f("for","checkbox-"+e.key),i(),m(" ",e.placeholder||e.label," ")}}function ot(n,t){if(n&1&&(r(0,"div",12)(1,"div",21)(2,"label",22),l(3),o(),p(4,Qe,1,2,"input",39),p(5,Xe,1,2,"input",40),p(6,tt,5,2,"select",41),p(7,it,3,1,"select",42),p(8,at,4,4,"div",43),o()()),n&2){let e=t.$implicit;i(3),c(e.label),i(),u(e.type==="text"?4:-1),i(),u(e.type==="number"?5:-1),i(),u(e.type==="select"?6:-1),i(),u(e.type==="multiselect"?7:-1),i(),u(e.type==="checkbox"?8:-1)}}function rt(n,t){if(n&1){let e=k();r(0,"button",31),v("click",function(){y(e);let d=s(2);return S(d.clearFilters())}),g(1,"i",17),l(2),o()}if(n&2){let e=s(2);i(2),m(" ",e.i18nService.t("app.clear")," ")}}function lt(n,t){if(n&1){let e=k();r(0,"button",48),v("click",function(){y(e);let d=s(2);return S(d.applyFilters())}),g(1,"i",19),l(2),o()}if(n&2){let e=s(2);i(2),m(" ",e.i18nService.t("app.search")," ")}}function dt(n,t){if(n&1&&(r(0,"div",13)(1,"div",46),p(2,rt,3,1,"button",30),p(3,lt,3,1,"button",47),o()()),n&2){let e=s();i(2),u(e.showClearButton?2:-1),i(),u(e.showApplyButton?3:-1)}}var U=class n{constructor(t,e){this.fb=t;this.i18nService=e}config;initialValues={};collapsible=!0;collapsed=!1;showApplyButton=!0;showClearButton=!0;loading=!1;filtersChanged=new B;filtersApplied=new B;filtersCleared=new B;filterForm;isCollapsed=!1;ngOnInit(){this.isCollapsed=this.collapsed,this.createFilterForm(),this.setupFormSubscriptions()}createFilterForm(){let t={};if(this.config.dateRange?.enabled){let e=new Date().toISOString().split("T")[0],a=new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0];t.startDate=[this.initialValues.dateRange?.startDate||this.config.dateRange.startDate||a],t.endDate=[this.initialValues.dateRange?.endDate||this.config.dateRange.endDate||e]}this.config.employees?.enabled&&(t.employeeIds=[this.initialValues.employeeIds||[]]),this.config.departments?.enabled&&(t.departmentIds=[this.initialValues.departmentIds||[]]),this.config.branches?.enabled&&(t.branchIds=[this.initialValues.branchIds||[]]),this.config.status?.enabled&&(t.statusFilter=[this.initialValues.statusFilter||[]]),this.config.reportType?.enabled&&(t.reportType=[this.initialValues.reportType||null]),this.config.customFields&&this.config.customFields.forEach(e=>{t[e.key]=[this.initialValues[e.key]||this.getDefaultValue(e.type)]}),this.filterForm=this.fb.group(t)}getDefaultValue(t){switch(t){case"multiselect":return[];case"checkbox":return!1;case"number":return null;default:return""}}setupFormSubscriptions(){this.filterForm.valueChanges.subscribe(t=>{let e=this.transformFormValues(t);this.filtersChanged.emit(e)})}transformFormValues(t){let e={};return this.config.dateRange?.enabled&&t.startDate&&t.endDate&&(e.dateRange={startDate:t.startDate,endDate:t.endDate}),this.config.employees?.enabled&&(e.employeeIds=t.employeeIds),this.config.departments?.enabled&&(e.departmentIds=t.departmentIds),this.config.branches?.enabled&&(e.branchIds=t.branchIds),this.config.status?.enabled&&(e.statusFilter=t.statusFilter),this.config.reportType?.enabled&&(e.reportType=t.reportType),this.config.customFields&&this.config.customFields.forEach(a=>{e[a.key]=t[a.key]}),e}applyFilters(){let t=this.transformFormValues(this.filterForm.value);this.filtersApplied.emit(t)}clearFilters(){this.filterForm.reset(),this.filtersCleared.emit()}toggleCollapse(){this.isCollapsed=!this.isCollapsed}applyDatePreset(t){if(!this.config.dateRange?.enabled)return;let e=new Date,a=new Date(e.getTime()-t.days*24*60*60*1e3);this.filterForm.patchValue({startDate:a.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]})}isMultipleSelection(t){return this.config[t]?.multiple||!1}getFieldOptions(t){return this.config[t]?.options||[]}getCustomFieldOptions(t){return t.options||[]}static \u0275fac=function(e){return new(e||n)(O(be),O(G))};static \u0275cmp=L({type:n,selectors:[["app-filter-panel"]],inputs:{config:"config",initialValues:"initialValues",collapsible:"collapsible",collapsed:"collapsed",showApplyButton:"showApplyButton",showClearButton:"showClearButton",loading:"loading"},outputs:{filtersChanged:"filtersChanged",filtersApplied:"filtersApplied",filtersCleared:"filtersCleared"},decls:21,vars:17,consts:[[1,"filter-panel"],[1,"filter-header",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[1,"filter-title","mb-0"],[1,"fa-solid","fa-filter","me-2"],[1,"header-actions","d-flex","align-items-center","gap-2"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-link","btn-sm","p-0"],[1,"filter-content"],[1,"filter-form",3,"formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"col-lg-4","col-md-6"],[1,"filter-actions","mt-3","pt-3","border-top"],["type","button",1,"btn","btn-outline-secondary","btn-sm"],["type","button",1,"btn","btn-primary","btn-sm"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"fa-solid","fa-times","me-1"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa-solid","fa-search","me-1"],[1,"fa-solid"],[1,"filter-group"],[1,"form-label"],[1,"date-presets","mb-3"],[1,"row","g-2"],[1,"col-md-6"],[1,"form-label","small"],["type","date","formControlName","startDate",1,"form-control",3,"max"],["type","date","formControlName","endDate",1,"form-control",3,"min"],["role","group",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["formControlName","employeeIds",1,"form-select",3,"multiple"],["value",""],[3,"value","disabled"],["formControlName","departmentIds",1,"form-select",3,"multiple"],["formControlName","branchIds",1,"form-select",3,"multiple"],["formControlName","statusFilter",1,"form-select",3,"multiple"],["formControlName","reportType",1,"form-select"],["type","text",1,"form-control",3,"formControlName","placeholder"],["type","number",1,"form-control",3,"formControlName","placeholder"],[1,"form-select",3,"formControlName"],["multiple","",1,"form-select",3,"formControlName"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"formControlName","id"],[1,"form-check-label",3,"for"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,a){e&1&&(r(0,"div",0)(1,"div",1),v("click",function(){return a.collapsible?a.toggleCollapse():null}),r(2,"div",2)(3,"h6",3),g(4,"i",4),l(5),o(),r(6,"div",5),p(7,Ne,3,2,"div",6),p(8,He,2,4,"button",7),o()()(),r(9,"div",8)(10,"form",9)(11,"div",10),p(12,Le,14,6,"div",11),p(13,je,9,3,"div",12),p(14,Ge,9,3,"div",12),p(15,Ye,9,3,"div",12),p(16,Ze,9,3,"div",12),p(17,Ke,7,1,"div",12),D(18,ot,9,6,"div",12,Te),o(),p(20,dt,4,2,"div",13),o()()()),e&2&&(i(),V("collapsible",a.collapsible),i(4),m(" ",a.i18nService.t("attendance.filters.title")," "),i(2),u(a.collapsible?-1:7),i(),u(a.collapsible?8:-1),i(),V("collapsed",a.isCollapsed)("show",!a.isCollapsed),i(),f("formGroup",a.filterForm),i(2),u(a.config.dateRange!=null&&a.config.dateRange.enabled?12:-1),i(),u(a.config.employees!=null&&a.config.employees.enabled?13:-1),i(),u(a.config.departments!=null&&a.config.departments.enabled?14:-1),i(),u(a.config.branches!=null&&a.config.branches.enabled?15:-1),i(),u(a.config.status!=null&&a.config.status.enabled?16:-1),i(),u(a.config.reportType!=null&&a.config.reportType.enabled?17:-1),i(),P(a.config.customFields),i(2),u(a.collapsible&&!a.isCollapsed?20:-1))},dependencies:[j,W,se,fe,_e,re,ce,oe,ue,ge,le,de,Ce,me,pe],styles:['.filter-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9ecef;border-radius:8px;margin-bottom:1rem;box-shadow:0 2px 4px #0000000d}.filter-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e9ecef;background:#f8f9fa;border-radius:8px 8px 0 0}.filter-header.collapsible[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.filter-header.collapsible[_ngcontent-%COMP%]:hover{background:#e9ecef}.filter-title[_ngcontent-%COMP%]{font-weight:600;color:#495057;display:flex;align-items:center}.header-actions[_ngcontent-%COMP%]{min-height:2rem}.filter-content[_ngcontent-%COMP%]{transition:all .3s ease;overflow:hidden}.filter-content.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0}.filter-content.show[_ngcontent-%COMP%]{max-height:none;opacity:1}.filter-form[_ngcontent-%COMP%]{padding:1rem}.filter-group[_ngcontent-%COMP%]{margin-bottom:0}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;margin-bottom:.5rem;font-size:.875rem}.form-label.small[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:6px;padding:.5rem .75rem;font-size:.875rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40}.date-presets[_ngcontent-%COMP%]{margin-bottom:1rem}.date-presets[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem .75rem}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:4px}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid #dee2e6}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#ced4da}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#6c757d;border-color:#6c757d;color:#fff}.filter-actions[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:0 0 8px 8px;margin:0 -1rem -1rem;padding:1rem}.form-check[_ngcontent-%COMP%]{margin-top:.5rem}.form-check-input[_ngcontent-%COMP%]{margin-top:.25rem}.form-check-label[_ngcontent-%COMP%]{font-size:.875rem;color:#495057}select[multiple][_ngcontent-%COMP%]{min-height:120px;background-image:none}select[multiple][_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.25rem .5rem}select[multiple][_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked{background-color:#007bff;color:#fff}.btn-sm[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem .75rem}.btn-link[_ngcontent-%COMP%]{color:#6c757d;text-decoration:none}.btn-link[_ngcontent-%COMP%]:hover{color:#495057}@media (max-width: 768px){.filter-header[_ngcontent-%COMP%], .filter-form[_ngcontent-%COMP%]{padding:.75rem}.filter-actions[_ngcontent-%COMP%]{padding:.75rem;margin:0 -.75rem -.75rem}.header-actions[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.filter-actions[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column}.filter-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@keyframes _ngcontent-%COMP%_slideDown{0%{max-height:0;opacity:0}to{max-height:500px;opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{max-height:500px;opacity:1}to{max-height:0;opacity:0}}.filter-content.show[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}.filter-content.collapsed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}.filter-panel[_ngcontent-%COMP%]:focus-within   .filter-header[_ngcontent-%COMP%]{border-color:#80bdff}.filter-form.loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.filter-form.loading[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#fffc;display:flex;align-items:center;justify-content:center;z-index:10}']})};var st=(n,t)=>t.title;function ct(n,t){if(n&1&&(r(0,"div",2)(1,"div",3)(2,"div",16)(3,"div",17)(4,"h5",5),g(5,"i",18),l(6),o()(),r(7,"div",19)(8,"div",20)(9,"div",21)(10,"div",22)(11,"label",23),l(12),o(),r(13,"div",24),l(14),o()()(),r(15,"div",21)(16,"div",22)(17,"label",23),l(18),o(),r(19,"div",24),l(20),o()()(),r(21,"div",21)(22,"div",22)(23,"label",23),l(24),o(),r(25,"div",24),l(26),o()()(),r(27,"div",21)(28,"div",22)(29,"label",23),l(30),o(),r(31,"div",24),l(32),o()()()()()()()()),n&2){let e,a,d,_,b=s();i(6),m(" ",b.i18n.t("employees.employee_information")," "),i(6),c(b.i18n.t("employees.employee_number")),i(2),c((e=b.employee())==null?null:e.employeeNumber),i(4),c(b.i18n.t("employees.full_name")),i(2),c((a=b.employee())==null?null:a.fullName),i(4),c(b.i18n.t("employees.department")),i(2),c(((d=b.employee())==null?null:d.departmentName)||"--"),i(4),c(b.i18n.t("employees.branch")),i(2),c(((_=b.employee())==null?null:_.branchName)||"--")}}function mt(n,t){if(n&1&&(r(0,"div",25),g(1,"app-attendance-summary-card",26),o()),n&2){let e=t.$implicit,a=s(2);i(),f("data",e)("loading",a.loading())("showProgress",!!e.percentage)("clickable",!!e.link)}}function pt(n,t){if(n&1&&(r(0,"div",2),D(1,mt,2,4,"div",25,st),o()),n&2){let e=s();i(),P(e.summaryCards())}}function ut(n,t){if(n&1&&(r(0,"div",2)(1,"div",27)(2,"div",28)(3,"div",29)(4,"h5",5),g(5,"i",30),l(6),o()(),r(7,"div",19),g(8,"app-attendance-chart",31),o()()(),r(9,"div",27)(10,"div",28)(11,"div",17)(12,"h5",5),g(13,"i",32),l(14),o()(),r(15,"div",19)(16,"div",33)(17,"div",34)(18,"div",35)(19,"h3",36),l(20),o(),r(21,"small",37),l(22),o()()(),r(23,"div",34)(24,"div",35)(25,"h3",38),l(26),o(),r(27,"small",37),l(28),o()()(),r(29,"div",34)(30,"div",35)(31,"h3",39),l(32),o(),r(33,"small",37),l(34),o()()(),r(35,"div",34)(36,"div",35)(37,"h3",40),l(38),o(),r(39,"small",37),l(40),o()()()(),r(41,"div",41)(42,"h6",42),l(43),o(),r(44,"div",43)(45,"span",37),l(46),o(),r(47,"strong"),l(48),$(49,"date"),o()(),r(50,"div",43)(51,"span",37),l(52),o(),r(53,"strong"),l(54),$(55,"date"),o()(),r(56,"div",43)(57,"span",37),l(58),o(),r(59,"strong"),l(60),o()()()()()()()),n&2){let e=s();i(6),m(" ",e.i18n.t("attendance.employee_history.attendance_distribution")," "),i(2),f("data",e.attendanceChartData())("type","doughnut")("height",300)("loading",e.loading()),i(6),m(" ",e.i18n.t("attendance.employee_history.performance_summary")," "),i(5),H(e.attendanceStats().attendanceRate>=90?"text-success":e.attendanceStats().attendanceRate>=75?"text-warning":"text-danger"),i(),m(" ",e.Math.round(e.attendanceStats().attendanceRate),"% "),i(2),c(e.i18n.t("attendance.attendance_rate")),i(4),c(e.attendanceStats().totalDays),i(2),c(e.i18n.t("attendance.employee_history.total_days")),i(4),c(e.formatHours(e.attendanceStats().totalWorkingHours)),i(2),c(e.i18n.t("attendance.total_working_hours")),i(4),c(e.formatLateTime(e.attendanceStats().totalLateMinutes)),i(2),c(e.i18n.t("attendance.total_late_time")),i(3),c(e.i18n.t("attendance.period_information")),i(3),m("",e.i18n.t("attendance.filters.start_date"),":"),i(2),c(z(49,23,e.startDate(),"shortDate")),i(4),m("",e.i18n.t("attendance.filters.end_date"),":"),i(2),c(z(55,26,e.endDate(),"shortDate")),i(4),m("",e.i18n.t("attendance.avg_per_day"),":"),i(2),c(e.formatHours(e.attendanceStats().avgWorkingHours))}}function ft(n,t){if(n&1&&(r(0,"div",13)(1,"div",44)(2,"span",45),l(3),o()(),r(4,"p",46),l(5),o()()),n&2){let e=s();i(3),c(e.i18n.t("app.loading")),i(2),c(e.i18n.t("attendance.messages.loading_employee_data"))}}function gt(n,t){if(n&1){let e=k();r(0,"div",14)(1,"div",47)(2,"div"),g(3,"i",48),l(4),o(),r(5,"button",49),v("click",function(){y(e);let d=s();return S(d.refresh())}),g(6,"i",50),l(7),o()()()}if(n&2){let e=s();i(4),m(" ",e.error()," "),i(3),m(" ",e.i18n.t("app.retry")," ")}}function _t(n,t){if(n&1){let e=k();r(0,"div",13),g(1,"i",56),r(2,"h5",37),l(3),o(),r(4,"p",37),l(5),o(),r(6,"button",57),v("click",function(){y(e);let d=s(2);return S(d.loadAttendanceData())}),g(7,"i",58),l(8),o()()}if(n&2){let e=s(2);i(3),c(e.i18n.t("attendance.no_records")),i(2),c(e.i18n.t("attendance.no_records_description")),i(3),m(" ",e.i18n.t("app.refresh")," ")}}function bt(n,t){if(n&1&&(r(0,"span",67),l(1),o()),n&2){let e=t.value;i(),c(e)}}function Ct(n,t){if(n&1&&g(0,"div",68),n&2){let e=t.value;f("innerHTML",e,K)}}function ht(n,t){if(n&1&&(r(0,"span"),l(1),o()),n&2){let e=t.value;H(e!=="--:--"?"text-success fw-medium":"text-muted"),i(),m(" ",e," ")}}function vt(n,t){if(n&1&&(r(0,"span"),l(1),o()),n&2){let e=t.value;H(e!=="--:--"?"text-danger fw-medium":"text-muted"),i(),m(" ",e," ")}}function xt(n,t){if(n&1&&(r(0,"span",69),l(1),o()),n&2){let e=t.value;i(),c(e)}}function yt(n,t){if(n&1&&(r(0,"span",37),l(1),o()),n&2){let e=t.value;i(),c(e)}}function St(n,t){if(n&1&&(r(0,"span"),l(1),o()),n&2){let e=t.value;H(e!=="--"?"text-warning fw-medium":"text-muted"),i(),m(" ",e," ")}}function Dt(n,t){if(n&1){let e=k();r(0,"div")(1,"app-data-table",59),v("sortChange",function(d){y(e);let _=s(2);return S(_.onSort(d))})("actionClick",function(d){y(e);let _=s(2);return S(_.onActionClick(d))})("pageChange",function(d){y(e);let _=s(2);return S(_.onPageChange(d))})("pageSizeChange",function(d){y(e);let _=s(2);return S(_.onPageSizeChange(d))}),w(2,60),E(3,bt,2,1,"ng-template",null,0,F),I(),w(5,61),E(6,Ct,1,1,"ng-template",null,0,F),I(),w(8,62),E(9,ht,2,3,"ng-template",null,0,F),I(),w(11,63),E(12,vt,2,3,"ng-template",null,0,F),I(),w(14,64),E(15,xt,2,1,"ng-template",null,0,F),I(),w(17,65),E(18,yt,2,1,"ng-template",null,0,F),I(),w(20,66),E(21,St,2,3,"ng-template",null,0,F),I(),o()()}if(n&2){let e=s(2);i(),f("data",e.tableData())("columns",e.tableColumns())("actions",e.tableActions())("loading",e.loading)("showPagination",!0)("currentPage",e.currentPage)("totalPages",e.tableTotalPages)("totalItems",e.tableTotalItems)("pageSize",e.pageSize)("sortColumn",e.sortColumn)("sortDirection",e.sortDirection)("responsiveMode","horizontal-scroll")("searchable",!0)("exportable",!0)}}function Pt(n,t){if(n&1&&(r(0,"div",15)(1,"div",17)(2,"div",4)(3,"h5",5),g(4,"i",51),l(5),o(),r(6,"div",52)(7,"span",53),l(8),$(9,"date"),$(10,"date"),o(),r(11,"span",54),l(12),o()()()(),r(13,"div",55),p(14,_t,9,3,"div",13),p(15,Dt,23,14,"div"),o()()),n&2){let e=s();i(5),m(" ",e.i18n.t("attendance.attendance_history")," "),i(3),X(" ",e.i18n.t("attendance.period"),": ",z(9,8,e.startDate(),"shortDate")," - ",z(10,11,e.endDate(),"shortDate")," "),i(4),Q("",e.filteredRecords().length," ",e.i18n.t("attendance.records")),i(2),u(e.filteredRecords().length===0?14:-1),i(),u(e.filteredRecords().length>0?15:-1)}}var Me=class n{constructor(t,e,a,d,_,b,C){this.attendanceService=t;this.employeesService=e;this.route=a;this.router=d;this.location=_;this.i18n=b;this.notificationService=C;this.employeeId=this.route.snapshot.paramMap.get("id")||this.route.snapshot.queryParamMap.get("employeeId");let T=this.route.snapshot.queryParamMap.get("year"),N=this.route.snapshot.queryParamMap.get("month");if(T&&N){let Y=new Date(parseInt(T),parseInt(N)-1,1),h=new Date(parseInt(T),parseInt(N),0),R=q=>{let Oe=q.getFullYear(),ke=String(q.getMonth()+1).padStart(2,"0"),Ee=String(q.getDate()).padStart(2,"0");return`${Oe}-${ke}-${Ee}`};this.startDate.set(R(Y)),this.endDate.set(R(h))}ee(()=>{this.tableTotalPages.set(this.totalPages()),this.tableTotalItems.set(this.totalItems())})}employeeId=null;Math=Math;employee=x(null);attendanceRecords=x([]);loading=x(!0);error=x(null);startDate=x(this.getDefaultStartDate());endDate=x(this.getDefaultEndDate());selectedStatus=x(null);currentPage=x(1);pageSize=x(10);sortColumn=x("attendanceDate");sortDirection=x("desc");tableTotalPages=x(1);tableTotalItems=x(0);filteredRecords=M(()=>{let t=this.attendanceRecords(),e=this.selectedStatus();return t.filter(a=>e===null||a.status===e)});sortedRecords=M(()=>{let t=[...this.filteredRecords()],e=this.sortColumn(),a=this.sortDirection();return e?t.sort((d,_)=>{let b=this.getValueForSorting(d,e),C=this.getValueForSorting(_,e);return b==null&&C==null?0:b==null?a==="asc"?1:-1:C==null||(typeof b=="string"&&(b=b.toLowerCase()),typeof C=="string"&&(C=C.toLowerCase()),b<C)?a==="asc"?-1:1:b>C?a==="asc"?1:-1:0}):t});totalItems=M(()=>this.sortedRecords().length);totalPages=M(()=>Math.ceil(this.totalItems()/this.pageSize()));paginatedRecords=M(()=>{let t=this.sortedRecords(),e=this.currentPage(),a=this.pageSize(),d=(e-1)*a,_=d+a;return t.slice(d,_)});attendanceStats=M(()=>{let t=this.filteredRecords(),e=t.length,a=t.filter(h=>h.status===1||h.status===3||h.status===7).length,d=t.filter(h=>h.status===2).length,_=t.filter(h=>h.status===3).length,b=t.filter(h=>h.status===7).length,C=t.reduce((h,R)=>h+(R.workingHours||0),0),T=e>0?C/e:0,N=t.reduce((h,R)=>h+(R.lateMinutes||0),0),Y=e>0?a/e*100:0;return{totalDays:e,presentDays:a,absentDays:d,lateDays:_,overtimeDays:b,avgWorkingHours:T,totalWorkingHours:C,totalLateMinutes:N,attendanceRate:Y}});summaryCards=M(()=>{let t=this.attendanceStats(),e=this.employee();return[{title:this.i18n.t("attendance.employee_history.total_days"),value:t.totalDays,icon:"fa-solid fa-calendar",color:"primary",subtitle:this.i18n.t("attendance.employee_history.period_covered")},{title:this.i18n.t("attendance.status.present"),value:t.presentDays,icon:"fa-solid fa-check-circle",color:"success",percentage:t.totalDays>0?Math.round(t.presentDays/t.totalDays*100):0,maxValue:t.totalDays},{title:this.i18n.t("attendance.status.absent"),value:t.absentDays,icon:"fa-solid fa-times-circle",color:"danger",percentage:t.totalDays>0?Math.round(t.absentDays/t.totalDays*100):0,maxValue:t.totalDays},{title:this.i18n.t("attendance.status.late"),value:t.lateDays,icon:"fa-solid fa-clock",color:"warning",percentage:t.totalDays>0?Math.round(t.lateDays/t.totalDays*100):0,maxValue:t.totalDays},{title:this.i18n.t("attendance.attendance_rate"),value:Math.round(t.attendanceRate)+"%",icon:"fa-solid fa-percentage",color:t.attendanceRate>=90?"success":t.attendanceRate>=75?"warning":"danger",trend:{value:Math.round(t.attendanceRate),isPositive:t.attendanceRate>=80,label:this.i18n.t("attendance.overall_performance")}},{title:this.i18n.t("attendance.total_working_hours"),value:this.formatHours(t.totalWorkingHours),icon:"fa-solid fa-business-time",color:"info",subtitle:this.i18n.t("attendance.avg_per_day")+": "+this.formatHours(t.avgWorkingHours)}]});attendanceChartData=M(()=>{let t=this.attendanceStats();return t.totalDays===0?{labels:[],datasets:[]}:{labels:[this.i18n.t("attendance.status.present"),this.i18n.t("attendance.status.absent"),this.i18n.t("attendance.status.late"),this.i18n.t("attendance.status.overtime")],datasets:[{label:this.i18n.t("attendance.employee_history.attendance_distribution"),data:[t.presentDays,t.absentDays,t.lateDays,t.overtimeDays],backgroundColor:["#198754","#dc3545","#ffc107","#0dcaf0"],borderColor:["#146c43","#b02a37","#d39e00","#0aa2c0"],borderWidth:2}]}});AttendanceStatus=xe;availableStatuses=[{value:null,label:"attendance.filters.all_statuses"},{value:1,label:"attendance.status.present"},{value:2,label:"attendance.status.absent"},{value:3,label:"attendance.status.late"},{value:4,label:"attendance.status.early_leave"},{value:5,label:"attendance.status.on_leave"},{value:7,label:"attendance.status.overtime"}];filterConfig={dateRange:{enabled:!0,startDate:this.getDefaultStartDate(),endDate:this.getDefaultEndDate()},status:{enabled:!0,multiple:!1,options:this.availableStatuses.map(t=>({value:t.value,label:t.label}))}};tableColumns=M(()=>[{key:"attendanceDate",label:this.i18n.t("attendance.fields.date"),sortable:!0,width:"120px"},{key:"status",label:this.i18n.t("attendance.fields.status"),sortable:!0,width:"120px",align:"center",renderHtml:!0},{key:"checkIn",label:this.i18n.t("attendance.fields.check_in"),sortable:!1,width:"100px",align:"center"},{key:"checkOut",label:this.i18n.t("attendance.fields.check_out"),sortable:!1,width:"100px",align:"center"},{key:"workingHours",label:this.i18n.t("attendance.fields.working_hours"),sortable:!0,width:"120px",align:"center"},{key:"scheduledHours",label:this.i18n.t("attendance.fields.scheduled_hours"),sortable:!0,width:"120px",align:"center"},{key:"lateMinutes",label:this.i18n.t("attendance.fields.total_late"),sortable:!0,width:"100px",align:"center"}]);tableActions=M(()=>[{key:"edit",label:this.i18n.t("attendance.actions.edit_record"),icon:"fa-edit",color:"secondary"}]);tableData=M(()=>this.paginatedRecords().map(t=>J(Z({},t),{attendanceDate:this.formatDate(t.attendanceDate),status:this.formatStatusForTable(t.status),checkIn:this.formatTime(this.getCheckInTime(t)),checkOut:this.formatTime(this.getCheckOutTime(t)),workingHours:this.formatHours(t.workingHours),scheduledHours:this.formatHours(t.scheduledHours),lateMinutes:this.formatLateTime(t.lateMinutes)})));ngOnInit(){this.employeeId?(this.loadEmployeeData(),this.loadAttendanceData()):(this.error.set("Employee ID not found"),this.loading.set(!1))}onFilterChange(t){t.dateRange&&(t.dateRange.startDate&&this.startDate.set(t.dateRange.startDate),t.dateRange.endDate&&this.endDate.set(t.dateRange.endDate),this.loadAttendanceData()),t.status!==void 0&&this.selectedStatus.set(t.status?Number(t.status):null)}ngOnDestroy(){}loadEmployeeData(){this.employeeId&&this.employeesService.getEmployeeById(parseInt(this.employeeId)).subscribe({next:t=>{this.employee.set(t)},error:t=>{console.error("Error loading employee data:",t),this.error.set("Failed to load employee information")}})}loadAttendanceData(){if(!this.employeeId)return;this.loading.set(!0),this.error.set(null);let t=this.startDate(),e=this.endDate(),a=parseInt(this.employeeId);this.attendanceService.getEmployeeAttendanceHistoryComplete(a,t,e).subscribe({next:d=>{this.attendanceRecords.set(d),this.loading.set(!1)},error:d=>{console.error("Error loading attendance data:",d),this.error.set("Failed to load attendance records"),this.loading.set(!1),this.notificationService.error("Failed to load attendance records")}})}onStartDateChange(t){let e=t.target;this.startDate.set(e.value)}onEndDateChange(t){let e=t.target;this.endDate.set(e.value)}onStatusChange(t){let e=t.target,a=e.value===""?null:parseInt(e.value);this.selectedStatus.set(a)}onSort(t){this.sortColumn.set(t.column),this.sortDirection.set(t.direction),this.currentPage.set(1)}onPageChange(t){this.currentPage.set(t)}onPageSizeChange(t){this.pageSize.set(t),this.currentPage.set(1)}onActionClick(t){let{action:e,item:a}=t;switch(e){case"edit":this.editAttendanceRecord(a);break;default:console.warn("Unknown action:",e)}}editAttendanceRecord(t){this.router.navigate(["/attendance/edit",t.id])}refresh(){this.loadEmployeeData(),this.loadAttendanceData()}goBack(){this.location.back()}exportData(){let t=this.filteredRecords();if(t.length===0){this.notificationService.warning("No data to export");return}let e=this.employee(),a=this.generateCSV(t),d=`employee-attendance-${e?.employeeNumber||this.employeeId}-${this.startDate()}-${this.endDate()}.csv`;this.downloadCSV(a,d),this.notificationService.success("Data exported successfully")}getDefaultStartDate(){let t=new Date;return t.setDate(t.getDate()-30),t.toISOString().split("T")[0]}getDefaultEndDate(){return new Date().toISOString().split("T")[0]}getValueForSorting(t,e){switch(e){case"attendanceDate":return t.attendanceDate;case"status":return t.status||0;case"workingHours":return t.workingHours||0;case"scheduledHours":return t.scheduledHours||0;case"lateMinutes":return t.lateMinutes||0;default:return t[e]}}getAttendanceRatePercentage(){return Math.round(this.attendanceStats().attendanceRate)}formatDate(t){try{return new Date(t).toLocaleDateString()}catch{return t}}formatTime(t){if(!t)return"--:--";try{let e=t;if(t.includes("T")&&(e=t.split("T")[1].split("Z")[0]),e.includes(":")){let a=new Date(`1970-01-01T${e}`);if(!isNaN(a.getTime()))return a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}return e}catch{return t||"--:--"}}getCheckInTime(t){return t.checkInTime||t.actualCheckInTime||null}getCheckOutTime(t){return t.checkOutTime||t.actualCheckOutTime||null}formatHours(t){if(!t||t===0)return"0h 0m";let e=Math.floor(t),a=Math.round((t-e)*60);return e===0?`${a}m`:a===0?`${e}h`:`${e}h ${a}m`}formatLateTime(t){if(!t||t===0)return"--";let e=Math.floor(t/60),a=t%60;return e===0?`${a}m`:a===0?`${e}h`:`${e}h ${a}m`}getStatusBadgeVariant(t){switch(t){case 1:return"success";case 2:case 8:return"danger";case 3:case 4:case 10:return"warning";case 5:case 12:case 13:return"info";case 7:case 14:return"primary";case 6:case 9:default:return"secondary"}}formatStatusForTable(t){let e=this.i18n.t(this.getStatusText(t));return`<span class="badge bg-${this.getStatusBadgeVariant(t)}">${e}</span>`}getStatusText(t){switch(t){case 1:return"attendance.status.present";case 2:return"attendance.status.absent";case 3:return"attendance.status.late";case 4:return"attendance.status.early_leave";case 5:return"attendance.status.on_leave";case 6:return"attendance.status.day_off";case 7:return"attendance.status.overtime";case 8:return"attendance.status.incomplete";case 9:return"attendance.status.holiday";case 10:return"attendance.status.sick_leave";case 11:return"attendance.status.pending";case 12:return"attendance.status.on_duty";case 13:return"attendance.status.excused";case 14:return"attendance.status.remote_work";default:return"attendance.status.pending"}}generateCSV(t){let e=this.employee(),a=["Date","Status","Check In","Check Out","Working Hours","Required Hours","Late Minutes"],d=t.map(C=>[this.formatDate(C.attendanceDate),this.i18n.t(this.getStatusText(C.status)),this.formatTime(this.getCheckInTime(C)),this.formatTime(this.getCheckOutTime(C)),this.formatHours(C.workingHours),this.formatHours(C.scheduledHours),this.formatLateTime(C.lateMinutes)]),_=`Employee Attendance Report
Employee: ${e?.fullName||""} (${e?.employeeNumber||""})
Period: ${this.startDate()} to ${this.endDate()}

`,b=[a,...d].map(C=>C.map(T=>`"${T}"`).join(",")).join(`
`);return _+b}downloadCSV(t,e){let a=new Blob([t],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");if(d.download!==void 0){let _=URL.createObjectURL(a);d.setAttribute("href",_),d.setAttribute("download",e),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)}}static \u0275fac=function(e){return new(e||n)(O(Se),O(ye),O(ie),O(ae),O(te),O(G),O(he))};static \u0275cmp=L({type:n,selectors:[["app-employee-attendance-detail"]],decls:23,vars:16,consts:[["cellTemplate",""],[1,"container-fluid","p-4"],[1,"row","mb-4"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],["type","button",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-arrow-left","me-2"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],[1,"fa-solid","fa-refresh","me-2"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"fa-solid","fa-download","me-2"],[1,"mb-4",3,"filterChange","config","loading"],[1,"text-center","py-5"],[1,"alert","alert-danger"],[1,"card"],[1,"card","employee-info-card"],[1,"card-header"],[1,"fa-solid","fa-user","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"col-xl-2","col-lg-4","col-md-6","mb-3"],[3,"data","loading","showProgress","clickable"],[1,"col-lg-6","mb-4"],[1,"card","h-100"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-chart-pie","me-2"],[3,"data","type","height","loading"],[1,"fa-solid","fa-chart-bar","me-2"],[1,"row","text-center"],[1,"col-6","mb-3"],[1,"border","rounded","p-3"],[1,"mb-1"],[1,"text-muted"],[1,"text-primary","mb-1"],[1,"text-info","mb-1"],[1,"text-warning","mb-1"],[1,"mt-3","pt-3","border-top"],[1,"mb-2"],[1,"d-flex","justify-content-between","text-sm"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"d-flex","justify-content-between","align-items-start"],[1,"fa-solid","fa-exclamation-triangle","me-2"],["type","button",1,"btn","btn-outline-danger","btn-sm","ms-2",3,"click"],[1,"fa-solid","fa-refresh","me-1"],[1,"fa-solid","fa-table","me-2"],[1,"d-flex","align-items-center"],[1,"badge","bg-light","text-dark","me-2"],[1,"badge","bg-primary"],[1,"card-body","p-0"],[1,"fa-solid","fa-calendar-xmark","fa-3x","text-muted","mb-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-refresh"],[1,"table-hover",3,"sortChange","actionClick","pageChange","pageSizeChange","data","columns","actions","loading","showPagination","currentPage","totalPages","totalItems","pageSize","sortColumn","sortDirection","responsiveMode","searchable","exportable"],["customCell","attendanceDate"],["customCell","status"],["customCell","checkIn"],["customCell","checkOut"],["customCell","workingHours"],["customCell","scheduledHours"],["customCell","lateMinutes"],[1,"fw-medium"],[3,"innerHTML"],[1,"fw-medium","text-primary"]],template:function(e,a){e&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),l(5),o(),r(6,"div")(7,"button",6),v("click",function(){return a.goBack()}),g(8,"i",7),l(9),o(),r(10,"button",8),v("click",function(){return a.refresh()}),g(11,"i",9),l(12),o(),r(13,"button",10),v("click",function(){return a.exportData()}),g(14,"i",11),l(15),o()()()()(),p(16,ct,33,9,"div",2),r(17,"app-filter-panel",12),v("filterChange",function(_){return a.onFilterChange(_)}),o(),p(18,pt,3,0,"div",2),p(19,ut,61,29,"div",2),p(20,ft,6,2,"div",13),p(21,gt,8,2,"div",14),p(22,Pt,16,14,"div",15),o()),e&2&&(i(5),c(a.i18n.t("attendance.employee_history.title")),i(4),m("",a.i18n.t("app.back")," "),i(),f("disabled",a.loading()),i(),V("fa-spin",a.loading()),i(),m("",a.i18n.t("app.refresh")," "),i(),f("disabled",a.loading()||a.attendanceRecords().length===0),i(2),m("",a.i18n.t("attendance.actions.export_data")," "),i(),u(a.employee()&&!a.loading()?16:-1),i(),f("config",a.filterConfig)("loading",a.loading()),i(),u(!a.loading()&&a.attendanceRecords().length>0?18:-1),i(),u(!a.loading()&&a.attendanceRecords().length>0?19:-1),i(),u(a.loading()?20:-1),i(),u(a.error()?21:-1),i(),u(!a.loading()&&!a.error()?22:-1))},dependencies:[j,W,ve,U,De,Pe,ne],styles:['.employee-attendance-detail[_ngcontent-%COMP%]{padding:1.5rem;min-height:calc(100vh - 120px);background:linear-gradient(135deg,#f8f9fa,#e9ecef);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.page-title[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin-bottom:.5rem}.employee-info-card[_ngcontent-%COMP%]{border:none;border-radius:16px;box-shadow:0 4px 20px #00000014;transition:all .4s cubic-bezier(.4,0,.2,1);background:#fff;overflow:hidden}.employee-info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 40px #0000001f}.employee-info-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-bottom:1px solid #f1f3f4;border-radius:16px 16px 0 0;padding:1.5rem 1.75rem;position:relative}.employee-info-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:1.75rem;right:1.75rem;height:2px;background:linear-gradient(90deg,var(--bs-primary),var(--bs-info));border-radius:1px}.employee-info-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.75rem}.info-item[_ngcontent-%COMP%]{margin-bottom:1rem}.info-label[_ngcontent-%COMP%]{font-weight:600;color:#6c757d;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem;display:block}.info-value[_ngcontent-%COMP%]{font-size:1rem;color:#495057;font-weight:500}.stats-card[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.4,0,.2,1);border-radius:16px;box-shadow:0 4px 16px #0000000f;border:none;background:#fff;overflow:hidden;position:relative}.stats-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--bs-primary),var(--bs-info));opacity:0;transition:opacity .3s ease}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 8px 32px #0000001f}.stats-card[_ngcontent-%COMP%]:hover:before{opacity:1}.icon-circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center}.icon-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.table-responsive[_ngcontent-%COMP%]{border-radius:12px;overflow:visible;box-shadow:0 4px 20px #00000014;background:#fff;margin-bottom:2rem}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:1.25rem 1rem;border-bottom:1px solid #f1f3f4;vertical-align:middle}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-left:3px solid transparent}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#f8f9ff,#fff);border-left-color:#0d6efd;transform:translate(2px);box-shadow:0 2px 8px #0d6efd1a}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-top:none;border-bottom:2px solid #dee2e6;font-weight:700;text-transform:uppercase;font-size:.8rem;letter-spacing:.8px;color:#495057;position:sticky;top:0;z-index:10}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:12px;border:2px solid #e9ecef;transition:all .3s cubic-bezier(.4,0,.2,1);padding:.75rem 1rem;font-size:.9rem;background:#fff;box-shadow:0 2px 4px #0000000a}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .25rem #0d6efd26,0 4px 12px #00000014;transform:translateY(-1px)}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.75rem;font-size:.875rem}.btn[_ngcontent-%COMP%]{border-radius:12px;font-weight:600;padding:.75rem 1.5rem;border:none;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #0000001a;position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transition:left .5s}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #0000001a}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.card[_ngcontent-%COMP%]{border:none;border-radius:16px;box-shadow:0 4px 20px #00000014;transition:all .4s cubic-bezier(.4,0,.2,1);background:#fff;overflow:hidden}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 40px #0000001f}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-bottom:1px solid #f1f3f4;border-radius:16px 16px 0 0;padding:1.5rem 1.75rem;position:relative}.card-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:1.75rem;right:1.75rem;height:2px;background:linear-gradient(90deg,var(--bs-primary),var(--bs-info));border-radius:1px}.card-body[_ngcontent-%COMP%]{padding:1.75rem}.fa-calendar-xmark[_ngcontent-%COMP%]{opacity:.5}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.border-success[_ngcontent-%COMP%]{border-color:#198754!important;background:linear-gradient(135deg,#1987540d,#fff)}.border-danger[_ngcontent-%COMP%]{border-color:#dc3545!important;background:linear-gradient(135deg,#dc35450d,#fff)}.border-warning[_ngcontent-%COMP%]{border-color:#fd7e14!important;background:linear-gradient(135deg,#fd7e140d,#fff)}.border-info[_ngcontent-%COMP%]{border-color:#0dcaf0!important;background:linear-gradient(135deg,#0dcaf00d,#fff)}.border-primary[_ngcontent-%COMP%]{border-color:#0d6efd!important;background:linear-gradient(135deg,#0d6efd0d,#fff)}.border-secondary[_ngcontent-%COMP%]{border-color:#6c757d!important;background:linear-gradient(135deg,#6c757d0d,#fff)}.badge.bg-success[_ngcontent-%COMP%]{background-color:#198754!important}.badge.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545!important}.badge.bg-warning[_ngcontent-%COMP%]{background-color:#fd7e14!important;color:#fff}.badge.bg-info[_ngcontent-%COMP%]{background-color:#0dcaf0!important;color:#000}.badge.bg-secondary[_ngcontent-%COMP%]{background-color:#6c757d!important}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#0d6efd!important}@media (max-width: 768px){.employee-attendance-detail[_ngcontent-%COMP%]{padding:1rem;background:linear-gradient(135deg,#f8f9fa,#fff)}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}.d-flex.justify-content-between[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;align-items:center}.stats-card[_ngcontent-%COMP%]{margin-bottom:1rem}.stats-card[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.5rem}.stats-card[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{margin:0 auto .75rem;width:56px;height:56px}.table-responsive[_ngcontent-%COMP%]{font-size:.85rem;border-radius:8px;margin:0 -.5rem}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.75rem .5rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.btn-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:16px}.card-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.employee-info-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{row-gap:1rem}}']})};export{Me as EmployeeAttendanceDetailComponent};
