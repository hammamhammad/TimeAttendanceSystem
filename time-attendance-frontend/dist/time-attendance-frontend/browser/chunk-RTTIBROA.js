import{a as Q,b as X,c as Z}from"./chunk-QFQY3MFX.js";import{a as K}from"./chunk-GC4SRGYM.js";import{a as J}from"./chunk-JTZMRZUG.js";import{a as z}from"./chunk-GC2ZOSF6.js";import{a as C,b as S}from"./chunk-5BLMYARA.js";import"./chunk-O7VLIHRG.js";import{b as q}from"./chunk-MCSGSJCX.js";import{C as e,H as U,L as h,R as _,S as u,X as w,Y as n,Z as t,_ as x,ab as B,fa as T,ha as b,ib as H,ja as c,lb as W,mb as F,s as E,sa as l,t as I,ta as m,u as g,ua as p,va as G,y as f}from"./chunk-H3A4D7EH.js";import"./chunk-DGAILPFQ.js";function te(a,r){if(a&1){let i=T();n(0,"button",15),b("click",function(){I(i);let s=c();return g(s.onEdit())}),x(1,"i",16),l(2),t()}if(a&2){let i=c();e(2),p(" ",i.t("employees.edit")," ")}}function ne(a,r){if(a&1&&(n(0,"div",12)(1,"div",17)(2,"span",18),l(3),t()()()),a&2){let i=c();e(3),m(i.t("common.loading"))}}function ie(a,r){if(a&1&&(n(0,"dt",30),l(1),t(),n(2,"dd",31),l(3),t()),a&2){let i=c(2);e(),p("",i.t("employees.date_of_birth"),":"),e(2),m(i.formatDate(i.employee().dateOfBirth))}}function le(a,r){if(a&1&&(n(0,"span",35),l(1),t()),a&2){let i=c(2);e(),m(i.t("common.active"))}}function ae(a,r){if(a&1&&(n(0,"span",36),l(1),t()),a&2){let i=c(2);e(),m(i.t("common.inactive"))}}function oe(a,r){if(a&1&&(n(0,"div",33)(1,"h6",34),l(2),t(),n(3,"span",43),l(4),t()()),a&2){let i=c(2);e(2),m(i.t("employees.gender.title")),e(2),m(i.getGenderLabel(i.employee().gender))}}function me(a,r){if(a&1&&(n(0,"div",44)(1,"small",27),l(2),t(),x(3,"br"),n(4,"span"),l(5),t()()),a&2){let i,d=c(3);e(2),m(d.t("employees.first_name_ar")),e(3),m((i=d.employee())==null?null:i.firstNameAr)}}function re(a,r){if(a&1&&(n(0,"div",44)(1,"small",27),l(2),t(),x(3,"br"),n(4,"span"),l(5),t()()),a&2){let i,d=c(3);e(2),m(d.t("employees.last_name_ar")),e(3),m((i=d.employee())==null?null:i.lastNameAr)}}function de(a,r){if(a&1&&(n(0,"div")(1,"small",27),l(2),t(),x(3,"br"),n(4,"span"),l(5),t()()),a&2){let i,d=c(3);e(2),m(d.t("employees.job_title_ar")),e(3),m((i=d.employee())==null?null:i.jobTitleAr)}}function pe(a,r){if(a&1&&(n(0,"div",38)(1,"div",21)(2,"h6",22),l(3),t()(),n(4,"div",28),_(5,me,6,2,"div",44),_(6,re,6,2,"div",44),_(7,de,6,2,"div"),t()()),a&2){let i,d,s,y=c(2);e(3),m(y.t("employees.arabic_names")),e(2),u((i=y.employee())!=null&&i.firstNameAr?5:-1),e(),u((d=y.employee())!=null&&d.lastNameAr?6:-1),e(),u((s=y.employee())!=null&&s.jobTitleAr?7:-1)}}function ce(a,r){if(a&1){let i=T();n(0,"button",45),b("click",function(){I(i);let s=c(2);return g(s.onEdit())}),x(1,"i",16),l(2),t()}if(a&2){let i=c(2);e(2),p(" ",i.t("employees.edit")," ")}}function se(a,r){if(a&1&&(n(0,"button",41),x(1,"i",46),l(2),t()),a&2){let i=c(2);e(2),p(" ",i.t("employees.deactivate")," ")}}function _e(a,r){if(a&1&&(n(0,"button",42),x(1,"i",47),l(2),t()),a&2){let i=c(2);e(2),p(" ",i.t("employees.activate")," ")}}function ue(a,r){if(a&1&&(n(0,"div",13)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h5",22)(5,"div",23)(6,"div",24)(7,"div",25),l(8),t()(),n(9,"div")(10,"div",26),l(11),t(),n(12,"small",27),l(13),t()()()()(),n(14,"div",28)(15,"div",13)(16,"div",29)(17,"dl",13)(18,"dt",30),l(19),t(),n(20,"dd",31),l(21),t(),n(22,"dt",30),l(23),t(),n(24,"dd",31),l(25),t(),n(26,"dt",30),l(27),t(),n(28,"dd",31),l(29),t(),n(30,"dt",30),l(31),t(),n(32,"dd",31),l(33),t(),n(34,"dt",30),l(35),t(),n(36,"dd",31),l(37),t(),n(38,"dt",30),l(39),t(),n(40,"dd",31),l(41),t()()(),n(42,"div",29)(43,"dl",13)(44,"dt",30),l(45),t(),n(46,"dd",31),l(47),t(),n(48,"dt",30),l(49),t(),n(50,"dd",31),l(51),t(),n(52,"dt",30),l(53),t(),n(54,"dd",31),l(55),t(),n(56,"dt",30),l(57),t(),n(58,"dd",31),l(59),t(),n(60,"dt",30),l(61),t(),n(62,"dd",31),l(63),t(),_(64,ie,4,2),t()()()()()(),n(65,"div",32)(66,"div",20)(67,"div",21)(68,"h6",22),l(69),t()(),n(70,"div",28)(71,"div",33)(72,"h6",34),l(73),t(),_(74,le,2,1,"span",35)(75,ae,2,1,"span",36),t(),n(76,"div",33)(77,"h6",34),l(78),t(),n(79,"span",37),l(80),t()(),n(81,"div",33)(82,"h6",34),l(83),t(),n(84,"span",36),l(85),t()(),_(86,oe,5,2,"div",33),n(87,"div")(88,"h6",34),l(89),t(),n(90,"small",27),l(91),t()()()(),_(92,pe,8,4,"div",38),n(93,"div",38)(94,"div",21)(95,"h6",22),l(96),t()(),n(97,"div",28)(98,"div",39),h(99,ce,3,1,"button",40),_(100,se,3,1,"button",41)(101,_e,3,1,"button",42),t()()()()()),a&2){let i,d,s,y,N,L,V,k,A,P,D,M,O,j,$,Y,v,R,o=c();e(8),G(" ",(((i=o.employee())==null||i.firstName==null?null:i.firstName.charAt(0))||"")==null?null:(((i=i)==null||i.firstName==null?null:i.firstName.charAt(0))||"").toUpperCase(),"",(((i=o.employee())==null||i.lastName==null?null:i.lastName.charAt(0))||"")==null?null:(((i=i)==null||i.lastName==null?null:i.lastName.charAt(0))||"").toUpperCase()," "),e(3),m((d=o.employee())==null?null:d.fullName),e(2),m((s=o.employee())==null?null:s.employeeNumber),e(6),p("",o.t("employees.employee_number"),":"),e(2),m((y=o.employee())==null?null:y.employeeNumber),e(2),p("",o.t("employees.first_name"),":"),e(2),m((N=o.employee())==null?null:N.firstName),e(2),p("",o.t("employees.last_name"),":"),e(2),m((L=o.employee())==null?null:L.lastName),e(2),p("",o.t("employees.email"),":"),e(2),m(((V=o.employee())==null?null:V.email)||"-"),e(2),p("",o.t("employees.phone"),":"),e(2),m(((k=o.employee())==null?null:k.phone)||"-"),e(2),p("",o.t("employees.national_id"),":"),e(2),m(((A=o.employee())==null?null:A.nationalId)||"-"),e(4),p("",o.t("employees.job_title"),":"),e(2),m((P=o.employee())==null?null:P.jobTitle),e(2),p("",o.t("employees.branch"),":"),e(2),m((D=o.employee())==null?null:D.branchName),e(2),p("",o.t("employees.department"),":"),e(2),m(((M=o.employee())==null?null:M.departmentName)||"-"),e(2),p("",o.t("employees.manager"),":"),e(2),m(((O=o.employee())==null?null:O.managerName)||"-"),e(2),p("",o.t("employees.hire_date"),":"),e(2),m(o.formatDate(o.employee().hireDate)),e(),u((j=o.employee())!=null&&j.dateOfBirth?64:-1),e(5),m(o.t("employees.employment_details")),e(4),m(o.t("common.status")),e(),u(($=o.employee())!=null&&$.isActive?74:75),e(4),m(o.t("employees.employment_status.title")),e(2),m(o.getEmploymentStatusLabel(o.employee().employmentStatus)),e(3),m(o.t("employees.work_location.title")),e(2),m(o.getWorkLocationTypeLabel(o.employee().workLocationType)),e(),u((Y=o.employee())!=null&&Y.gender?86:-1),e(3),m(o.t("employees.created_at")),e(2),m(o.formatDate(o.employee().createdAtUtc)),e(),u((v=o.employee())!=null&&v.firstNameAr||(v=o.employee())!=null&&v.lastNameAr||(v=o.employee())!=null&&v.jobTitleAr?92:-1),e(4),m(o.t("common.actions")),e(3),w("appHasPermission",o.PERMISSIONS.EMPLOYEE_UPDATE),e(),u((R=o.employee())!=null&&R.isActive?100:101)}}function xe(a,r){if(a&1&&(n(0,"div",14),x(1,"i",48),l(2),t()),a&2){let i=c();e(2),p(" ",i.error()||i.t("employees.employee_not_found")," ")}}var ee=class a{router=E(W);route=E(H);employeesService=E(K);i18n=E(q);permissionService=E(z);loading=f(!1);error=f(null);employee=f(null);employeeId=0;PERMISSIONS={EMPLOYEE_UPDATE:`${S.EMPLOYEE}.${C.UPDATE}`,EMPLOYEE_DELETE:`${S.EMPLOYEE}.${C.DELETE}`,EMPLOYEE_MANAGE:`${S.EMPLOYEE}.${C.MANAGE}`};ngOnInit(){this.employeeId=+this.route.snapshot.params.id,this.employeeId?this.loadEmployee():this.router.navigate(["/employees"])}loadEmployee(){this.loading.set(!0),this.employeesService.getEmployeeById(this.employeeId).subscribe({next:r=>{this.employee.set(r),this.loading.set(!1)},error:r=>{this.error.set("Failed to load employee"),this.loading.set(!1),console.error("Error loading employee:",r)}})}onEdit(){this.router.navigate(["/employees",this.employeeId,"edit"])}onBack(){this.router.navigate(["/employees"])}formatDate(r){return new Date(r).toLocaleDateString()}getEmploymentStatusLabel(r){return this.t(`employees.employment_status.${X[r].toLowerCase()}`)}getGenderLabel(r){return this.t(`employees.gender.${Q[r].toLowerCase()}`)}getWorkLocationTypeLabel(r){return this.t(`employees.work_location.${Z[r].toLowerCase()}`)}t(r){return this.i18n.t(r)}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=U({type:a,selectors:[["app-view-employee"]],decls:23,vars:7,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/employees"],[1,"breadcrumb-item","active"],[1,"btn-group"],["type","button","class","btn btn-primary",3,"click",4,"appHasPermission"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","justify-content-center","py-5"],[1,"row"],[1,"alert","alert-danger"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-edit","me-2"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"col-lg-8"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"d-flex","align-items-center"],[1,"avatar-sm","me-3"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle"],[1,"fw-medium"],[1,"text-muted"],[1,"card-body"],[1,"col-md-6"],[1,"col-sm-5"],[1,"col-sm-7"],[1,"col-lg-4"],[1,"mb-3"],[1,"fw-semibold"],[1,"badge","bg-success"],[1,"badge","bg-secondary"],[1,"badge","bg-info"],[1,"card","mt-3"],[1,"d-grid","gap-2"],["type","button","class","btn btn-outline-primary",3,"click",4,"appHasPermission"],["type","button",1,"btn","btn-outline-warning"],["type","button",1,"btn","btn-outline-success"],[1,"badge","bg-light","text-dark"],[1,"mb-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fa-solid","fa-user-slash","me-2"],[1,"fa-solid","fa-user-check","me-2"],[1,"fa-solid","fa-exclamation-triangle","me-2"]],template:function(i,d){i&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),l(4),t(),n(5,"nav",2)(6,"ol",3)(7,"li",4)(8,"a",5),l(9),t()(),n(10,"li",4)(11,"a",6),l(12),t()(),n(13,"li",7),l(14),t()()()(),n(15,"div",8),h(16,te,3,1,"button",9),n(17,"button",10),b("click",function(){return d.onBack()}),x(18,"i",11),l(19),t()()(),_(20,ne,4,1,"div",12)(21,ue,102,41,"div",13)(22,xe,3,1,"div",14),t()),i&2&&(e(4),m(d.t("employees.view_details")),e(5),m(d.t("dashboard.title")),e(3),m(d.t("employees.title")),e(2),m(d.t("employees.view_details")),e(2),w("appHasPermission",d.PERMISSIONS.EMPLOYEE_UPDATE),e(3),p(" ",d.t("common.back")," "),e(),u(d.loading()?20:d.employee()?21:22))},dependencies:[B,F,J],styles:[".avatar-sm[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center}.avatar-title[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem}"]})};export{ee as ViewEmployeeComponent};
