{
  "version": 3,
  "sources": ["src/app/pages/departments/create-department/create-department.component.ts"],
  "sourcesContent": ["import { Component, inject, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterModule } from '@angular/router';\nimport { DepartmentFormComponent } from '../department-form/department-form.component';\nimport { Department, DepartmentDto, CreateDepartmentRequest, UpdateDepartmentRequest } from '../../../shared/models/department.model';\nimport { I18nService } from '../../../core/i18n/i18n.service';\nimport { DepartmentsService } from '../departments.service';\n\n@Component({\n  selector: 'app-create-department',\n  standalone: true,\n  imports: [CommonModule, RouterModule, DepartmentFormComponent],\n  template: `\n    <div class=\"container-fluid\">\n      <!-- Header -->\n      <div class=\"d-flex justify-content-between align-items-center mb-4\">\n        <div>\n          <h2>{{ i18n.t('department.create') }}</h2>\n          <nav aria-label=\"breadcrumb\">\n            <ol class=\"breadcrumb\">\n              <li class=\"breadcrumb-item\">\n                <a routerLink=\"/dashboard\">{{ i18n.t('dashboard.title') }}</a>\n              </li>\n              <li class=\"breadcrumb-item\">\n                <a routerLink=\"/departments\">{{ i18n.t('departments.title') }}</a>\n              </li>\n              <li class=\"breadcrumb-item active\">{{ i18n.t('department.create') }}</li>\n            </ol>\n          </nav>\n        </div>\n        <button \n          type=\"button\" \n          class=\"btn btn-outline-secondary\"\n          (click)=\"onCancel()\">\n          <i class=\"fa-solid fa-arrow-left me-2\"></i>\n          {{ i18n.t('common.back') }}\n        </button>\n      </div>\n\n      @if (error()) {\n        <div class=\"alert alert-danger\">\n          <i class=\"fa-solid fa-exclamation-triangle me-2\"></i>\n          {{ error() }}\n        </div>\n      }\n\n      <!-- Main Form Card -->\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5 class=\"card-title mb-0\">\n            <i class=\"fa-solid fa-building me-2\"></i>\n            {{ i18n.t('department.information') }}\n          </h5>\n        </div>\n        <div class=\"card-body\">\n          <app-department-form\n            [externalSaving]=\"saving()\"\n            (save)=\"onDepartmentCreated($event)\"\n            (cancel)=\"onCancel()\">\n          </app-department-form>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class CreateDepartmentComponent {\n  private router = inject(Router);\n  private departmentsService = inject(DepartmentsService);\n  public i18n = inject(I18nService);\n\n  saving = signal(false);\n  error = signal('');\n\n  onDepartmentCreated(department: CreateDepartmentRequest | UpdateDepartmentRequest): void {\n    if (this.saving()) return;\n\n    this.saving.set(true);\n    this.error.set('');\n\n    const createRequest = department as CreateDepartmentRequest;\n\n    this.departmentsService.createDepartment(createRequest).subscribe({\n      next: (response) => {\n        console.log('Department created successfully:', response);\n        this.saving.set(false);\n        this.router.navigate(['/departments']);\n      },\n      error: (error) => {\n        console.error('Error creating department:', error);\n        this.error.set(this.getErrorMessage(error));\n        this.saving.set(false);\n      }\n    });\n  }\n\n  onCancel(): void {\n    this.router.navigate(['/departments']);\n  }\n\n  private getErrorMessage(error: any): string {\n    if (error?.error?.error) {\n      return error.error.error;\n    }\n    return this.i18n.t('errors.unknown');\n  }\n}"],
  "mappings": "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",
  "names": []
}
