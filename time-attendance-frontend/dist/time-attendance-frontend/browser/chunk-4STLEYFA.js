import{a as ue}from"./chunk-H5EPUHY6.js";import{a as pe}from"./chunk-MUNQGSPX.js";import"./chunk-Y62N6K5S.js";import{a as fe}from"./chunk-HHXRLUSQ.js";import{b as me}from"./chunk-S3CAEY4A.js";import{b as D}from"./chunk-TJ2U7DWW.js";import{c as re,e as se,g as z,h as le,i as ce,m as de}from"./chunk-TWXUAMJ4.js";import{$a as K,Ab as I,Bb as c,Cb as x,Db as M,Ea as S,I as te,Ka as ie,M as ne,Mb as V,Nb as oe,R as y,Ta as T,W as f,X as u,Xa as m,Ya as p,Yb as U,ab as N,bb as h,cb as s,da as C,db as l,eb as v,f as Q,fb as d,gb as g,hb as w,lb as b,n as X,nb as L,nc as ae,ob as _,pb as r,ta as o,u as Z,w as ee,wc as k,ya as F,yb as O}from"./chunk-JSQL33QG.js";import{a as H}from"./chunk-DGAILPFQ.js";var j=class i{menuItems=C([{path:"/dashboard",titleKey:"nav.dashboard",icon:"fa-solid fa-chart-line",permission:void 0},{path:"/users",titleKey:"nav.users",icon:"fa-solid fa-users",permission:"user.read"},{path:"/employees",titleKey:"nav.employees",icon:"fa-solid fa-id-card",permission:"employee.read"},{path:"/roles",titleKey:"nav.roles",icon:"fa-solid fa-user-shield",permission:"role.read"},{path:"/branches",titleKey:"nav.branches",icon:"fa-solid fa-code-branch",permission:"branch.read"},{path:"/departments",titleKey:"nav.departments",icon:"fa-solid fa-sitemap",permission:"department.read"},{path:"/shifts",titleKey:"nav.shifts",icon:"fa-solid fa-clock",permission:void 0,children:[{path:"/shifts",titleKey:"shifts.title",icon:"fa-solid fa-clock",permission:"shift.read"},{path:"/shifts/assign",titleKey:"shifts.assignments.title",icon:"fa-solid fa-user-clock",permission:"shift.assign"}]},{path:"/attendance",titleKey:"nav.attendance",icon:"fa-solid fa-calendar-check",permission:void 0,children:[{path:"/attendance",titleKey:"attendance.dashboard_title",icon:"fa-solid fa-chart-line",permission:"attendance.read"},{path:"/attendance/daily",titleKey:"attendance.daily_view",icon:"fa-solid fa-calendar-day",permission:"attendance.read"},{path:"/attendance/monthly-report",titleKey:"attendance.monthly_report",icon:"fa-solid fa-calendar-alt",permission:"attendance.read"}]},{path:"/reports",titleKey:"nav.reports",icon:"fa-solid fa-chart-bar",permission:void 0,children:[{path:"/reports/sessions",titleKey:"sessions.title",icon:"fa-solid fa-wifi",permission:"session.read"},{path:"/reports/audit-logs",titleKey:"audit_logs.title",icon:"fa-solid fa-history",permission:"audit.read"}]},{path:"/settings",titleKey:"nav.settings",icon:"fa-solid fa-cog",permission:void 0,children:[{path:"/settings",titleKey:"settings.dashboard",icon:"fa-solid fa-cog",permission:void 0},{path:"/settings/overtime",titleKey:"settings.overtime.title",icon:"fa-solid fa-clock",permission:"settings.overtime.read"},{path:"/settings/public-holidays",titleKey:"settings.holidays.title",icon:"fa-solid fa-calendar-check",permission:"publicHoliday.read"},{path:"/vacation-types",titleKey:"vacation_types.title",icon:"fa-solid fa-calendar-alt",permission:"vacationType.read"},{path:"/settings/excuse-policies",titleKey:"excuse_policies.title",icon:"fa-solid fa-user-clock",permission:"settings.excusePolicy.read"},{path:"/settings/remote-work-policy",titleKey:"remoteWork.policy.title",icon:"fa-solid fa-laptop-house",permission:"remoteWork.policy.read"}]},{path:"/employee-vacations",titleKey:"nav.employeeVacations",icon:"fa-solid fa-calendar-week",permission:"vacation.read"},{path:"/employee-excuses",titleKey:"employee_excuses.title",icon:"fa-solid fa-clipboard-check",permission:"excuse.read"},{path:"/remote-work",titleKey:"remoteWork.request.title",icon:"fa-solid fa-laptop-house",permission:"remoteWork.request.read"}]);getMenuItems(){return this.menuItems()}getMenuItems$(){return this.menuItems}addMenuItem(t){this.menuItems.update(e=>[...e,t])}removeMenuItem(t){this.menuItems.update(e=>e.filter(n=>n.path!==t))}updateMenuItem(t,e){this.menuItems.update(n=>n.map(a=>a.path===t?H(H({},a),e):a))}findMenuItem(t){return this.menuItems().find(e=>e.path===t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})};var ge=(i,t)=>t.path;function ve(i,t){i&1&&(s(0,"h5",2),c(1,"Time Attendance"),l())}function he(i,t){i&1&&v(0,"i",3)}function be(i,t){if(i&1&&(s(0,"span",9),c(1),l()),i&2){let e=r(3).$implicit,n=r();o(),x(n.t(e.titleKey))}}function xe(i,t){if(i&1&&v(0,"i",12),i&2){let e=r(3).$implicit,n=r();O("rotate-180",n.isSubmenuOpen(e.path))}}function Me(i,t){if(i&1&&(s(0,"li",5)(1,"a",6),v(2,"i"),s(3,"span",9),c(4),l()()()),i&2){let e=r().$implicit,n=r(5);o(),h("routerLink",e.path)("title",n.t(e.titleKey)),o(),I(V("",e.icon," me-2")),o(2),x(n.t(e.titleKey))}}function Pe(i,t){if(i&1&&m(0,Me,5,6,"li",5),i&2){let e=t.$implicit,n=r(5);p(n.hasChildMenuPermission(e)?0:-1)}}function ye(i,t){if(i&1&&(s(0,"ul",11),K(1,Pe,1,1,null,null,ge),l()),i&2){let e=r(3).$implicit;o(),N(e.children)}}function Se(i,t){if(i&1){let e=b();s(0,"a",7),L("click",function(){f(e);let a=r(2).$implicit,P=r();return u(P.toggleSubmenu(a.path))}),s(1,"div",8),v(2,"i"),m(3,be,2,1,"span",9),l(),m(4,xe,1,2,"i",10),l(),m(5,ye,3,0,"ul",11)}if(i&2){let e=r(2).$implicit,n=r();O("active",n.isParentActive(e)),h("title",n.collapsed()?n.t(e.titleKey):""),o(2),I(V("",e.icon," me-2")),o(),p(n.collapsed()?-1:3),o(),p(!n.collapsed()&&n.hasVisibleChildren(e)?4:-1),o(),p(!n.collapsed()&&n.isSubmenuOpen(e.path)&&n.hasVisibleChildren(e)?5:-1)}}function we(i,t){if(i&1&&(s(0,"span",9),c(1),l()),i&2){let e=r(3).$implicit,n=r();o(),x(n.t(e.titleKey))}}function Oe(i,t){if(i&1&&(s(0,"a",6),v(1,"i"),m(2,we,2,1,"span",9),l()),i&2){let e=r(2).$implicit,n=r();h("routerLink",e.path)("title",n.collapsed()?n.t(e.titleKey):""),o(),I(V("",e.icon," me-2")),o(),p(n.collapsed()?-1:2)}}function ke(i,t){if(i&1&&(s(0,"li",5),m(1,Se,6,9)(2,Oe,3,6,"a",6),l()),i&2){let e=r().$implicit;o(),p(e.children&&e.children.length>0?1:2)}}function Ee(i,t){if(i&1&&m(0,ke,3,1,"li",5),i&2){let e=t.$implicit,n=r();p(n.hasParentMenuPermission(e)?0:-1)}}var R=class i{collapsed=C(!1);menuService=y(j);router=y(z);i18n=y(D);permissionService=y(pe);menuItems=this.menuService.getMenuItems$();openSubmenus=C(new Set);t(t){return this.i18n.t(t)}hasPerm(t){return!t||this.permissionService.has(t)}hasChildMenuPermission(t){return t.path==="/settings/public-holidays"?this.permissionService.canReadPublicHolidays():!t.permission||this.hasPerm(t.permission)}hasParentMenuPermission(t){return t.path==="/shifts"?this.permissionService.canAccessShifts():t.path==="/attendance"?this.permissionService.has("attendance.manage")||this.permissionService.has("attendance.read")||this.permissionService.has("attendance.calculate"):t.path==="/reports"?this.hasVisibleChildren(t):t.permission?this.hasPerm(t.permission):!0}isParentActive(t){if(!t.children)return!1;let e=this.router.url;return t.children.some(n=>e.startsWith(n.path))}isSubmenuOpen(t){return this.openSubmenus().has(t)}toggleSubmenu(t){let e=new Set(this.openSubmenus());e.has(t)?e.delete(t):e.add(t),this.openSubmenus.set(e)}hasVisibleChildren(t){return!!(t.children&&t.children.some(e=>this.hasChildMenuPermission(e)))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-sidenav"]],inputs:{collapsed:"collapsed"},decls:7,vars:4,consts:[[1,"sidenav"],[1,"sidenav-header","p-3"],[1,"text-truncate","mb-0"],[1,"fa-solid","fa-clock","fa-lg"],[1,"nav","flex-column","mt-2"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","d-flex","align-items-center",3,"routerLink","title"],[1,"nav-link","d-flex","align-items-center","justify-content-between",2,"cursor","pointer",3,"click","title"],[1,"d-flex","align-items-center"],[1,"text-truncate"],[1,"fas","fa-chevron-down",2,"transition","transform 0.2s ease",3,"rotate-180"],[1,"nav","flex-column","submenu","ms-3"],[1,"fas","fa-chevron-down",2,"transition","transform 0.2s ease"]],template:function(e,n){e&1&&(s(0,"nav",0)(1,"div",1),m(2,ve,2,0,"h5",2)(3,he,1,0,"i",3),l(),s(4,"ul",4),K(5,Ee,1,1,null,null,ge),l()()),e&2&&(O("collapsed",n.collapsed()),T("aria-expanded",!n.collapsed()),o(2),p(n.collapsed()?3:2),o(3),N(n.menuItems()))},dependencies:[k,de,le,ce],styles:[".sidenav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:250px;background-color:var(--bs-dark);color:var(--bs-light);transition:width .3s ease;z-index:1000;overflow-x:hidden;overflow-y:auto}.sidenav.collapsed[_ngcontent-%COMP%]{width:72px}.sidenav-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1);min-height:60px;display:flex;align-items:center;justify-content:center}.sidenav-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--bs-light);font-weight:600}.nav-link[_ngcontent-%COMP%]{color:#fffc;padding:.75rem 1rem;border-radius:0;transition:all .2s ease;border-left:3px solid transparent}.nav-link[_ngcontent-%COMP%]:hover{color:var(--bs-light);background-color:#ffffff1a}.nav-link.active[_ngcontent-%COMP%]{color:var(--bs-light);background-color:#ffffff1a;border-left-color:var(--bs-primary)}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;flex-shrink:0}.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding-left:1rem;padding-right:1rem}.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0!important}.submenu[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin-top:.25rem;margin-bottom:.25rem}.submenu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem 1rem .5rem 2.5rem;font-size:.875rem;border-left:none}.submenu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.submenu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#ffffff26;border-left:3px solid var(--bs-primary)}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}[_ngcontent-%COMP%]:root[dir=rtl]   .submenu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:1rem;padding-right:2.5rem;border-left:none;border-right:none}[_ngcontent-%COMP%]:root[dir=rtl]   .submenu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-right:3px solid var(--bs-primary)}[_ngcontent-%COMP%]:root[dir=rtl]   .sidenav[_ngcontent-%COMP%]{left:auto!important;right:0!important}[_ngcontent-%COMP%]:root[dir=rtl]   .nav-link[_ngcontent-%COMP%]{border-left:none;border-right:3px solid transparent}[_ngcontent-%COMP%]:root[dir=rtl]   .nav-link.active[_ngcontent-%COMP%]{border-right-color:var(--bs-primary)}[_ngcontent-%COMP%]:root[dir=rtl]   .me-2[_ngcontent-%COMP%]{margin-left:.5rem!important;margin-right:0!important}@media (max-width: 767.98px){.sidenav[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .3s ease}.sidenav.show[_ngcontent-%COMP%]{transform:translate(0)}[_ngcontent-%COMP%]:root[dir=rtl]   .sidenav[_ngcontent-%COMP%]{transform:translate(100%)!important}[_ngcontent-%COMP%]:root[dir=rtl]   .sidenav.show[_ngcontent-%COMP%]{transform:translate(0)!important}}"]})};function Te(i,t){if(i&1){let e=b();d(0,"ul",15)(1,"li")(2,"a",17),_("click",function(a){return f(e),u(a.preventDefault())}),w(3,"i",18),c(4),g()(),d(5,"li")(6,"a",17),_("click",function(a){return f(e),u(a.preventDefault())}),w(7,"i",19),c(8),g()(),d(9,"li"),w(10,"hr",20),g(),d(11,"li")(12,"a",21),_("click",function(a){f(e);let P=r();return a.preventDefault(),u(P.onLogout())}),w(13,"i",22),c(14),g()()()}if(i&2){let e=r();o(4),M(" ",e.t("settings.profile")," "),o(4),M(" ",e.t("nav.settings")," "),o(6),M(" ",e.t("nav.logout")," ")}}function Ie(i,t){if(i&1){let e=b();d(0,"div",23),_("click",function(){f(e);let a=r();return u(a.onClickOutside())}),g()}}var W=class i{constructor(t,e,n){this.authService=t;this.i18n=e;this.router=n;this.router.events.pipe(ee(a=>a instanceof re),X(()=>{let a=this.router.routerState.root;for(;a.firstChild;)a=a.firstChild;return a.snapshot.data?.title||""})).subscribe(a=>{this.pageTitle.set(this.t(a)||"Dashboard")})}sidenavCollapsed=C(!1);toggleSidenav=new ie;currentUser=U(()=>this.authService.currentUser());currentLocale=U(()=>this.i18n.locale());isRtl=U(()=>this.i18n.isRtl());pageTitle=C("");showUserMenu=C(!1);t(t){return this.i18n.t(t)}onToggleSidenav(){this.toggleSidenav.emit()}onToggleUserMenu(){this.showUserMenu.update(t=>!t)}onSwitchLanguage(){let t=this.currentLocale()==="en"?"ar":"en";this.i18n.setLocale(t),this.showUserMenu.set(!1)}onLogout(){this.authService.logout(),this.showUserMenu.set(!1)}onClickOutside(){this.showUserMenu.set(!1)}static \u0275fac=function(e){return new(e||i)(F(me),F(D),F(z))};static \u0275cmp=S({type:i,selectors:[["app-topbar"]],inputs:{sidenavCollapsed:"sidenavCollapsed"},outputs:{toggleSidenav:"toggleSidenav"},decls:20,vars:13,consts:[[1,"topbar"],[1,"topbar-content"],[1,"topbar-left"],["type","button",1,"btn","btn-link","topbar-btn",3,"click"],[1,"fa-solid","fa-bars"],[1,"topbar-center"],[1,"page-title","mb-0"],[1,"topbar-right"],["type","button",1,"btn","btn-link","topbar-btn","me-2",3,"click"],[1,"fa-solid","fa-globe"],[1,"d-none","d-md-inline","ms-1"],[1,"dropdown"],["type","button",1,"btn","btn-link","topbar-btn","dropdown-toggle",3,"click"],[1,"fa-solid","fa-user","me-1"],[1,"d-none","d-md-inline"],[1,"dropdown-menu","dropdown-menu-end","show"],[1,"dropdown-backdrop"],["href","#",1,"dropdown-item",3,"click"],[1,"fa-solid","fa-user","me-2"],[1,"fa-solid","fa-cog","me-2"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","text-danger",3,"click"],[1,"fa-solid","fa-sign-out-alt","me-2"],[1,"dropdown-backdrop",3,"click"]],template:function(e,n){if(e&1&&(d(0,"header",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return n.onToggleSidenav()}),w(4,"i",4),g()(),d(5,"div",5)(6,"h1",6),c(7),g()(),d(8,"div",7)(9,"button",8),_("click",function(){return n.onSwitchLanguage()}),w(10,"i",9),d(11,"span",10),c(12),g()(),d(13,"div",11)(14,"button",12),_("click",function(){return n.onToggleUserMenu()}),w(15,"i",13),d(16,"span",14),c(17),g()(),m(18,Te,15,3,"ul",15),g()()()(),m(19,Ie,1,0,"div",16)),e&2){let a;O("sidenav-collapsed",n.sidenavCollapsed()),o(3),T("aria-label",n.t("nav.toggle_menu"))("aria-expanded",!n.sidenavCollapsed()),o(4),x(n.pageTitle()),o(2),T("aria-label",n.t("settings.language")),o(3),M(" ",n.currentLocale()==="en"?"\u0639\u0631\u0628\u064A":"English"," "),o(),O("show",n.showUserMenu()),o(),T("aria-expanded",n.showUserMenu()),o(3),x((a=n.currentUser())==null?null:a.username),o(),p(n.showUserMenu()?18:-1),o(),p(n.showUserMenu()?19:-1)}},dependencies:[k],styles:[".topbar[_ngcontent-%COMP%]{position:fixed;top:0;left:250px;right:0;height:60px;background-color:var(--bs-white);border-bottom:1px solid var(--bs-border-color);z-index:999;transition:left .3s ease}.topbar.sidenav-collapsed[_ngcontent-%COMP%]{left:72px}.topbar-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:100%;padding:0 1rem}.topbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:60px}.topbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:200px}.topbar-center[_ngcontent-%COMP%]{flex:1;text-align:center;margin:0 1rem}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--bs-dark)}.topbar-btn[_ngcontent-%COMP%]{color:var(--bs-secondary);padding:.5rem;border:none;background:none;text-decoration:none;transition:color .2s ease}.topbar-btn[_ngcontent-%COMP%]:hover, .topbar-btn[_ngcontent-%COMP%]:focus{color:var(--bs-primary);text-decoration:none}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;z-index:1000;min-width:200px;margin-top:.5rem;border:1px solid var(--bs-border-color);border-radius:.375rem;box-shadow:0 .5rem 1rem #00000026}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:998}[_ngcontent-%COMP%]:root[dir=rtl]   .topbar[_ngcontent-%COMP%]{left:0!important;right:250px!important}[_ngcontent-%COMP%]:root[dir=rtl]   .topbar.sidenav-collapsed[_ngcontent-%COMP%]{right:72px!important}[_ngcontent-%COMP%]:root[dir=rtl]   .topbar-center[_ngcontent-%COMP%]{text-align:center}[_ngcontent-%COMP%]:root[dir=rtl]   .dropdown-menu[_ngcontent-%COMP%]{left:0;right:auto}[_ngcontent-%COMP%]:root[dir=rtl]   .me-1[_ngcontent-%COMP%]{margin-left:.25rem!important;margin-right:0!important}[_ngcontent-%COMP%]:root[dir=rtl]   .me-2[_ngcontent-%COMP%]{margin-left:.5rem!important;margin-right:0!important}[_ngcontent-%COMP%]:root[dir=rtl]   .ms-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:0!important}@media (max-width: 767.98px){.topbar[_ngcontent-%COMP%]{left:0!important;right:0!important}[_ngcontent-%COMP%]:root[dir=rtl]   .topbar[_ngcontent-%COMP%]{left:0!important;right:0!important}.topbar-left[_ngcontent-%COMP%]{display:flex}.page-title[_ngcontent-%COMP%]{font-size:1.1rem}}"]})};var Le=(i,t)=>t.id;function Ve(i,t){if(i&1&&(s(0,"div",8),c(1),l()),i&2){let e=r().$implicit;o(),M(" ",e.message," ")}}function De(i,t){if(i&1){let e=b();s(0,"div",1)(1,"div",2)(2,"div",3),v(3,"i",4),l(),s(4,"strong",5),c(5),l(),s(6,"small",6),c(7,"now"),l(),s(8,"button",7),L("click",function(){let a=f(e).$implicit,P=r();return u(P.notificationService.remove(a.id))}),l()(),m(9,Ve,2,1,"div",8),l()}if(i&2){let e=t.$implicit,n=r();h("ngClass",n.getToastClass(e.type)),o(2),h("ngClass",n.getIconClass(e.type)),o(),h("ngClass",n.getIcon(e.type)),o(2),x(e.title),o(4),p(e.message?9:-1)}}var B=class i{notificationService=y(fe);getToastClass(t){switch(t){case"success":return"toast-success";case"error":return"toast-error";case"warning":return"toast-warning";case"info":return"toast-info";default:return"toast-info"}}getIconClass(t){switch(t){case"success":return"bg-success";case"error":return"bg-danger";case"warning":return"bg-warning";case"info":return"bg-info";default:return"bg-info"}}getIcon(t){switch(t){case"success":return"fa-check";case"error":return"fa-times";case"warning":return"fa-exclamation-triangle";case"info":return"fa-info";default:return"fa-info"}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-notifications"]],decls:3,vars:0,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","9999"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show",3,"ngClass"],[1,"toast-header"],[1,"rounded","me-2",2,"width","20px","height","20px","display","flex","align-items","center","justify-content","center",3,"ngClass"],[1,"fas",2,"font-size","12px",3,"ngClass"],[1,"me-auto"],[1,"text-muted"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body"]],template:function(e,n){e&1&&(s(0,"div",0),K(1,De,10,5,"div",1,Le),l()),e&2&&(o(),N(n.notificationService.notifications$()))},dependencies:[k,ae],styles:[".toast[_ngcontent-%COMP%]{min-width:300px;margin-bottom:.5rem}.toast-success[_ngcontent-%COMP%]   .toast-header[_ngcontent-%COMP%]{background-color:#d1e7dd;border-color:#badbcc}.toast-error[_ngcontent-%COMP%]   .toast-header[_ngcontent-%COMP%]{background-color:#f8d7da;border-color:#f5c6cb}.toast-warning[_ngcontent-%COMP%]   .toast-header[_ngcontent-%COMP%]{background-color:#fff3cd;border-color:#ffecb5}.toast-info[_ngcontent-%COMP%]   .toast-header[_ngcontent-%COMP%]{background-color:#d1ecf1;border-color:#bee5eb}"]})};function Ke(i,t){if(i&1&&w(0,"i"),i&2){let e=r(2);I(oe("fa-solid ",e.config().icon," me-2 ",e.config().iconClass))}}function Ne(i,t){if(i&1){let e=b();d(0,"div",1),_("click",function(a){f(e);let P=r();return u(P.onBackdropClick(a))}),d(1,"div",2),_("click",function(a){return f(e),u(a.stopPropagation())}),d(2,"div",3)(3,"div",4)(4,"h5",5),m(5,Ke,1,4,"i",6),c(6),g(),d(7,"button",7),_("click",function(){f(e);let a=r();return u(a.onCancel())}),g()(),d(8,"div",8)(9,"p",9),c(10),g()(),d(11,"div",10)(12,"button",11),_("click",function(){f(e);let a=r();return u(a.onCancel())}),c(13),g(),d(14,"button",11),_("click",function(){f(e);let a=r();return u(a.onConfirm())}),c(15),g()()()()()}if(i&2){let e,n,a,P,Y,G,J,E=r();o(5),p((e=E.config())!=null&&e.icon?5:-1),o(),M(" ",(n=E.config())==null?null:n.title," "),o(),T("aria-label",E.t("common.close")),o(3),x((a=E.config())==null?null:a.message),o(2),I(V("btn ",(P=E.config())==null?null:P.cancelButtonClass)),o(),M(" ",(Y=E.config())==null?null:Y.cancelText," "),o(),I(V("btn ",(G=E.config())==null?null:G.confirmButtonClass)),o(),M(" ",(J=E.config())==null?null:J.confirmText," ")}}var q=class i{confirmationService=y(ue);i18n=y(D);config=this.confirmationService.config$;t(t){return this.i18n.t(t)}onConfirm(){this.confirmationService.onConfirm()}onCancel(){this.confirmationService.onCancel()}onBackdropClick(t){t.target===t.currentTarget&&this.onCancel()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-confirmation"]],decls:1,vars:1,consts:[["tabindex","-1",1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)"],["tabindex","-1",1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)",3,"click"],[1,"modal-dialog","modal-dialog-centered",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","d-flex","align-items-center"],[3,"class"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer"],["type","button",3,"click"]],template:function(e,n){e&1&&m(0,Ne,16,12,"div",0),e&2&&p(n.confirmationService.isVisible$()?0:-1)},dependencies:[k],styles:[".modal[_ngcontent-%COMP%]{z-index:1055}.modal-dialog[_ngcontent-%COMP%]{max-width:500px}.modal-content[_ngcontent-%COMP%]{border:none;box-shadow:0 10px 30px #0000004d}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding:1rem 1.5rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;padding:1rem 1.5rem;gap:.5rem}.btn[_ngcontent-%COMP%]{min-width:80px}.modal-title[_ngcontent-%COMP%]{font-weight:600;color:#333}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .2s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};function $e(i,t){if(i&1){let e=b();s(0,"div",7),L("click",function(){f(e);let a=r();return u(a.onCloseMobileSidenav())}),l()}}var _e=class i{sidenavCollapsed=C(!1);showMobileSidenav=C(!1);isMobile=C(!1);destroy$=new Q;ngOnInit(){this.checkScreenSize(),Z(window,"resize").pipe(te(this.destroy$)).subscribe(()=>{this.checkScreenSize()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkScreenSize(){let t=window.innerWidth<768;this.isMobile.set(t),t?(this.sidenavCollapsed.set(!1),this.showMobileSidenav.set(!1)):this.showMobileSidenav.set(!1)}onToggleSidenav(){this.isMobile()?this.showMobileSidenav.update(t=>!t):this.sidenavCollapsed.update(t=>!t)}onCloseMobileSidenav(){this.isMobile()&&this.showMobileSidenav.set(!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-layout"]],decls:10,vars:11,consts:[[1,"layout-container"],[3,"collapsed"],[1,"main-content"],[3,"toggleSidenav","sidenavCollapsed"],[1,"page-content"],[1,"container-fluid"],[1,"mobile-backdrop"],[1,"mobile-backdrop",3,"click"]],template:function(e,n){e&1&&(s(0,"div",0),v(1,"app-sidenav",1),s(2,"div",2)(3,"app-topbar",3),L("toggleSidenav",function(){return n.onToggleSidenav()}),l(),s(4,"main",4)(5,"div",5),v(6,"router-outlet"),l()()(),m(7,$e,1,0,"div",6),v(8,"app-notifications")(9,"app-confirmation"),l()),e&2&&(o(),O("show",n.showMobileSidenav())("mobile",n.isMobile()),h("collapsed",n.sidenavCollapsed),o(),O("sidenav-collapsed",n.sidenavCollapsed()&&!n.isMobile())("mobile",n.isMobile()),o(),h("sidenavCollapsed",n.sidenavCollapsed),o(4),p(n.isMobile()&&n.showMobileSidenav()?7:-1))},dependencies:[k,se,R,W,B,q],styles:[".layout-container[_ngcontent-%COMP%]{position:relative;min-height:100vh}.main-content[_ngcontent-%COMP%]{margin-left:250px;min-height:100vh;transition:margin-left .3s ease}.main-content.sidenav-collapsed[_ngcontent-%COMP%]{margin-left:72px}.main-content.mobile[_ngcontent-%COMP%]{margin-left:0}.page-content[_ngcontent-%COMP%]{padding-top:60px;padding-bottom:2rem;min-height:calc(100vh - 60px)}.page-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:2rem 1rem}.mobile-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:999}[_ngcontent-%COMP%]:root[dir=rtl]   .main-content[_ngcontent-%COMP%]{margin-left:0!important;margin-right:250px!important}[_ngcontent-%COMP%]:root[dir=rtl]   .main-content.sidenav-collapsed[_ngcontent-%COMP%]{margin-right:72px!important}[_ngcontent-%COMP%]:root[dir=rtl]   .main-content.mobile[_ngcontent-%COMP%]{margin-right:0!important}@media (max-width: 767.98px){.main-content[_ngcontent-%COMP%]{margin-left:0}[_ngcontent-%COMP%]:root[dir=rtl]   .main-content[_ngcontent-%COMP%]{margin-right:0!important}.page-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:1rem .75rem}}"]})};export{_e as LayoutComponent};
