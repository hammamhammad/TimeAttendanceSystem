{
  "version": 3,
  "sources": ["src/app/pages/branches/branches.service.ts"],
  "sourcesContent": ["import { Injectable, inject } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { Branch, BranchesResponse, CreateBranchRequest, UpdateBranchRequest } from '../../shared/models/branch.model';\r\nimport { environment } from '../../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BranchesService {\r\n  private http = inject(HttpClient);\r\n  private baseUrl = `${environment.apiUrl}/api/v1/branches`;\r\n\r\n  getBranches(\r\n    page: number = 1, \r\n    pageSize: number = 10, \r\n    search?: string, \r\n    isActive?: boolean\r\n  ): Observable<BranchesResponse> {\r\n    let httpParams = new HttpParams()\r\n      .set('page', page.toString())\r\n      .set('pageSize', pageSize.toString());\r\n\r\n    if (search) {\r\n      httpParams = httpParams.set('search', search);\r\n    }\r\n\r\n    if (isActive !== undefined) {\r\n      httpParams = httpParams.set('isActive', isActive.toString());\r\n    }\r\n\r\n    return this.http.get<BranchesResponse>(this.baseUrl, { params: httpParams });\r\n  }\r\n\r\n  createBranch(branch: CreateBranchRequest): Observable<{ id: number }> {\r\n    return this.http.post<{ id: number }>(this.baseUrl, branch);\r\n  }\r\n\r\n  updateBranch(id: number, branch: UpdateBranchRequest): Observable<void> {\r\n    return this.http.put<void>(`${this.baseUrl}/${id}`, branch);\r\n  }\r\n\r\n  deleteBranch(id: number): Observable<void> {\r\n    return this.http.delete<void>(`${this.baseUrl}/${id}`);\r\n  }\r\n\r\n  getBranchesForDropdown(): Observable<Branch[]> {\r\n    return this.http.get<BranchesResponse>(`${this.baseUrl}?pageSize=100&isActive=true`)\r\n      .pipe(\r\n        map(response => response.items)\r\n      );\r\n  }\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAUM,IAAO,mBAAP,MAAO,iBAAe;EAClB,OAAO,OAAO,UAAU;EACxB,UAAU,GAAG,YAAY,MAAM;EAEvC,YACE,OAAe,GACf,WAAmB,IACnB,QACA,UAAkB;AAElB,QAAI,aAAa,IAAI,WAAU,EAC5B,IAAI,QAAQ,KAAK,SAAQ,CAAE,EAC3B,IAAI,YAAY,SAAS,SAAQ,CAAE;AAEtC,QAAI,QAAQ;AACV,mBAAa,WAAW,IAAI,UAAU,MAAM;IAC9C;AAEA,QAAI,aAAa,QAAW;AAC1B,mBAAa,WAAW,IAAI,YAAY,SAAS,SAAQ,CAAE;IAC7D;AAEA,WAAO,KAAK,KAAK,IAAsB,KAAK,SAAS,EAAE,QAAQ,WAAU,CAAE;EAC7E;EAEA,aAAa,QAA2B;AACtC,WAAO,KAAK,KAAK,KAAqB,KAAK,SAAS,MAAM;EAC5D;EAEA,aAAa,IAAY,QAA2B;AAClD,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,OAAO,IAAI,EAAE,IAAI,MAAM;EAC5D;EAEA,aAAa,IAAU;AACrB,WAAO,KAAK,KAAK,OAAa,GAAG,KAAK,OAAO,IAAI,EAAE,EAAE;EACvD;EAEA,yBAAsB;AACpB,WAAO,KAAK,KAAK,IAAsB,GAAG,KAAK,OAAO,6BAA6B,EAChF,KACC,IAAI,cAAY,SAAS,KAAK,CAAC;EAErC;;AA1C0B;cAAf;mCAAA,kBAAe;AAAA;cAAf,sFAAA,kBAAe,SAAf,iBAAe,WAAA,YAFd,OAAM,CAAA;AAEd,IAAO,kBAAP;;sEAAO,iBAAe,CAAA;UAH3B;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
