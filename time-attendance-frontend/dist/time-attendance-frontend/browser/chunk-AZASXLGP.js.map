{
  "version": 3,
  "sources": ["src/app/pages/remote-work/remote-work-list/remote-work-list.component.ts", "src/app/pages/remote-work/remote-work-list/remote-work-list.component.html"],
  "sourcesContent": ["import { Component, OnInit, signal, inject, computed } from '@angular/core';\r\n\r\nimport { Router } from '@angular/router';\r\nimport { RemoteWorkRequestsService } from '../../../core/services/remote-work-requests.service';\r\nimport { RemoteWorkRequest, RemoteWorkRequestStatus } from '../../../core/models/remote-work-request.model';\r\nimport { DataTableComponent, TableColumn, TableAction } from '../../../shared/components/data-table/data-table.component';\r\nimport { PageHeaderComponent } from '../../../shared/components/page-header/page-header.component';\r\nimport { StatusBadgeComponent } from '../../../shared/components/status-badge/status-badge.component';\r\nimport { UnifiedFilterComponent } from '../../../shared/components/unified-filter/unified-filter.component';\r\nimport { NotificationService } from '../../../core/notifications/notification.service';\r\nimport { ConfirmationService } from '../../../core/confirmation/confirmation.service';\r\nimport { I18nService } from '../../../core/i18n/i18n.service';\r\nimport { PermissionService } from '../../../core/auth/permission.service';\r\n\r\n@Component({\r\n  selector: 'app-remote-work-list',\r\n  standalone: true,\r\n  imports: [\n    DataTableComponent,\n    PageHeaderComponent,\n    StatusBadgeComponent,\n    UnifiedFilterComponent\n],\r\n  templateUrl: './remote-work-list.component.html',\r\n  styleUrls: ['./remote-work-list.component.css']\r\n})\r\nexport class RemoteWorkListComponent implements OnInit {\r\n  private readonly service = inject(RemoteWorkRequestsService);\r\n  private readonly router = inject(Router);\r\n  private readonly notification = inject(NotificationService);\r\n  private readonly confirmation = inject(ConfirmationService);\r\n  private readonly permissionService = inject(PermissionService);\r\n  readonly i18n = inject(I18nService);\r\n\r\n  requests = signal<RemoteWorkRequest[]>([]);\r\n  loading = signal(false);\r\n\r\n  // Table configuration\r\n  tableColumns: TableColumn[] = [\r\n    { key: 'employeeName', label: this.i18n.t('remoteWork.request.employee'), sortable: true, width: '25%' },\r\n    { key: 'startDate', label: this.i18n.t('remoteWork.request.startDate'), sortable: true, width: '15%' },\r\n    { key: 'endDate', label: this.i18n.t('remoteWork.request.endDate'), sortable: true, width: '15%' },\r\n    { key: 'workingDaysCount', label: this.i18n.t('remoteWork.request.workingDays'), sortable: true, width: '15%', align: 'center' },\r\n    { key: 'status', label: this.i18n.t('common.status'), sortable: true, width: '15%', align: 'center' }\r\n  ];\r\n\r\n  // Table actions\r\n  tableActions: TableAction[] = [\r\n    { key: 'view', label: this.i18n.t('common.view'), icon: 'fa-eye', color: 'info' },\r\n    { key: 'edit', label: this.i18n.t('common.edit'), icon: 'fa-edit', color: 'primary' },\r\n    { key: 'cancel', label: this.i18n.t('remoteWork.request.cancel'), icon: 'fa-ban', color: 'warning' }\r\n  ];\r\n\r\n  ngOnInit(): void {\r\n    this.loadRequests();\r\n  }\r\n\r\n  loadRequests(): void {\r\n    this.loading.set(true);\r\n    this.service.getAll().subscribe({\r\n      next: (requests) => {\r\n        this.requests.set(requests);\r\n        this.loading.set(false);\r\n      },\r\n      error: (error) => {\r\n        this.notification.error(this.i18n.t('remoteWork.request.loadError'));\r\n        this.loading.set(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  onView(request: RemoteWorkRequest): void {\r\n    this.router.navigate(['/remote-work', request.id, 'view']);\r\n  }\r\n\r\n  onEdit(request: RemoteWorkRequest): void {\r\n    this.router.navigate(['/remote-work/edit', request.id]);\r\n  }\r\n\r\n  onCancel(request: RemoteWorkRequest): void {\r\n    this.confirmation.confirm({\r\n      title: this.i18n.t('remoteWork.request.cancelConfirm'),\r\n      message: this.i18n.t('remoteWork.request.cancelMessage'),\r\n      confirmText: this.i18n.t('common.yes'),\r\n      cancelText: this.i18n.t('common.no')\r\n    }).then(result => {\r\n      if (result.confirmed) {\r\n        this.service.cancel(request.id).subscribe({\r\n          next: () => {\r\n            this.notification.success(this.i18n.t('remoteWork.request.success.cancelled'));\r\n            this.loadRequests();\r\n          },\r\n          error: () => {\r\n            this.notification.error(this.i18n.t('remoteWork.request.errors.cancel_failed'));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  onCreate(): void {\r\n    this.router.navigate(['/remote-work/create']);\r\n  }\r\n\r\n  /**\r\n   * Handle search change from unified filter\r\n   */\r\n  onSearchChange(searchTerm: string): void {\r\n    // Implement search filtering if needed\r\n    console.log('Search term:', searchTerm);\r\n  }\r\n\r\n  /**\r\n   * Handle filter changes from unified filter\r\n   */\r\n  onFiltersChange(filters: any): void {\r\n    // Implement custom filtering if needed\r\n    console.log('Filters changed:', filters);\r\n  }\r\n\r\n  /**\r\n   * Handle refresh from unified filter\r\n   */\r\n  onRefreshData(): void {\r\n    this.loadRequests();\r\n  }\r\n\r\n  /**\r\n   * Handle table actions\r\n   */\r\n  onActionClick(event: { action: string, item: RemoteWorkRequest }): void {\r\n    const { action, item } = event;\r\n\r\n    switch (action) {\r\n      case 'view':\r\n        this.onView(item);\r\n        break;\r\n      case 'edit':\r\n        this.onEdit(item);\r\n        break;\r\n      case 'cancel':\r\n        this.onCancel(item);\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get status text for display\r\n   */\r\n  getStatusText(status: RemoteWorkRequestStatus): string {\r\n    const statusMap: Record<RemoteWorkRequestStatus, string> = {\r\n      [RemoteWorkRequestStatus.Pending]: this.i18n.t('remoteWork.status.pending'),\r\n      [RemoteWorkRequestStatus.Approved]: this.i18n.t('remoteWork.status.approved'),\r\n      [RemoteWorkRequestStatus.Rejected]: this.i18n.t('remoteWork.status.rejected'),\r\n      [RemoteWorkRequestStatus.Cancelled]: this.i18n.t('remoteWork.status.cancelled')\r\n    };\r\n    return statusMap[status] || '';\r\n  }\r\n\r\n  /**\r\n   * Get status badge variant\r\n   */\r\n  getStatusVariant(status: RemoteWorkRequestStatus): string {\r\n    const statusMap: Record<RemoteWorkRequestStatus, string> = {\r\n      [RemoteWorkRequestStatus.Pending]: 'warning',\r\n      [RemoteWorkRequestStatus.Approved]: 'success',\r\n      [RemoteWorkRequestStatus.Rejected]: 'danger',\r\n      [RemoteWorkRequestStatus.Cancelled]: 'secondary'\r\n    };\r\n    return statusMap[status] || 'secondary';\r\n  }\r\n\r\n  /**\r\n   * Format date for display\r\n   */\r\n  formatDate(date: Date): string {\r\n    if (!date) return '';\r\n    const d = new Date(date);\r\n    return d.toLocaleDateString();\r\n  }\r\n}\r\n", "<div class=\"app-list-page\">\r\n  <!-- Page Header -->\r\n  <app-page-header [title]=\"i18n.t('remoteWork.request.title')\">\r\n  </app-page-header>\r\n\r\n  <!-- Unified Filter Component -->\r\n  <app-unified-filter moduleName=\"remote-work-requests\" [refreshing]=\"loading()\"\r\n    (searchChange)=\"onSearchChange($event)\" (filtersChange)=\"onFiltersChange($event)\" (add)=\"onCreate()\"\r\n    (refresh)=\"onRefreshData()\">\r\n  </app-unified-filter>\r\n\r\n  <!-- Remote Work Requests Table -->\r\n  <app-data-table\r\n    [data]=\"requests() || []\"\r\n    [columns]=\"tableColumns\"\r\n    [actions]=\"tableActions\"\r\n    [loading]=\"loading\"\r\n    [emptyTitle]=\"i18n.t('remoteWork.request.noData')\"\r\n    [emptyMessage]=\"i18n.t('remoteWork.request.noDataMessage')\"\r\n    (actionClick)=\"onActionClick($event)\">\r\n\r\n    <!-- Custom cell template -->\r\n    <ng-template #cellTemplate let-request let-column=\"column\">\r\n      @if (column.key === 'employeeName') {\r\n      {{ request.employeeName || 'N/A' }}\r\n      } @else if (column.key === 'startDate') {\r\n      {{ formatDate(request.startDate) }}\r\n      } @else if (column.key === 'endDate') {\r\n      {{ formatDate(request.endDate) }}\r\n      } @else if (column.key === 'workingDaysCount') {\r\n      {{ request.workingDaysCount }}\r\n      } @else if (column.key === 'status') {\r\n      <app-status-badge [status]=\"getStatusVariant(request.status)\" [label]=\"getStatusText(request.status)\">\r\n      </app-status-badge>\r\n      } @else {\r\n      {{ request[column.key] }}\r\n      }\r\n    </ng-template>\r\n  </app-data-table>\r\n</div>"],
  "mappings": "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",
  "names": []
}
