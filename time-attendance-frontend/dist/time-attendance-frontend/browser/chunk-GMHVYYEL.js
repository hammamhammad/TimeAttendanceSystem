import{a as h}from"./chunk-BDZLNZZ6.js";import{a as k}from"./chunk-GWHM7BJD.js";import{a as N}from"./chunk-3IQ53VGU.js";import{a as M}from"./chunk-CYQTDKAB.js";import"./chunk-7QCK55IR.js";import{b as P}from"./chunk-AS5QRUY4.js";import{$ as r,E as a,H as d,J as y,N as A,Pa as S,U as E,V as O,_ as T,aa as c,ba as C,fb as V,ia as b,ka as x,ma as o,qb as I,u as g,v as f,va as _,wa as s,xa as v,ya as p,z as u}from"./chunk-LDUBOZPL.js";import"./chunk-DGAILPFQ.js";function Y(t,n){if(t&1&&(r(0,"span",7),s(1),c()),t&2){let e=o().item;a(),v(e.nameAr||"-")}}function R(t,n){if(t&1&&(r(0,"span",10),s(1),c()),t&2){let e=o().item,i=o();_(i.getBooleanBadge(e.isPaid)),a(),p(" ",i.getBooleanText(e.isPaid)," ")}}function w(t,n){if(t&1&&(r(0,"span",10),s(1),c()),t&2){let e=o().item,i=o();_(i.getBooleanBadge(e.affectsAttendance)),a(),p(" ",i.getBooleanText(e.affectsAttendance)," ")}}function B(t,n){if(t&1&&(r(0,"span",10),s(1),c()),t&2){let e=o().item,i=o();_(i.getBooleanBadge(e.requiresApproval)),a(),p(" ",i.getBooleanText(e.requiresApproval)," ")}}function L(t,n){if(t&1&&(r(0,"span",10),s(1),c()),t&2){let e=o().item,i=o();_(i.getStatusBadge(e.isActive)),a(),p(" ",i.getStatusText(e.isActive)," ")}}function j(t,n){if(t&1&&s(0),t&2){let e=o().item;p(" ",e.maxDaysPerYear||"-"," ")}}function q(t,n){if(t&1){let e=b();r(0,"div",9)(1,"button",11),x("click",function(){g(e);let l=o().item,m=o();return f(m.navigateToEdit(l))}),C(2,"i",12),c(),r(3,"button",13),x("click",function(){g(e);let l=o().item,m=o();return f(m.deleteVacationType(l))}),C(4,"i",14),c()()}if(t&2){let e=o(2);a(),T("title",e.i18n.t("COMMON.EDIT")),a(2),T("title",e.i18n.t("COMMON.DELETE"))}}function F(t,n){if(t&1&&s(0),t&2){let e=o(),i=e.column,l=e.item;p(" ",l[i.key]," ")}}function z(t,n){if(t&1&&E(0,Y,2,1,"span",7)(1,R,2,3,"span",8)(2,w,2,3,"span",8)(3,B,2,3,"span",8)(4,L,2,3,"span",8)(5,j,1,1)(6,q,5,2,"div",9)(7,F,1,1),t&2){let e=n.column;O(e.key==="nameAr"?0:e.key==="isPaid"?1:e.key==="affectsAttendance"?2:e.key==="requiresApproval"?3:e.key==="isActive"?4:e.key==="maxDaysPerYear"?5:e.key==="actions"?6:7)}}var D=class t{constructor(n,e,i,l,m){this.vacationTypesService=n;this.notificationService=e;this.confirmationService=i;this.router=l;this.i18n=m}vacationTypes=u([]);loading=u(!1);columns=[{key:"name",label:"VACATION_TYPES.NAME"},{key:"nameAr",label:"VACATION_TYPES.NAME_AR"},{key:"code",label:"VACATION_TYPES.CODE"},{key:"isPaid",label:"VACATION_TYPES.IS_PAID"},{key:"affectsAttendance",label:"VACATION_TYPES.AFFECTS_ATTENDANCE"},{key:"maxDaysPerYear",label:"VACATION_TYPES.MAX_DAYS_PER_YEAR"},{key:"requiresApproval",label:"VACATION_TYPES.REQUIRES_APPROVAL"},{key:"isActive",label:"VACATION_TYPES.IS_ACTIVE"},{key:"actions",label:"COMMON.ACTIONS"}];ngOnInit(){this.loadVacationTypes()}loadVacationTypes(){this.loading.set(!0),this.vacationTypesService.getVacationTypes().subscribe({next:n=>{this.vacationTypes.set(n.vacationTypes),this.loading.set(!1)},error:n=>{this.notificationService.error("VACATION_TYPES.LOAD_ERROR"),this.loading.set(!1)}})}navigateToCreate(){this.router.navigate(["/vacation-types/create"])}navigateToEdit(n){this.router.navigate(["/vacation-types/edit",n.id])}deleteVacationType(n){this.confirmationService.confirm({title:"VACATION_TYPES.DELETE_TITLE",message:"VACATION_TYPES.DELETE_CONFIRMATION"}).then(e=>{e.confirmed&&this.vacationTypesService.deleteVacationType(n.id).subscribe({next:()=>{this.notificationService.success("VACATION_TYPES.DELETE_SUCCESS"),this.loadVacationTypes()},error:i=>{this.notificationService.error("VACATION_TYPES.DELETE_ERROR")}})})}getStatusBadge(n){return n?"badge-success":"badge-danger"}getStatusText(n){return n?this.i18n.t("COMMON.ACTIVE"):this.i18n.t("COMMON.INACTIVE")}getBooleanBadge(n){return n?"badge-success":"badge-secondary"}getBooleanText(n){return n?this.i18n.t("COMMON.YES"):this.i18n.t("COMMON.NO")}static \u0275fac=function(e){return new(e||t)(d(h),d(M),d(N),d(I),d(P))};static \u0275cmp=y({type:t,selectors:[["app-vacation-types"]],decls:11,vars:5,consts:[["cellTemplate",""],[1,"page-container"],[1,"page-header"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-plus"],[1,"page-content"],[3,"data","columns","loading"],["dir","rtl"],[1,"badge",3,"class"],[1,"action-buttons"],[1,"badge"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","title"],[1,"fa-solid","fa-edit"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","title"],[1,"fa-solid","fa-trash"]],template:function(e,i){if(e&1){let l=b();r(0,"div",1)(1,"div",2)(2,"h2"),s(3),c(),r(4,"button",3),x("click",function(){return g(l),f(i.navigateToCreate())}),C(5,"i",4),s(6),c()(),r(7,"div",5)(8,"app-data-table",6),A(9,z,8,1,"ng-template",null,0,S),c()()()}e&2&&(a(3),v(i.i18n.t("VACATION_TYPES.TITLE")),a(3),p(" ",i.i18n.t("VACATION_TYPES.ADD")," "),a(2),T("data",i.vacationTypes())("columns",i.columns)("loading",i.loading()))},dependencies:[V,k],styles:[".page-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.page-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:8px;font-weight:500;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-sm[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px}.btn-outline-primary[_ngcontent-%COMP%]{background-color:transparent;color:#007bff;border:1px solid #007bff}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{background-color:transparent;color:#dc3545;border:1px solid #dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase}.badge-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.badge-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.badge-secondary[_ngcontent-%COMP%]{background-color:#e2e3e5;color:#383d41;border:1px solid #d6d8db}span[dir=rtl][_ngcontent-%COMP%]{text-align:right;font-family:Arial,sans-serif}"]})};export{D as VacationTypesComponent};
