import"./chunk-GBFD7MFB.js";import{a as K}from"./chunk-2DN7MBOW.js";import{a as q}from"./chunk-K7WTKFJQ.js";import{a as Y}from"./chunk-6YOSOA3I.js";import{a as G}from"./chunk-XEQ2WLKT.js";import"./chunk-QXVLGI72.js";import{w as V,y as j}from"./chunk-VRETN7JA.js";import{a as U}from"./chunk-UBCI4X5Q.js";import{a as W}from"./chunk-HHXRLUSQ.js";import{b as z}from"./chunk-3VZ5QHEY.js";import{d as N,g as F,h as H,m as $}from"./chunk-TWXUAMJ4.js";import{$a as E,Ab as I,Bb as a,Cb as m,Db as l,Ea as T,Eb as b,Fb as w,R as u,Sb as A,Tb as O,W as y,X as h,Xa as x,Ya as _,Yb as R,ab as D,bb as g,cb as i,da as C,db as n,eb as c,lb as M,nb as S,pb as p,ta as e,uc as L,wc as B}from"./chunk-JSQL33QG.js";import{d as P}from"./chunk-DGAILPFQ.js";var k=(d,r)=>r.id;function Q(d,r){if(d&1&&(i(0,"div",0)(1,"div",4)(2,"span",5),a(3),n()()()),d&2){let t=p();e(3),m(t.i18n.t("common.loading"))}}function X(d,r){if(d&1&&(i(0,"div",1),c(1,"i",6),a(2),n()),d&2){let t=p();e(2),l(" ",t.error()," ")}}function Z(d,r){if(d&1&&(i(0,"div",29)(1,"div",23)(2,"strong"),a(3),n(),c(4,"br"),i(5,"span",51),a(6),n()()()),d&2){let t=p(2);e(3),l("",t.i18n.t("attendance.fields.break_hours"),":"),e(3),m(t.formatHoursAsTime(t.attendanceRecord().breakHours||0))}}function ee(d,r){if(d&1&&(i(0,"div",29)(1,"div",23)(2,"div",55)(3,"strong"),a(4),n(),i(5,"ul",56)(6,"li"),a(7),n(),i(8,"li"),a(9),n(),i(10,"li"),a(11),n()()()()()),d&2){let t=p(),o=p(2);e(4),l("",o.i18n.t("shifts.fields.flexible_hours"),":"),e(3),w("",o.i18n.t("shifts.fields.flex_minutes_before"),": ",t.flexMinutesBefore||0," ",o.i18n.t("common.minutes")),e(2),w("",o.i18n.t("shifts.fields.flex_minutes_after"),": ",t.flexMinutesAfter||0," ",o.i18n.t("common.minutes")),e(2),w("",o.i18n.t("shifts.fields.grace_period"),": ",t.gracePeriodMinutes||0," ",o.i18n.t("common.minutes"))}}function te(d,r){if(d&1&&(i(0,"div")(1,"div",47)(2,"div",48)(3,"strong"),a(4),n(),c(5,"br"),i(6,"span",32),a(7),n()(),i(8,"div",48)(9,"strong"),a(10),n(),c(11,"br"),i(12,"span",31),a(13),n()()(),i(14,"div",47)(15,"div",48)(16,"strong"),a(17),n(),c(18,"br"),i(19,"span",52),a(20),n()(),i(21,"div",48)(22,"strong"),a(23),n(),c(24,"br"),i(25,"span",53),a(26),n()()(),i(27,"div",47)(28,"div",48)(29,"strong"),a(30),n(),c(31,"br"),i(32,"span",32),a(33),n()(),i(34,"div",48)(35,"strong"),a(36),n(),c(37,"br"),i(38,"span",54),a(39),n()()(),x(40,ee,12,10,"div",29),n()),d&2){let t=r,o=p(2);e(4),l("",o.i18n.t("shifts.fields.name"),":"),e(3),m(t.name),e(3),l("",o.i18n.t("shifts.fields.description"),":"),e(3),m(t.description||"--"),e(4),l("",o.i18n.t("shifts.fields.start_time"),":"),e(3),m(o.getShiftStartTime(t)),e(3),l("",o.i18n.t("shifts.fields.end_time"),":"),e(3),m(o.getShiftEndTime(t)),e(4),l("",o.i18n.t("shifts.fields.working_hours"),":"),e(3),m(o.formatHoursAsTime(t.requiredHours||0)),e(3),l("",o.i18n.t("shifts.fields.shift_type"),":"),e(3),m(o.getShiftTypeDisplay(t)),e(),_(t.allowFlexibleHours?40:-1)}}function ne(d,r){if(d&1&&(i(0,"div",50),c(1,"i",57),i(2,"p"),a(3),n()()),d&2){let t=p(2);e(3),m(t.i18n.t("attendance.daily_detail.no_shift_assigned"))}}function ie(d,r){if(d&1&&(i(0,"div",64)(1,"div",23)(2,"strong"),a(3),n(),i(4,"p",65),a(5),n()()()),d&2){let t=p().$implicit,o=p(4);e(3),l("",o.i18n.t("employee_vacations.fields.notes"),":"),e(2),m(t.notes)}}function ae(d,r){if(d&1&&(i(0,"div",62)(1,"div",28)(2,"div",29)(3,"div",30)(4,"strong"),a(5),n(),c(6,"br"),i(7,"span",32),a(8),n()(),i(9,"div",30)(10,"strong"),a(11),n(),c(12,"br"),i(13,"span",31),a(14),n()(),i(15,"div",36)(16,"strong"),a(17),n(),c(18,"br"),i(19,"span",33),a(20),n()(),i(21,"div",36)(22,"strong"),a(23),n(),c(24,"br")(25,"app-status-badge",63),n(),i(26,"div",36)(27,"strong"),a(28),n(),c(29,"br"),i(30,"small",31),a(31),n()()(),x(32,ie,6,2,"div",64),n()()),d&2){let t=r.$implicit,o=p(4);e(5),l("",o.i18n.t("vacation_types.fields.name"),":"),e(3),m(t.vacationTypeName),e(3),l("",o.i18n.t("employee_vacations.fields.period"),":"),e(3),b(" ",o.formatDate(t.startDate)," - ",o.formatDate(t.endDate)," "),e(3),l("",o.i18n.t("employee_vacations.fields.duration"),":"),e(3),b("",t.durationDays," ",t.durationDays===1?o.i18n.t("common.dayUnit"):o.i18n.t("common.days_text")),e(3),l("",o.i18n.t("employee_vacations.fields.status"),":"),e(2),g("label",t.isApproved?o.i18n.t("employee_vacations.approved"):o.i18n.t("employee_vacations.pending"))("variant",t.isApproved?"success":"warning")("icon",t.isApproved?"fas fa-check-circle":"fas fa-hourglass-half"),e(3),l("",o.i18n.t("common.created_date"),":"),e(3),m(o.formatDate(t.createdAtUtc)),e(),_(t.notes?32:-1)}}function oe(d,r){if(d&1&&(i(0,"div",59)(1,"h6",60),c(2,"i",61),a(3),n(),E(4,ae,33,15,"div",62,k),n()),d&2){let t=p(3);e(3),l(" ",t.i18n.t("attendance.daily_detail.vacations")," "),e(),D(t.leaveExcuseDetails().vacations)}}function re(d,r){if(d&1&&(i(0,"strong"),a(1),n(),c(2,"br")(3,"app-status-badge",63)),d&2){let t=p(5);e(),l("",t.i18n.t("employee_excuses.fields.attachment"),":"),e(2),g("label",t.i18n.t("employee_excuses.has_attachment"))("variant","info")("icon","fas fa-paperclip")}}function de(d,r){if(d&1&&(c(0,"br"),i(1,"small",31),a(2),n()),d&2){let t=p(2).$implicit,o=p(4);e(2),m(o.formatDate(t.approvedAt))}}function le(d,r){if(d&1&&(i(0,"div",68)(1,"strong"),a(2),n(),c(3,"br"),i(4,"span",52),a(5),n(),x(6,de,3,1),n()),d&2){let t=p().$implicit,o=p(4);e(2),l("",o.i18n.t("employee_excuses.fields.approved_by"),":"),e(3),m(t.approvedByName),e(),_(t.approvedAt?6:-1)}}function ce(d,r){if(d&1&&(i(0,"div",64)(1,"div",23)(2,"strong"),a(3),n(),i(4,"p",69),a(5),n()()()),d&2){let t=p().$implicit,o=p(4);e(3),l("",o.i18n.t("employee_excuses.fields.rejection_reason"),":"),e(2),m(t.rejectionReason)}}function se(d,r){if(d&1&&(i(0,"div",64)(1,"div",23)(2,"strong"),a(3),n(),i(4,"p",65),a(5),n()()()),d&2){let t=p().$implicit,o=p(4);e(3),l("",o.i18n.t("employee_excuses.fields.processing_notes"),":"),e(2),m(t.processingNotes)}}function me(d,r){if(d&1&&(i(0,"div",67)(1,"div",28)(2,"div",29)(3,"div",30)(4,"strong"),a(5),n(),c(6,"br"),i(7,"span",51),a(8),n()(),i(9,"div",30)(10,"strong"),a(11),n(),c(12,"br"),i(13,"span",31),a(14),n()(),i(15,"div",36)(16,"strong"),a(17),n(),c(18,"br"),i(19,"span",33),a(20),n()(),i(21,"div",36)(22,"strong"),a(23),n(),c(24,"br"),i(25,"span"),a(26),n()(),i(27,"div",36),x(28,re,4,4),n()(),i(29,"div",64)(30,"div",68)(31,"strong"),a(32),n(),i(33,"p",65),a(34),n()(),x(35,le,7,3,"div",68),n(),x(36,ce,6,2,"div",64),x(37,se,6,2,"div",64),n()()),d&2){let t=r.$implicit,o=p(4);e(5),l("",o.i18n.t("employee_excuses.fields.excuse_type"),":"),e(3),m(t.excuseTypeDisplay),e(3),l("",o.i18n.t("employee_excuses.fields.time_period"),":"),e(3),m(t.timeRangeDisplay),e(3),l("",o.i18n.t("employee_excuses.fields.duration"),":"),e(3),m(t.durationDisplay),e(3),l("",o.i18n.t("employee_excuses.fields.status"),":"),e(2),I(o.getApprovalStatusBadgeClass(t.approvalStatusDisplay)),e(),l(" ",t.approvalStatusDisplay," "),e(2),_(t.hasAttachment?28:-1),e(4),l("",o.i18n.t("employee_excuses.fields.reason"),":"),e(2),m(t.reason),e(),_(t.approvedByName?35:-1),e(),_(t.rejectionReason?36:-1),e(),_(t.processingNotes?37:-1)}}function pe(d,r){if(d&1&&(i(0,"div",59)(1,"h6",66),c(2,"i",46),a(3),n(),E(4,me,38,16,"div",67,k),n()),d&2){let t=p(3);e(3),l(" ",t.i18n.t("attendance.daily_detail.excuses")," "),e(),D(t.leaveExcuseDetails().excuses)}}function xe(d,r){if(d&1&&(i(0,"strong"),a(1),n(),c(2,"br"),i(3,"span",31),a(4),n()),d&2){let t=p().$implicit,o=p(4);e(),l("",o.i18n.t("attendance.remote_work.time_period"),":"),e(3),b("",t.startTime," - ",t.endTime)}}function _e(d,r){if(d&1&&(i(0,"div",64)(1,"div",23)(2,"strong"),a(3),n(),i(4,"p",65),a(5),n()()()),d&2){let t=p().$implicit,o=p(4);e(3),l("",o.i18n.t("attendance.remote_work.notes"),":"),e(2),m(t.notes)}}function ve(d,r){if(d&1&&(i(0,"div",72)(1,"div",28)(2,"div",29)(3,"div",30)(4,"strong"),a(5),n(),c(6,"br"),i(7,"span",33),a(8),n()(),i(9,"div",30)(10,"strong"),a(11),n(),c(12,"br"),i(13,"span",31),a(14),n()(),i(15,"div",30),x(16,xe,5,3),n(),i(17,"div",30)(18,"strong"),a(19),n(),c(20,"br")(21,"app-status-badge",63),n()(),x(22,_e,6,2,"div",64),n()()),d&2){let t=r.$implicit,o=p(4);e(5),l("",o.i18n.t("attendance.remote_work.work_type"),":"),e(3),m(t.workType),e(3),l("",o.i18n.t("attendance.remote_work.location"),":"),e(3),m(t.workLocation),e(2),_(t.startTime&&t.endTime?16:-1),e(3),l("",o.i18n.t("attendance.remote_work.status"),":"),e(2),g("label",t.isApproved?o.i18n.t("attendance.remote_work.approved"):o.i18n.t("attendance.remote_work.pending"))("variant",t.isApproved?"success":"warning")("icon",t.isApproved?"fas fa-check-circle":"fas fa-hourglass-half"),e(),_(t.notes?22:-1)}}function fe(d,r){if(d&1&&(i(0,"div",59)(1,"h6",70),c(2,"i",71),a(3),n(),E(4,ve,23,10,"div",72,k),n()),d&2){let t=p(3);e(3),l(" ",t.i18n.t("attendance.daily_detail.remote_work")," "),e(),D(t.leaveExcuseDetails().remoteWork)}}function ue(d,r){if(d&1&&(i(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25)(4,"h5",26),c(5,"i",58),a(6),n()(),i(7,"div",28),x(8,oe,6,1,"div",59),x(9,pe,6,1,"div",59),x(10,fe,6,1,"div",59),n()()()()),d&2){let t,o,v,f=p(2);e(6),l(" ",f.i18n.t("attendance.daily_detail.leave_excuse_details")," "),e(2),_((t=f.leaveExcuseDetails())!=null&&t.vacations&&f.leaveExcuseDetails().vacations.length>0?8:-1),e(),_((o=f.leaveExcuseDetails())!=null&&o.excuses&&f.leaveExcuseDetails().excuses.length>0?9:-1),e(),_((v=f.leaveExcuseDetails())!=null&&v.remoteWork&&f.leaveExcuseDetails().remoteWork.length>0?10:-1)}}function ge(d,r){if(d&1&&(i(0,"div",68)(1,"strong"),a(2),n(),c(3,"br"),i(4,"p",31),a(5),n()()),d&2){let t=p(3);e(2),l("",t.i18n.t("attendance.fields.notes"),":"),e(3),m(t.attendanceRecord().notes)}}function Ce(d,r){if(d&1&&(i(0,"div",68)(1,"strong"),a(2),n(),c(3,"br")(4,"app-status-badge",63),n()),d&2){let t=p(3);e(2),l("",t.i18n.t("attendance.fields.manual_override"),":"),e(2),g("label",t.i18n.t("attendance.status.manual_override"))("variant","warning")("icon","fas fa-hand-paper")}}function be(d,r){if(d&1&&(i(0,"div",29)(1,"div",23)(2,"strong"),a(3),n(),c(4,"br")(5,"app-status-badge",63),n()()),d&2){let t=p(3);e(3),l("",t.i18n.t("attendance.fields.approval_status"),":"),e(2),g("label",t.attendanceRecord().isApproved?t.i18n.t("attendance.approved"):t.i18n.t("attendance.pending_approval"))("variant",t.attendanceRecord().isApproved?"success":"warning")("icon",t.attendanceRecord().isApproved?"fas fa-check-circle":"fas fa-hourglass-half")}}function ye(d,r){if(d&1&&(i(0,"div",29)(1,"div",23)(2,"div",24)(3,"div",25)(4,"h5",26),c(5,"i",73),a(6),n()(),i(7,"div",28)(8,"div",29),x(9,ge,6,2,"div",68),x(10,Ce,5,4,"div",68),n(),x(11,be,6,4,"div",29),n()()()()),d&2){let t=p(2);e(6),l(" ",t.i18n.t("attendance.daily_detail.additional_info")," "),e(3),_(t.attendanceRecord().notes?9:-1),e(),_(t.attendanceRecord().isManualOverride?10:-1),e(),_(t.attendanceRecord().isApproved!==void 0?11:-1)}}function he(d,r){if(d&1){let t=M();i(0,"div",2),c(1,"app-page-header",7),i(2,"div",8)(3,"nav",9)(4,"ol",10)(5,"li",11)(6,"a",12),a(7),n()(),i(8,"li",11)(9,"a",13),a(10),n()(),i(11,"li",14),a(12),n()()(),i(13,"div",15)(14,"button",16),S("click",function(){y(t);let v=p();return h(v.onRefresh())}),c(15,"i",17),a(16),n(),i(17,"button",18),S("click",function(){y(t);let v=p();return h(v.onEdit())}),c(18,"i",19),a(19),n(),i(20,"button",20),S("click",function(){y(t);let v=p();return h(v.onBack())}),c(21,"i",21),a(22),n()()(),i(23,"div",22)(24,"div",23)(25,"div",24)(26,"div",25)(27,"h5",26),c(28,"i",27),a(29),n()(),i(30,"div",28)(31,"div",29)(32,"div",30)(33,"strong"),a(34),n(),c(35,"br"),i(36,"span",31),a(37),n()(),i(38,"div",30)(39,"strong"),a(40),n(),c(41,"br"),i(42,"span",32),a(43),n()(),i(44,"div",30)(45,"strong"),a(46),n(),c(47,"br"),i(48,"span",31),a(49),n()(),i(50,"div",30)(51,"strong"),a(52),n(),c(53,"br"),i(54,"span",33),a(55),A(56,"date"),n()()()()()()(),i(57,"div",22)(58,"div",23)(59,"div",24)(60,"div",25)(61,"h5",26),c(62,"i",34),a(63),n()(),i(64,"div",28)(65,"div",35)(66,"div",36)(67,"div",37)(68,"h6",38),a(69),n(),c(70,"app-status-badge",39),n()(),i(71,"div",36)(72,"div",37)(73,"h6",38),a(74),n(),i(75,"div",40),a(76),n()()(),i(77,"div",36)(78,"div",37)(79,"h6",38),a(80),n(),i(81,"div",41),a(82),n()()(),i(83,"div",36)(84,"div",37)(85,"h6",38),a(86),n(),i(87,"div",42),a(88),n()()(),i(89,"div",36)(90,"div",37)(91,"h6",38),a(92),n(),i(93,"div",43),a(94),n()()(),i(95,"div",36)(96,"div",37)(97,"h6",38),a(98),n(),i(99,"div",44),a(100),n()()()()()()()(),i(101,"div",22)(102,"div",45)(103,"div",24)(104,"div",25)(105,"h5",26),c(106,"i",46),a(107),n()(),i(108,"div",28)(109,"div",47)(110,"div",48)(111,"strong"),a(112),n(),c(113,"br"),i(114,"span"),a(115),n()(),i(116,"div",48)(117,"strong"),a(118),n(),c(119,"br"),i(120,"span"),a(121),n()()(),x(122,Z,7,2,"div",29),n()()(),i(123,"div",45)(124,"div",24)(125,"div",25)(126,"h5",26),c(127,"i",49),a(128),n()(),i(129,"div",28),x(130,te,41,13,"div")(131,ne,4,1,"div",50),n()()()(),x(132,ue,11,4,"div",22),x(133,ye,12,4,"div",29),n()}if(d&2){let t,o,v,f,s=p();e(),g("title",s.i18n.t("attendance.daily_detail.title")),e(6),m(s.i18n.t("attendance.title")),e(3),m(s.i18n.t("attendance.daily_view")),e(2),l(" ",s.i18n.t("attendance.daily_detail.title")," "),e(4),l(" ",s.i18n.t("common.refresh")," "),e(3),l(" ",s.i18n.t("attendance.actions.edit")," "),e(3),l(" ",s.i18n.t("common.back")," "),e(7),l(" ",s.i18n.t("attendance.daily_detail.employee_info")," "),e(5),l("",s.i18n.t("employees.fields.employee_number"),":"),e(3),m((t=s.employee())==null?null:t.employeeNumber),e(3),l("",s.i18n.t("employees.fields.full_name"),":"),e(3),m((o=s.employee())==null?null:o.fullName),e(3),l("",s.i18n.t("employees.fields.department"),":"),e(3),m(((v=s.employee())==null?null:v.departmentName)||"--"),e(3),l("",s.i18n.t("attendance.fields.attendance_date"),":"),e(3),m(O(56,47,s.attendanceDate,"fullDate")),e(8),l(" ",s.i18n.t("attendance.daily_detail.attendance_overview")," "),e(6),m(s.i18n.t("attendance.fields.status")),e(),g("status",s.statusBadge().label)("variant",s.statusBadge().variant),e(4),m(s.i18n.t("attendance.fields.working_hours")),e(2),m(s.formatHoursAsTime(s.attendanceRecord().workingHours||0)),e(4),m(s.i18n.t("attendance.fields.overtime_hours")),e(2),m(s.formatHoursAsTime(s.attendanceRecord().overtimeHours||0)),e(4),m(s.i18n.t("attendance.fields.late_minutes")),e(2),b("",s.attendanceRecord().lateMinutes||0," ",s.i18n.t("common.minutes")),e(4),m(s.i18n.t("attendance.fields.early_leave_minutes")),e(2),b("",s.attendanceRecord().earlyLeaveMinutes||0," ",s.i18n.t("common.minutes")),e(4),m(s.i18n.t("attendance.fields.total_late")),e(2),b("",s.getTotalLateMinutes()," ",s.i18n.t("common.minutes")),e(7),l(" ",s.i18n.t("attendance.daily_detail.time_details")," "),e(5),l("",s.i18n.t("attendance.fields.check_in_time"),":"),e(2),I(s.attendanceRecord().actualCheckInTime?"text-success fw-bold":"text-muted"),e(),l(" ",s.formatTime(s.attendanceRecord().actualCheckInTime)," "),e(3),l("",s.i18n.t("attendance.fields.check_out_time"),":"),e(2),I(s.attendanceRecord().actualCheckOutTime?"text-info fw-bold":"text-muted"),e(),l(" ",s.formatTime(s.attendanceRecord().actualCheckOutTime)," "),e(),_(s.attendanceRecord().breakHours?122:-1),e(6),l(" ",s.i18n.t("attendance.daily_detail.shift_info")," "),e(2),_((f=s.shift())?130:131,f),e(2),_(s.hasLeaveExcuseData()?132:-1),e(),_(s.attendanceRecord().notes||s.attendanceRecord().isApproved!==void 0?133:-1)}}function Se(d,r){if(d&1){let t=M();i(0,"div",3),c(1,"i",74),i(2,"h5",31),a(3),n(),i(4,"p",31),a(5),n(),i(6,"button",18),S("click",function(){y(t);let v=p();return h(v.onBack())}),c(7,"i",21),a(8),n()()}if(d&2){let t=p();e(3),m(t.i18n.t("attendance.daily_detail.no_data")),e(2),m(t.i18n.t("attendance.daily_detail.no_data_description")),e(3),l(" ",t.i18n.t("common.back")," ")}}var J=class d{route=u(N);router=u(F);fb=u(V);attendanceService=u(K);employeesService=u(G);shiftsService=u(Y);notificationService=u(W);i18n=u(z);loading=C(!1);error=C(null);attendanceRecord=C(null);employee=C(null);shift=C(null);leaveExcuseDetails=C(null);employeeId;attendanceDate;statusBadge=R(()=>{let r=this.attendanceRecord();if(!r)return{label:"",variant:"secondary"};let t=r.status,o="secondary";switch(t){case 1:o="success";break;case 3:o="warning";break;case 2:o="danger";break;case 5:o="info";break;case 9:o="info";break}return{label:this.getStatusDisplayText(t),variant:o}});ngOnInit(){this.route.params.subscribe(r=>{this.employeeId=+r.employeeId,this.attendanceDate=r.date,this.loadData()})}loadData(){return P(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let[r,t,o]=yield Promise.all([this.employeesService.getEmployeeById(this.employeeId).toPromise(),this.attendanceService.getEmployeeAttendanceRecord(this.employeeId,this.attendanceDate).toPromise(),this.attendanceService.getLeaveExcuseDetails(this.employeeId,this.attendanceDate).toPromise()]);r&&this.employee.set(r),t&&this.attendanceRecord.set(t),o&&this.leaveExcuseDetails.set(o)}catch(r){console.error("Error loading attendance details:",r),this.error.set(this.i18n.t("attendance.errors.load_failed")),this.notificationService.error(this.i18n.t("attendance.errors.load_failed"))}finally{this.loading.set(!1)}})}formatTime(r){return r?new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):"--:--"}formatHoursAsTime(r){if(!r||r===0)return"0:00";let t=Math.floor(r),o=Math.round((r-t)*60);if(o===60)return`${t+1}:00`;let v=o.toString().padStart(2,"0");return`${t}:${v}`}getStatusBadgeClass(r){switch(r){case 1:return"badge bg-success";case 3:return"badge bg-warning";case 4:return"badge bg-info";case 2:return"badge bg-danger";case 9:return"badge bg-secondary";case 5:return"badge bg-primary";default:return"badge bg-secondary"}}getStatusDisplayText(r){let t=typeof r=="number"?r.toString():String(r).toLowerCase();return this.i18n.t(`attendance.status.${t}`)}onEdit(){let r=this.attendanceRecord();r&&this.router.navigate(["/attendance/edit",r.id])}onBack(){this.router.navigate(["/attendance/daily"],{queryParams:{date:this.attendanceDate}})}onRefresh(){this.loadData()}getTotalLateMinutes(){let r=this.attendanceRecord();return r?(r.lateMinutes||0)+(r.earlyLeaveMinutes||0):0}getShiftStartTime(r){return!r.shiftPeriods||r.shiftPeriods.length===0?"--:--":r.shiftPeriods[0].startTime}getShiftEndTime(r){return!r.shiftPeriods||r.shiftPeriods.length===0?"--:--":r.shiftPeriods[r.shiftPeriods.length-1].endTime}getShiftTypeDisplay(r){return r.shiftType===1?"Time Based":"Hours Only"}hasLeaveExcuseData(){return this.leaveExcuseDetails()?.hasLeaveExcuseData||!1}formatDate(r){return r?(typeof r=="string"?new Date(r):r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}getApprovalStatusBadgeClass(r){switch(r.toLowerCase()){case"approved":return"badge bg-success";case"pending":return"badge bg-warning";case"rejected":return"badge bg-danger";default:return"badge bg-secondary"}}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=T({type:d,selectors:[["app-daily-attendance-detail"]],decls:4,vars:4,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"min-height","400px"],["role","alert",1,"alert","alert-danger"],[1,"container-fluid"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"fas","fa-exclamation-triangle","me-2"],[3,"title"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],["routerLink","/attendance"],["routerLink","/attendance/daily"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-sync-alt","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-edit","me-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left","me-2"],[1,"row","mb-4"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"fas","fa-user","me-2"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"text-muted"],[1,"text-primary","fw-bold"],[1,"text-info","fw-bold"],[1,"fas","fa-chart-line","me-2"],[1,"row","text-center"],[1,"col-md-2"],[1,"border","rounded","p-3"],[1,"text-muted","small","mb-1"],[1,"fs-6",3,"status","variant"],[1,"fw-bold","text-primary"],[1,"fw-bold","text-success"],[1,"fw-bold","text-warning"],[1,"fw-bold","text-info"],[1,"fw-bold","text-danger"],[1,"col-lg-6"],[1,"fas","fa-clock","me-2"],[1,"row","mb-3"],[1,"col-6"],[1,"fas","fa-calendar-clock","me-2"],[1,"text-center","text-muted","py-3"],[1,"text-warning","fw-bold"],[1,"text-success"],[1,"text-info"],[1,"text-warning"],[1,"alert","alert-info"],[1,"mb-0","mt-2"],[1,"fas","fa-info-circle","fa-2x","mb-2"],[1,"fas","fa-calendar-times","me-2"],[1,"mb-4"],[1,"section-header","vacation-header"],[1,"fas","fa-plane","me-2"],[1,"card","leave-excuse-card","vacation-card","border-start","border-primary","border-3","mb-3"],[3,"label","variant","icon"],[1,"row","mt-2"],[1,"text-muted","mb-0"],[1,"section-header","excuse-header"],[1,"card","leave-excuse-card","excuse-card","border-start","border-warning","border-3","mb-3"],[1,"col-md-6"],[1,"text-danger","mb-0"],[1,"section-header","remote-work-header"],[1,"fas","fa-home","me-2"],[1,"card","leave-excuse-card","remote-work-card","border-start","border-info","border-3","mb-3"],[1,"fas","fa-sticky-note","me-2"],[1,"fas","fa-exclamation-circle","fa-3x","text-muted","mb-3"]],template:function(t,o){t&1&&(x(0,Q,4,1,"div",0),x(1,X,3,1,"div",1),x(2,he,134,50,"div",2),x(3,Se,9,3,"div",3)),t&2&&(_(o.loading()?0:-1),e(),_(o.error()?1:-1),e(),_(!o.loading()&&!o.error()&&o.employee()&&o.attendanceRecord()?2:-1),e(),_(!o.loading()&&!o.error()&&(!o.employee()||!o.attendanceRecord())?3:-1))},dependencies:[B,$,H,j,U,q,L],styles:[".card[_ngcontent-%COMP%]{border:1px solid #e3e6f0;border-radius:.5rem;box-shadow:0 .15rem 1.75rem #3a3b4526}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fc;border-bottom:1px solid #e3e6f0;padding:1rem 1.25rem}.card-title[_ngcontent-%COMP%]{color:#5a5c69;font-weight:600}.badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem}.border[_ngcontent-%COMP%]{border-color:#e3e6f0!important}.text-primary[_ngcontent-%COMP%]{color:#5a9bd4!important}.text-success[_ngcontent-%COMP%]{color:#1cc88a!important}.text-info[_ngcontent-%COMP%]{color:#36b9cc!important}.text-warning[_ngcontent-%COMP%]{color:#f6c23e!important}.text-danger[_ngcontent-%COMP%]{color:#e74a3b!important}.btn[_ngcontent-%COMP%]{border-radius:.35rem;font-weight:400}.btn-primary[_ngcontent-%COMP%]{background-color:#4e73df;border-color:#4e73df}.btn-outline-primary[_ngcontent-%COMP%]{color:#4e73df;border-color:#4e73df}.btn-outline-secondary[_ngcontent-%COMP%]{color:#858796;border-color:#858796}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.alert[_ngcontent-%COMP%]{border-radius:.5rem}.alert-info[_ngcontent-%COMP%]{background-color:#d1ecf1;border-color:#bee5eb;color:#0c5460}.breadcrumb[_ngcontent-%COMP%]{background-color:transparent;padding:0;margin-bottom:0}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5a5c69;text-decoration:none}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4e73df;text-decoration:underline}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#858796}.fw-bold[_ngcontent-%COMP%]{font-weight:600!important}.fs-6[_ngcontent-%COMP%]{font-size:1rem!important}.border-start[_ngcontent-%COMP%]{border-left:4px solid!important}.border-3[_ngcontent-%COMP%]{border-width:3px!important}.border-primary[_ngcontent-%COMP%]{border-color:#4e73df!important}.border-warning[_ngcontent-%COMP%]{border-color:#f6c23e!important}.border-info[_ngcontent-%COMP%]{border-color:#36b9cc!important}.leave-excuse-card[_ngcontent-%COMP%]{transition:all .3s ease;margin-bottom:1rem}.leave-excuse-card[_ngcontent-%COMP%]:hover{box-shadow:0 .25rem 2rem #3a3b4533;transform:translateY(-2px)}.section-header[_ngcontent-%COMP%]{border-bottom:2px solid #e3e6f0;padding-bottom:.5rem;margin-bottom:1rem;font-weight:600}.vacation-header[_ngcontent-%COMP%]{color:#4e73df}.excuse-header[_ngcontent-%COMP%]{color:#f6c23e}.remote-work-header[_ngcontent-%COMP%]{color:#36b9cc}.detail-label[_ngcontent-%COMP%]{font-weight:600;color:#5a5c69;margin-bottom:.25rem}.detail-value[_ngcontent-%COMP%]{color:#858796;margin-bottom:1rem}.status-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.4rem .8rem;border-radius:.25rem;font-weight:500}.attachment-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .6rem}.vacation-card[_ngcontent-%COMP%]{border-left-color:#4e73df;background:linear-gradient(135deg,#f8f9fc,#e7f3ff)}.excuse-card[_ngcontent-%COMP%]{border-left-color:#f6c23e;background:linear-gradient(135deg,#f8f9fc,#fff9e7)}.remote-work-card[_ngcontent-%COMP%]{border-left-color:#36b9cc;background:linear-gradient(135deg,#f8f9fc,#e7fcff)}@media (max-width: 768px){.leave-excuse-card[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%], .leave-excuse-card[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{margin-bottom:1rem}.section-header[_ngcontent-%COMP%]{font-size:1.1rem}}"]})};export{J as DailyAttendanceDetailComponent};
