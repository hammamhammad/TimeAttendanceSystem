import{a as g}from"./chunk-A6EM5NV6.js";import{g as o,u as s,wb as n,xb as d,y as l}from"./chunk-5OFYUWMA.js";var v=class i{http=l(d);baseUrl=`${g.apiUrl}/api/v1/approvals`;getPendingApprovals(e=1,t=10,r,a){let p=new n().set("page",e.toString()).set("pageSize",t.toString());return r!=null&&(p=p.set("entityType",r)),a!=null&&(p=p.set("isOverdue",a.toString())),this.http.get(`${this.baseUrl}/pending`,{params:p}).pipe(o(c=>c.value))}getApprovalHistory(e){let t=new n().set("page",e.page.toString()).set("pageSize",e.pageSize.toString());return e.entityType&&(t=t.set("entityType",e.entityType)),e.action&&(t=t.set("action",e.action)),e.dateFrom&&(t=t.set("dateFrom",e.dateFrom)),e.dateTo&&(t=t.set("dateTo",e.dateTo)),this.http.get(`${this.baseUrl}/history`,{params:t}).pipe(o(r=>r.value))}approveStep(e,t){return this.http.post(`${this.baseUrl}/${e}/approve`,t).pipe(o(()=>{}))}rejectStep(e,t){return this.http.post(`${this.baseUrl}/${e}/reject`,t).pipe(o(()=>{}))}delegateStep(e,t){return this.http.post(`${this.baseUrl}/${e}/delegate`,t).pipe(o(()=>{}))}cancelWorkflow(e,t){return this.http.post(`${this.baseUrl}/${e}/cancel`,{reason:t}).pipe(o(()=>{}))}createDelegation(e){return this.http.post(`${this.baseUrl}/delegations`,e).pipe(o(t=>t.value))}deleteDelegation(e){return this.http.delete(`${this.baseUrl}/delegations/${e}`).pipe(o(()=>{}))}getEntityTypeDisplayName(e){return{Vacation:"Vacation Request",Excuse:"Excuse Request",RemoteWork:"Remote Work Request",Overtime:"Overtime Request",Timesheet:"Timesheet",AttendanceCorrection:"Attendance Correction"}[e]||e}getActionDisplayName(e){return{Approved:"Approved",Rejected:"Rejected",Delegated:"Delegated",Skipped:"Skipped",TimedOut:"Timed Out"}[e]||e}getActionBadgeClass(e){return{Approved:"bg-success",Rejected:"bg-danger",Delegated:"bg-info",Skipped:"bg-secondary",TimedOut:"bg-warning text-dark"}[e]||"bg-secondary"}static \u0275fac=function(t){return new(t||i)};static \u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})};export{v as a};
