{
  "version": 3,
  "sources": ["src/app/pages/branches/view-branch/view-branch.component.ts"],
  "sourcesContent": ["import { Component, OnInit, signal, inject } from '@angular/core';\r\n\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { BranchesService } from '../branches.service';\r\nimport { Branch } from '../../../shared/models/branch.model';\r\nimport { I18nService } from '../../../core/i18n/i18n.service';\r\nimport { PageHeaderComponent } from '../../../shared/components/page-header/page-header.component';\r\nimport { DetailCardComponent, DetailField } from '../../../shared/components/detail-card/detail-card.component';\r\nimport { StatusBadgeComponent } from '../../../shared/components/status-badge/status-badge.component';\r\nimport { StatCardComponent } from '../../../shared/components/stat-card/stat-card.component';\r\nimport { LoadingSpinnerComponent } from '../../../shared/components/loading-spinner/loading-spinner.component';\r\n\r\n@Component({\r\n  selector: 'app-view-branch',\r\n  standalone: true,\r\n  imports: [\r\n    RouterModule,\r\n    PageHeaderComponent,\r\n    DetailCardComponent,\r\n    StatusBadgeComponent,\r\n    StatCardComponent,\r\n    LoadingSpinnerComponent\r\n],\r\n  template: `\r\n    <div class=\"app-view-page\">\r\n      <!-- Standardized Page Header -->\r\n      <app-page-header\r\n        [title]=\"i18n.t('branches.view_details')\">\r\n      </app-page-header>\r\n\r\n      @if (loading()) {\r\n        <div class=\"d-flex justify-content-center py-5\">\r\n          <app-loading-spinner\r\n            [message]=\"i18n.t('common.loading')\"\r\n            [centered]=\"true\">\r\n          </app-loading-spinner>\r\n        </div>\r\n      } @else if (branch()) {\r\n        <!-- Branch Details Layout -->\r\n        <div class=\"app-desktop-sidebar\">\r\n          <!-- Main Content -->\r\n          <div class=\"app-main-content\">\r\n            <!-- Branch Information Card -->\r\n            <app-detail-card\r\n              [title]=\"branch()?.name\"\r\n              [subtitle]=\"branch()?.code\"\r\n              icon=\"fas fa-building\"\r\n              [fields]=\"branchFields\"\r\n              layout=\"two-column\">\r\n            </app-detail-card>\r\n          </div>\r\n\r\n          <!-- Sidebar -->\r\n          <div class=\"app-sidebar-content\">\r\n            <!-- Quick Actions Card -->\r\n            <div class=\"card mb-3\">\r\n              <div class=\"card-header\">\r\n                <h6 class=\"card-title mb-0\">{{ i18n.t('common.actions') }}</h6>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"d-grid gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-primary\"\r\n                    (click)=\"onEdit()\">\r\n                    <i class=\"fa-solid fa-edit me-2\"></i>\r\n                    {{ i18n.t('branches.edit') }}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-info\"\r\n                    (click)=\"onViewEmployees()\">\r\n                    <i class=\"fa-solid fa-users me-2\"></i>\r\n                    {{ i18n.t('branches.view_employees') }}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-secondary\"\r\n                    (click)=\"onViewDepartments()\">\r\n                    <i class=\"fa-solid fa-sitemap me-2\"></i>\r\n                    {{ i18n.t('branches.view_departments') }}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Statistics Cards -->\r\n            <div class=\"d-flex flex-column gap-3\">\r\n              <app-stat-card\r\n                [label]=\"i18n.t('branches.employees')\"\r\n                [value]=\"statistics()?.employeeCount || 0\"\r\n                icon=\"fas fa-users\"\r\n                variant=\"primary\"\r\n                [clickable]=\"true\"\r\n                [clickableText]=\"i18n.t('branches.view_employees')\"\r\n                (click)=\"onViewEmployees()\">\r\n              </app-stat-card>\r\n\r\n              <app-stat-card\r\n                [label]=\"i18n.t('branches.departments')\"\r\n                [value]=\"statistics()?.departmentCount || 0\"\r\n                icon=\"fas fa-sitemap\"\r\n                variant=\"info\"\r\n                [clickable]=\"true\"\r\n                [clickableText]=\"i18n.t('branches.view_departments')\"\r\n                (click)=\"onViewDepartments()\">\r\n              </app-stat-card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      } @else {\r\n        <div class=\"alert alert-danger\">\r\n          <i class=\"fa-solid fa-exclamation-triangle me-2\"></i>\r\n          {{ error() || i18n.t('branches.branch_not_found') }}\r\n        </div>\r\n      }\r\n    </div>\r\n  `\r\n})\r\nexport class ViewBranchComponent implements OnInit {\r\n  private route = inject(ActivatedRoute);\r\n  private router = inject(Router);\r\n  private branchesService = inject(BranchesService);\r\n  public i18n = inject(I18nService);\r\n\r\n  branch = signal<Branch | null>(null);\r\n  statistics = signal<{employeeCount: number, departmentCount: number} | null>(null);\r\n  loading = signal(true);\r\n  error = signal('');\r\n\r\n\r\n  get branchFields(): DetailField[] {\r\n    const branch = this.branch();\r\n    if (!branch) return [];\r\n\r\n    return [\r\n      {\r\n        label: this.i18n.t('branches.name'),\r\n        value: branch.name\r\n      },\r\n      {\r\n        label: this.i18n.t('branches.code'),\r\n        value: branch.code,\r\n        copyable: true\r\n      },\r\n      {\r\n        label: this.i18n.t('branches.timezone'),\r\n        value: branch.timeZone\r\n      },\r\n      {\r\n        label: this.i18n.t('common.status'),\r\n        value: branch.isActive ? this.i18n.t('common.active') : this.i18n.t('common.inactive'),\r\n        type: 'badge',\r\n        badgeVariant: branch.isActive ? 'success' : 'danger'\r\n      },\r\n      {\r\n        label: this.i18n.t('common.phone'),\r\n        value: '-'\r\n      },\r\n      {\r\n        label: this.i18n.t('common.email'),\r\n        value: '-'\r\n      },\r\n      {\r\n        label: this.i18n.t('branches.created_at'),\r\n        value: branch.createdAtUtc,\r\n        type: 'date'\r\n      }\r\n    ];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const branchId = this.route.snapshot.paramMap.get('id');\r\n    if (branchId) {\r\n      this.loadBranch(branchId);\r\n      this.loadStatistics(branchId);\r\n    } else {\r\n      this.error.set('Invalid branch ID');\r\n      this.loading.set(false);\r\n    }\r\n  }\r\n\r\n  loadBranch(branchId: string): void {\r\n    // Mock loading branch for now\r\n    setTimeout(() => {\r\n      const mockBranch: Branch = {\r\n        id: parseInt(branchId),\r\n        name: 'Sample Branch',\r\n        code: 'SAMPLE',\r\n        timeZone: 'UTC',\r\n        isActive: true,\r\n        employeeCount: 10,\r\n        departmentCount: 3,\r\n        createdAtUtc: '2024-01-01T00:00:00Z'\r\n      };\r\n      this.branch.set(mockBranch);\r\n      this.loading.set(false);\r\n    }, 1000);\r\n  }\r\n\r\n  loadStatistics(branchId: string): void {\r\n    // Mock statistics for now\r\n    this.statistics.set({\r\n      employeeCount: Math.floor(Math.random() * 100),\r\n      departmentCount: Math.floor(Math.random() * 20)\r\n    });\r\n  }\r\n\r\n  onEdit(): void {\r\n    if (this.branch()) {\r\n      this.router.navigate(['/branches', this.branch()!.id, 'edit']);\r\n    }\r\n  }\r\n\r\n  onViewEmployees(): void {\r\n    if (this.branch()) {\r\n      this.router.navigate(['/employees'], { queryParams: { branchId: this.branch()!.id } });\r\n    }\r\n  }\r\n\r\n  onViewDepartments(): void {\r\n    if (this.branch()) {\r\n      this.router.navigate(['/departments'], { queryParams: { branchId: this.branch()!.id } });\r\n    }\r\n  }\r\n\r\n  onBack(): void {\r\n    this.router.navigate(['/branches']);\r\n  }\r\n\r\n  formatDate(dateString: string): string {\r\n    return new Date(dateString).toLocaleDateString();\r\n  }\r\n\r\n  private getErrorMessage(error: any): string {\r\n    if (error?.error?.error) {\r\n      return error.error.error;\r\n    }\r\n    return this.i18n.t('errors.unknown');\r\n  }\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BQ,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,oBAAA,GAAA,uBAAA,CAAA;AAIF,IAAA,uBAAA;;;;AAHI,IAAA,oBAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,KAAA,EAAA,gBAAA,CAAA,EAAoC,YAAA,IAAA;;;;;;;AAMxC,IAAA,yBAAA,GAAA,OAAA,CAAA,EAAiC,GAAA,OAAA,CAAA;AAI7B,IAAA,oBAAA,GAAA,mBAAA,CAAA;AAOF,IAAA,uBAAA;AAGA,IAAA,yBAAA,GAAA,OAAA,CAAA,EAAiC,GAAA,OAAA,CAAA,EAER,GAAA,OAAA,EAAA,EACI,GAAA,MAAA,EAAA;AACK,IAAA,iBAAA,CAAA;AAA8B,IAAA,uBAAA,EAAK;AAEjE,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAuB,GAAA,OAAA,EAAA,EACK,IAAA,UAAA,EAAA;AAItB,IAAA,qBAAA,SAAA,gCAAA,sEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,OAAA,CAAQ;IAAA,GAAjB,sEAAiB;AACjB,IAAA,oBAAA,IAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AACF,IAAA,uBAAA;AACA,IAAA,yBAAA,IAAA,UAAA,EAAA;AAGE,IAAA,qBAAA,SAAA,gCAAA,sEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,gBAAA,CAAiB;IAAA,GAA1B,sEAA0B;AAC1B,IAAA,oBAAA,IAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AACF,IAAA,uBAAA;AACA,IAAA,yBAAA,IAAA,UAAA,EAAA;AAGE,IAAA,qBAAA,SAAA,gCAAA,sEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,kBAAA,CAAmB;IAAA,GAA5B,sEAA4B;AAC5B,IAAA,oBAAA,IAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AACF,IAAA,uBAAA,EAAS,EACL,EACF;AAIR,IAAA,yBAAA,IAAA,OAAA,EAAA,EAAsC,IAAA,iBAAA,EAAA;AAQlC,IAAA,qBAAA,SAAA,gCAAA,6EAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,gBAAA,CAAiB;IAAA,GAA1B,6EAA0B;AAC5B,IAAA,uBAAA;AAEA,IAAA,yBAAA,IAAA,iBAAA,EAAA;AAOE,IAAA,qBAAA,SAAA,gCAAA,6EAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,kBAAA,CAAmB;IAAA,GAA5B,6EAA4B;AAC9B,IAAA,uBAAA,EAAgB,EACZ,EACF;;;;;;;;AAhEF,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,UAAA,UAAA,OAAA,OAAA,MAAA,OAAA,OAAA,QAAA,IAAA,EAAwB,aAAA,UAAA,OAAA,OAAA,MAAA,OAAA,OAAA,QAAA,IAAA,EACG,UAAA,OAAA,YAAA;AAYG,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,KAAA,EAAA,gBAAA,CAAA;AASxB,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,KAAA,EAAA,eAAA,GAAA,GAAA;AAOA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,KAAA,EAAA,yBAAA,GAAA,GAAA;AAOA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,KAAA,EAAA,2BAAA,GAAA,GAAA;AASJ,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,SAAA,OAAA,KAAA,EAAA,oBAAA,CAAA,EAAsC,WAAA,UAAA,OAAA,WAAA,MAAA,OAAA,OAAA,QAAA,kBAAA,CAAA,EACI,aAAA,IAAA,EAGxB,iBAAA,OAAA,KAAA,EAAA,yBAAA,CAAA;AAMlB,IAAA,oBAAA;AAAA,IAAA,qBAAA,SAAA,OAAA,KAAA,EAAA,sBAAA,CAAA,EAAwC,WAAA,WAAA,OAAA,WAAA,MAAA,OAAA,OAAA,SAAA,oBAAA,CAAA,EACI,aAAA,IAAA,EAG1B,iBAAA,OAAA,KAAA,EAAA,2BAAA,CAAA;;;;;;AAQ1B,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,oBAAA,GAAA,KAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AADE,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,MAAA,KAAA,OAAA,KAAA,EAAA,2BAAA,GAAA,GAAA;;;;AAMJ,IAAO,uBAAP,MAAO,qBAAmB;EACtB,QAAQ,OAAO,cAAc;EAC7B,SAAS,OAAO,MAAM;EACtB,kBAAkB,OAAO,eAAe;EACzC,OAAO,OAAO,WAAW;EAEhC,SAAS,OAAsB,MAAI,GAAA,YAAA,CAAA,EAAA,WAAA,SAAA,CAAA,IAAA,CAAA,CAAA;EACnC,aAAa,OAAgE,MAAI,GAAA,YAAA,CAAA,EAAA,WAAA,aAAA,CAAA,IAAA,CAAA,CAAA;EACjF,UAAU,OAAO,MAAI,GAAA,YAAA,CAAA,EAAA,WAAA,UAAA,CAAA,IAAA,CAAA,CAAA;EACrB,QAAQ,OAAO,IAAE,GAAA,YAAA,CAAA,EAAA,WAAA,QAAA,CAAA,IAAA,CAAA,CAAA;EAGjB,IAAI,eAAY;AACd,UAAM,SAAS,KAAK,OAAM;AAC1B,QAAI,CAAC;AAAQ,aAAO,CAAA;AAEpB,WAAO;MACL;QACE,OAAO,KAAK,KAAK,EAAE,eAAe;QAClC,OAAO,OAAO;;MAEhB;QACE,OAAO,KAAK,KAAK,EAAE,eAAe;QAClC,OAAO,OAAO;QACd,UAAU;;MAEZ;QACE,OAAO,KAAK,KAAK,EAAE,mBAAmB;QACtC,OAAO,OAAO;;MAEhB;QACE,OAAO,KAAK,KAAK,EAAE,eAAe;QAClC,OAAO,OAAO,WAAW,KAAK,KAAK,EAAE,eAAe,IAAI,KAAK,KAAK,EAAE,iBAAiB;QACrF,MAAM;QACN,cAAc,OAAO,WAAW,YAAY;;MAE9C;QACE,OAAO,KAAK,KAAK,EAAE,cAAc;QACjC,OAAO;;MAET;QACE,OAAO,KAAK,KAAK,EAAE,cAAc;QACjC,OAAO;;MAET;QACE,OAAO,KAAK,KAAK,EAAE,qBAAqB;QACxC,OAAO,OAAO;QACd,MAAM;;;EAGZ;EAEA,WAAQ;AACN,UAAM,WAAW,KAAK,MAAM,SAAS,SAAS,IAAI,IAAI;AACtD,QAAI,UAAU;AACZ,WAAK,WAAW,QAAQ;AACxB,WAAK,eAAe,QAAQ;IAC9B,OAAO;AACL,WAAK,MAAM,IAAI,mBAAmB;AAClC,WAAK,QAAQ,IAAI,KAAK;IACxB;EACF;EAEA,WAAW,UAAgB;AAEzB,eAAW,MAAK;AACd,YAAM,aAAqB;QACzB,IAAI,SAAS,QAAQ;QACrB,MAAM;QACN,MAAM;QACN,UAAU;QACV,UAAU;QACV,eAAe;QACf,iBAAiB;QACjB,cAAc;;AAEhB,WAAK,OAAO,IAAI,UAAU;AAC1B,WAAK,QAAQ,IAAI,KAAK;IACxB,GAAG,GAAI;EACT;EAEA,eAAe,UAAgB;AAE7B,SAAK,WAAW,IAAI;MAClB,eAAe,KAAK,MAAM,KAAK,OAAM,IAAK,GAAG;MAC7C,iBAAiB,KAAK,MAAM,KAAK,OAAM,IAAK,EAAE;KAC/C;EACH;EAEA,SAAM;AACJ,QAAI,KAAK,OAAM,GAAI;AACjB,WAAK,OAAO,SAAS,CAAC,aAAa,KAAK,OAAM,EAAI,IAAI,MAAM,CAAC;IAC/D;EACF;EAEA,kBAAe;AACb,QAAI,KAAK,OAAM,GAAI;AACjB,WAAK,OAAO,SAAS,CAAC,YAAY,GAAG,EAAE,aAAa,EAAE,UAAU,KAAK,OAAM,EAAI,GAAE,EAAE,CAAE;IACvF;EACF;EAEA,oBAAiB;AACf,QAAI,KAAK,OAAM,GAAI;AACjB,WAAK,OAAO,SAAS,CAAC,cAAc,GAAG,EAAE,aAAa,EAAE,UAAU,KAAK,OAAM,EAAI,GAAE,EAAE,CAAE;IACzF;EACF;EAEA,SAAM;AACJ,SAAK,OAAO,SAAS,CAAC,WAAW,CAAC;EACpC;EAEA,WAAW,YAAkB;AAC3B,WAAO,IAAI,KAAK,UAAU,EAAE,mBAAkB;EAChD;EAEQ,gBAAgB,OAAU;AAChC,QAAI,OAAO,OAAO,OAAO;AACvB,aAAO,MAAM,MAAM;IACrB;AACA,WAAO,KAAK,KAAK,EAAE,gBAAgB;EACrC;;AAxH8B;cAAnB;mCAAA,sBAAmB;AAAA;cAAnB,uFAAA,sBAAmB,WAAA,CAAA,CAAA,iBAAA,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,OAAA,GAAA,CAAA,GAAA,UAAA,0BAAA,MAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,GAAA,SAAA,cAAA,GAAA,CAAA,GAAA,WAAA,UAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,QAAA,mBAAA,UAAA,cAAA,GAAA,SAAA,YAAA,QAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,GAAA,QAAA,MAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,cAAA,MAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,UAAA,OAAA,GAAA,CAAA,QAAA,UAAA,GAAA,OAAA,uBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,YAAA,WAAA,MAAA,GAAA,CAAA,QAAA,UAAA,GAAA,OAAA,oBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,YAAA,YAAA,MAAA,GAAA,CAAA,QAAA,UAAA,GAAA,OAAA,yBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,YAAA,cAAA,MAAA,GAAA,CAAA,GAAA,UAAA,eAAA,OAAA,GAAA,CAAA,QAAA,gBAAA,WAAA,WAAA,GAAA,SAAA,SAAA,SAAA,aAAA,eAAA,GAAA,CAAA,QAAA,kBAAA,WAAA,QAAA,GAAA,SAAA,SAAA,SAAA,aAAA,eAAA,GAAA,CAAA,GAAA,YAAA,2BAAA,MAAA,CAAA,GAAA,UAAA,gCAAA,6BAAA,IAAA,KAAA;AAAA,MAAA,KAAA,GAAA;AA/F5B,IAAA,yBAAA,GAAA,OAAA,CAAA;AAEE,IAAA,oBAAA,GAAA,mBAAA,CAAA;AAIA,IAAA,8BAAA,GAAA,4CAAA,GAAA,GAAA,OAAA,CAAA,EAAiB,GAAA,4CAAA,IAAA,IAAA,OAAA,CAAA,EAOM,GAAA,4CAAA,GAAA,GAAA,OAAA,CAAA;AA+EzB,IAAA,uBAAA;;;AAzFI,IAAA,oBAAA;AAAA,IAAA,qBAAA,SAAA,IAAA,KAAA,EAAA,uBAAA,CAAA;AAGF,IAAA,oBAAA;AAAA,IAAA,wBAAA,IAAA,QAAA,IAAA,IAAA,IAAA,OAAA,IAAA,IAAA,CAAA;;GAyF0B;EAvG5B;EACA;EACA;EAEA;EACA;AAAuB,GAAA,eAAA,EAAA,CAAA;AAkGrB,IAAO,sBAAP;;sEAAO,qBAAmB,CAAA;UA3G/B;WAAU;MACT,UAAU;MACV,YAAY;MACZ,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;;MAEF,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA+FX;;;;6EACY,qBAAmB,EAAA,WAAA,uBAAA,UAAA,+DAAA,YAAA,IAAA,CAAA;AAAA,GAAA;",
  "names": []
}
