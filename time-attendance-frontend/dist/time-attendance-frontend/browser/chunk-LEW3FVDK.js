import{a as ie}from"./chunk-GBFD7MFB.js";import{a as ee}from"./chunk-QS4HD2YC.js";import{a as $}from"./chunk-SRPEDAT4.js";import{a as te}from"./chunk-6YOSOA3I.js";import"./chunk-5MHFUEKN.js";import"./chunk-Y62N6K5S.js";import{b as N,c as R,e as A,f as L,g as z,h as D,i as j,j as G,k as J,s as K,t as Q,u as U,v as X,x as Y}from"./chunk-VRETN7JA.js";import"./chunk-O7LPL3AF.js";import{b as Z}from"./chunk-3VZ5QHEY.js";import{g as B}from"./chunk-TWXUAMJ4.js";import{$a as P,Bb as d,Cb as h,Db as _,Ea as E,Eb as V,Ib as p,Jb as g,Kb as C,Lb as H,R as v,W as f,X as c,Xa as b,Ya as x,Za as W,_a as O,ab as k,bb as y,cb as n,da as T,db as r,eb as M,lb as F,nb as S,nc as I,pb as u,ta as i,wc as q}from"./chunk-JSQL33QG.js";import"./chunk-DGAILPFQ.js";function ae(m,s){if(m&1){let t=F();n(0,"div",10)(1,"label",62),d(2),n(3,"span",12),d(4,"*"),r()(),n(5,"div",50)(6,"input",63),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.requiredHours,o)||(l.shiftForm.requiredHours=o),c(o)}),r(),n(7,"span",52),d(8),r()(),n(9,"div",48),d(10),r()()}if(m&2){let t=u();i(2),_(" ",t.t("shifts.requiredHours")," "),i(4),p("ngModel",t.shiftForm.requiredHours),i(2),h(t.t("shifts.hours")),i(2),h(t.t("shifts.help.requiredHours"))}}function de(m,s){if(m&1&&(n(0,"small",44),d(1),r()),m&2){let t=u();i(),h(t.t("shifts.help.nightShiftDisabledHoursOnly"))}}function le(m,s){if(m&1){let t=F();n(0,"button",69),S("click",function(){f(t);let o=u(2);return c(o.addShiftPeriod())}),M(1,"i",70),d(2),r()}if(m&2){let t=u(2);i(2),_("",t.t("shifts.addPeriod")," ")}}function me(m,s){if(m&1){let t=F();n(0,"button",79),S("click",function(){f(t);let o=u().$index,l=u(2);return c(l.removeShiftPeriod(o))}),M(1,"i",80),r()}}function he(m,s){if(m&1){let t=F();n(0,"div",66)(1,"div",71)(2,"span",21),d(3),r(),n(4,"div",72)(5,"span",73),d(6),r(),n(7,"span",74),d(8),r(),b(9,me,2,0,"button",75),r()(),n(10,"div",76)(11,"div",2)(12,"div",17)(13,"label",77),d(14),r(),n(15,"input",78),C("ngModelChange",function(o){let l=f(t).$implicit;return g(l.startTime,o)||(l.startTime=o),c(o)}),r()(),n(16,"div",17)(17,"label",77),d(18),r(),n(19,"input",78),C("ngModelChange",function(o){let l=f(t).$implicit;return g(l.endTime,o)||(l.endTime=o),c(o)}),r()()()()()}if(m&2){let t=s.$implicit,e=s.$index,o=u(2);i(3),V("",o.t("shifts.period")," ",t.periodOrder),i(2),y("ngClass",o.isNightShift(t.startTime,t.endTime)?"bg-info":"bg-primary"),i(),_(" ",o.getPeriodTypeText(t)," "),i(2),h(o.formatHours(o.calculatePeriodHours(t.startTime,t.endTime))),i(),x(o.shiftForm.shiftPeriods.length>1?9:-1),i(5),h(o.t("shifts.startTime")),i(),p("ngModel",t.startTime),y("name","startTime_"+e),i(3),h(o.t("shifts.endTime")),i(),p("ngModel",t.endTime),y("name","endTime_"+e)}}function fe(m,s){if(m&1&&(n(0,"app-form-section",8)(1,"div",9)(2,"div",3)(3,"div",64),b(4,le,3,1,"button",65),r(),P(5,he,20,12,"div",66,W),n(7,"div",67),M(8,"i",68),n(9,"span"),d(10),n(11,"strong"),d(12),r()()()()()()),m&2){let t=u();y("title",t.t("shifts.periods")),i(4),x(t.shiftForm.shiftPeriods.length<2?4:-1),i(),k(t.shiftForm.shiftPeriods),i(5),_("",t.t("shifts.totalHours"),": "),i(2),h(t.formatHours(t.getTotalShiftHours()))}}function ce(m,s){if(m&1){let t=F();n(0,"div",10)(1,"label",81),d(2),n(3,"span",12),d(4,"*"),r()(),n(5,"input",82),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.coreStart,o)||(l.shiftForm.coreStart=o),c(o)}),r()(),n(6,"div",10)(7,"label",83),d(8),n(9,"span",12),d(10,"*"),r()(),n(11,"input",84),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.coreEnd,o)||(l.shiftForm.coreEnd=o),c(o)}),r()()}if(m&2){let t=u();i(2),_(" ",t.t("shifts.coreStart")," "),i(3),p("ngModel",t.shiftForm.coreStart),i(3),_(" ",t.t("shifts.coreEnd")," "),i(3),p("ngModel",t.shiftForm.coreEnd)}}function ue(m,s){if(m&1&&(n(0,"small",53),d(1),r()),m&2){let t=u();i(),h(t.t("shifts.help.weeklyHoursCoreRequired"))}}function pe(m,s){if(m&1&&(n(0,"small",44),d(1),r()),m&2){let t=u(2);i(),h(t.t("shifts.help.gracePeriodDisabledFlexible"))}}function ge(m,s){if(m&1){let t=F();n(0,"div",10)(1,"label",89),d(2),r(),n(3,"div",50)(4,"input",90),C("ngModelChange",function(o){f(t);let l=u(2);return g(l.shiftForm.flexMinutesBefore,o)||(l.shiftForm.flexMinutesBefore=o),c(o)}),r(),n(5,"span",52),d(6),r()(),n(7,"div",48),d(8),r()(),n(9,"div",10)(10,"label",91),d(11),r(),n(12,"div",50)(13,"input",92),C("ngModelChange",function(o){f(t);let l=u(2);return g(l.shiftForm.flexMinutesAfter,o)||(l.shiftForm.flexMinutesAfter=o),c(o)}),r(),n(14,"span",52),d(15),r()(),n(16,"div",48),d(17),r()()}if(m&2){let t=u(2);i(2),h(t.t("shifts.flexMinutesBefore")),i(2),p("ngModel",t.shiftForm.flexMinutesBefore),i(2),h(t.t("common.minutes")),i(2),h(t.t("shifts.help.flexBefore")),i(3),h(t.t("shifts.flexMinutesAfter")),i(2),p("ngModel",t.shiftForm.flexMinutesAfter),i(2),h(t.t("common.minutes")),i(2),h(t.t("shifts.help.flexAfter"))}}function Ce(m,s){if(m&1){let t=F();n(0,"div",10)(1,"label",85),d(2),r(),n(3,"div",50)(4,"input",86),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.gracePeriodMinutes,o)||(l.shiftForm.gracePeriodMinutes=o),c(o)}),S("ngModelChange",function(){f(t);let o=u();return c(o.onGracePeriodChange())}),r(),n(5,"span",52),d(6),r()(),n(7,"div",48),d(8),r(),b(9,pe,2,1,"small",44),r(),n(10,"div",14)(11,"div",45)(12,"input",87),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.allowFlexibleHours,o)||(l.shiftForm.allowFlexibleHours=o),c(o)}),S("change",function(){f(t);let o=u();return c(o.onFlexibleHoursChange())}),r(),n(13,"label",88),d(14),r()(),n(15,"div",48),d(16),r()(),b(17,ge,18,8)}if(m&2){let t=u();i(2),h(t.t("shifts.gracePeriodMinutes")),i(2),p("ngModel",t.shiftForm.gracePeriodMinutes),y("disabled",t.shiftForm.allowFlexibleHours),i(2),h(t.t("common.minutes")),i(2),h(t.t("shifts.help.gracePeriod")),i(),x(t.shiftForm.allowFlexibleHours?9:-1),i(3),p("ngModel",t.shiftForm.allowFlexibleHours),i(2),_(" ",t.t("shifts.allowFlexibleHours")," "),i(2),h(t.t("shifts.help.flexibleHours")),i(),x(t.shiftForm.allowFlexibleHours?17:-1)}}function ye(m,s){if(m&1&&(n(0,"div",97),d(1),r()),m&2){let t=s.$implicit;i(),_("\u2022 ",t)}}function _e(m,s){if(m&1&&(n(0,"div",9)(1,"div",3)(2,"div",93)(3,"div",94),M(4,"i",95),n(5,"div")(6,"h6",96),d(7),r(),P(8,ye,2,1,"div",97,O),r()()()()()),m&2){let t=u();i(7),h(t.t("common.validationErrors")),i(),k(t.getFormErrors())}}function be(m,s){if(m&1&&(M(0,"span",98),d(1)),m&2){let t=u();i(),_(" ",t.t("shifts.loading.creating")," ")}}function xe(m,s){if(m&1&&(M(0,"i",99),d(1)),m&2){let t=u();i(),_("",t.t("shifts.create")," ")}}var ne=class m{shiftsService=v(te);router=v(B);i18n=v(Z);ShiftType=ie;loading=T(!1);submitting=T(!1);shiftForm={name:"",description:"",shiftType:1,requiredHours:void 0,isCheckInRequired:!0,isAutoCheckOut:!1,allowFlexibleHours:!1,flexMinutesBefore:void 0,flexMinutesAfter:void 0,gracePeriodMinutes:void 0,requiredWeeklyHours:void 0,hasCoreHours:!1,coreStart:"",coreEnd:"",isSunday:!1,isMonday:!0,isTuesday:!0,isWednesday:!0,isThursday:!0,isFriday:!0,isSaturday:!1,isNightShift:!1,shiftPeriods:[{periodOrder:1,startTime:"08:00",endTime:"17:00"}]};ngOnInit(){}t(s){return this.i18n.t(s)}onShiftTypeChange(){this.shiftForm.shiftType===2?(this.shiftForm.allowFlexibleHours=!1,this.shiftForm.flexMinutesBefore=void 0,this.shiftForm.flexMinutesAfter=void 0,this.shiftForm.gracePeriodMinutes=void 0,this.shiftForm.shiftPeriods=[],this.shiftForm.isNightShift=!1,this.shiftForm.requiredHours||(this.shiftForm.requiredHours=8)):(this.shiftForm.requiredHours=void 0,this.shiftForm.shiftPeriods.length===0&&this.addShiftPeriod())}onCoreHoursChange(){this.shiftForm.hasCoreHours?(this.shiftForm.coreStart||(this.shiftForm.coreStart="09:00"),this.shiftForm.coreEnd||(this.shiftForm.coreEnd="15:00")):(this.shiftForm.coreStart="",this.shiftForm.coreEnd="")}onFlexibleHoursChange(){this.shiftForm.allowFlexibleHours?this.shiftForm.gracePeriodMinutes=void 0:(this.shiftForm.flexMinutesBefore=void 0,this.shiftForm.flexMinutesAfter=void 0)}onGracePeriodChange(){this.shiftForm.gracePeriodMinutes&&this.shiftForm.gracePeriodMinutes>0&&(this.shiftForm.allowFlexibleHours=!1,this.shiftForm.flexMinutesBefore=void 0,this.shiftForm.flexMinutesAfter=void 0)}onWeeklyHoursChange(){this.shiftForm.requiredWeeklyHours&&this.shiftForm.requiredWeeklyHours>0&&(this.shiftForm.hasCoreHours||(this.shiftForm.hasCoreHours=!0,this.onCoreHoursChange()))}onNightShiftChange(){this.shiftForm.isNightShift&&this.shiftForm.shiftType===2&&(this.shiftForm.isNightShift=!1)}addShiftPeriod(){if(this.shiftForm.shiftPeriods.length<2){let s=this.shiftForm.shiftPeriods.length+1;this.shiftForm.shiftPeriods.push({periodOrder:s,startTime:s===1?"08:00":"13:00",endTime:s===1?"12:00":"17:00"})}}removeShiftPeriod(s){this.shiftForm.shiftPeriods.splice(s,1),this.shiftForm.shiftPeriods.forEach((t,e)=>{t.periodOrder=e+1})}calculatePeriodHours(s,t){if(!s||!t)return 0;let e=this.parseTime(s),o=this.parseTime(t);if(o>e)return(o-e)/(1e3*60*60);if(o<e){let l=(864e5-e)/36e5,a=o/(1e3*60*60);return l+a}else return 0}isNightShift(s,t){if(!s||!t)return!1;let e=this.parseTime(s);return this.parseTime(t)<e}getTotalShiftHours(){return this.shiftForm.shiftType===2?this.shiftForm.requiredHours||0:this.shiftForm.shiftPeriods.reduce((s,t)=>s+this.calculatePeriodHours(t.startTime,t.endTime),0)}getWorkingDaysCount(){let s=0;return this.shiftForm.isSunday&&s++,this.shiftForm.isMonday&&s++,this.shiftForm.isTuesday&&s++,this.shiftForm.isWednesday&&s++,this.shiftForm.isThursday&&s++,this.shiftForm.isFriday&&s++,this.shiftForm.isSaturday&&s++,s}parseTime(s){let[t,e]=s.split(":").map(Number);return(t*60+e)*60*1e3}formatHours(s){let t=Math.floor(s),e=Math.round((s-t)*60);return e>0?`${t}h ${e}m`:`${t}h`}getPeriodTypeText(s){return this.isNightShift(s.startTime,s.endTime)?this.t("shifts.periodTypes.nightShift"):this.t("shifts.periodTypes.dayShift")}validateBusinessRules(){let s=[];if(this.shiftForm.name.trim()||s.push(this.t("shifts.validation.name.required")),this.shiftForm.isSunday||this.shiftForm.isMonday||this.shiftForm.isTuesday||this.shiftForm.isWednesday||this.shiftForm.isThursday||this.shiftForm.isFriday||this.shiftForm.isSaturday||s.push(this.t("shifts.validation.workingDays.required")),this.shiftForm.hasCoreHours)if(!this.shiftForm.coreStart||!this.shiftForm.coreEnd)s.push(this.t("shifts.validation.coreHours.required"));else{let e=this.parseTime(this.shiftForm.coreStart),o=this.parseTime(this.shiftForm.coreEnd);e===o&&s.push(this.t("shifts.validation.coreHours.sameTime")),this.shiftForm.shiftType===1&&this.shiftForm.shiftPeriods.length>0&&(this.shiftForm.shiftPeriods.some(a=>this.isCoreWithinPeriod(a,this.shiftForm.coreStart,this.shiftForm.coreEnd))||s.push(this.t("shifts.validation.coreHours.outsidePeriods")))}return this.shiftForm.requiredWeeklyHours!==void 0&&this.shiftForm.requiredWeeklyHours!==null&&(this.shiftForm.requiredWeeklyHours<=0&&s.push(this.t("shifts.validation.weeklyHours.positive")),this.shiftForm.requiredWeeklyHours>168&&s.push(this.t("shifts.validation.weeklyHours.maxWeekly")),this.shiftForm.hasCoreHours||s.push(this.t("shifts.validation.weeklyHours.coreHoursRequired"))),this.shiftForm.allowFlexibleHours&&this.shiftForm.gracePeriodMinutes&&this.shiftForm.gracePeriodMinutes>0&&s.push(this.t("shifts.validation.flexible.noGracePeriod")),this.shiftForm.isNightShift&&this.shiftForm.shiftType===2&&s.push(this.t("shifts.validation.nightShift.notWithHoursOnly")),this.shiftForm.shiftType===1?(this.shiftForm.shiftPeriods.length===0&&s.push(this.t("shifts.validation.timeBased.periodsRequired")),this.shiftForm.requiredHours!==void 0&&s.push(this.t("shifts.validation.timeBased.noRequiredHours"))):this.shiftForm.shiftType===2&&(this.shiftForm.shiftPeriods.length>0&&s.push(this.t("shifts.validation.hoursOnly.noPeriods")),(!this.shiftForm.requiredHours||this.shiftForm.requiredHours<=0)&&s.push(this.t("shifts.validation.hoursOnly.requiredHours")),this.shiftForm.requiredHours&&this.shiftForm.requiredHours>24&&s.push(this.t("shifts.validation.hoursOnly.maxHours"))),s}isCoreWithinPeriod(s,t,e){let o=this.parseTime(s.startTime),l=this.parseTime(s.endTime),a=this.parseTime(t),w=this.parseTime(e);if(l<o){let re=a>=o&&w>=o,oe=a<=l&&w<=l,se=a>=o&&w<=l;return re||oe||se}else return a>=o&&w<=l}isFormValid(){return this.validateBusinessRules().length===0}getFormErrors(){return this.validateBusinessRules()}onSubmit(){if(!this.isFormValid())return;this.submitting.set(!0);let s={name:this.shiftForm.name.trim(),description:this.shiftForm.description.trim()||void 0,shiftType:this.shiftForm.shiftType,requiredHours:this.shiftForm.requiredHours,isCheckInRequired:this.shiftForm.isCheckInRequired,isAutoCheckOut:this.shiftForm.isAutoCheckOut,allowFlexibleHours:this.shiftForm.allowFlexibleHours,flexMinutesBefore:this.shiftForm.flexMinutesBefore,flexMinutesAfter:this.shiftForm.flexMinutesAfter,gracePeriodMinutes:this.shiftForm.gracePeriodMinutes,requiredWeeklyHours:this.shiftForm.requiredWeeklyHours,hasCoreHours:this.shiftForm.hasCoreHours,coreStart:this.shiftForm.hasCoreHours?this.shiftForm.coreStart:void 0,coreEnd:this.shiftForm.hasCoreHours?this.shiftForm.coreEnd:void 0,isSunday:this.shiftForm.isSunday,isMonday:this.shiftForm.isMonday,isTuesday:this.shiftForm.isTuesday,isWednesday:this.shiftForm.isWednesday,isThursday:this.shiftForm.isThursday,isFriday:this.shiftForm.isFriday,isSaturday:this.shiftForm.isSaturday,isNightShift:this.shiftForm.isNightShift,shiftPeriods:this.shiftForm.shiftPeriods.length>0?this.shiftForm.shiftPeriods.map(t=>({periodOrder:t.periodOrder,startTime:t.startTime,endTime:t.endTime})):void 0};this.shiftsService.createShift(s).subscribe({next:()=>{this.router.navigate(["/shifts"]),this.submitting.set(!1)},error:t=>{console.error("Failed to create shift:",t),this.submitting.set(!1)}})}onCancel(){this.router.navigate(["/shifts"])}static \u0275fac=function(t){return new(t||m)};static \u0275cmp=E({type:m,selectors:[["app-create-shift"]],decls:138,vars:66,consts:[["formRef","ngForm"],[1,"container-fluid","px-4"],[1,"row"],[1,"col-12"],["mode","create","moduleName","shifts","moduleRoute","shifts",3,"title","subtitle"],[1,"card","border-0","shadow-sm"],[1,"card-body","p-4"],[3,"ngSubmit"],[3,"title"],[1,"row","mb-4"],[1,"col-md-6","mb-3"],["for","name",1,"form-label"],[1,"text-danger"],["type","text","id","name","name","name","required","","maxlength","200",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-12","mb-3"],["for","description",1,"form-label"],["id","description","name","description","rows","3","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-md-6"],[1,"form-check","p-3","border","rounded"],["type","radio","name","shiftType","id","timeBased",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],["for","timeBased",1,"form-check-label","w-100"],[1,"fw-medium"],[1,"text-muted"],["type","radio","name","shiftType","id","hoursOnly",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],["for","hoursOnly",1,"form-check-label","w-100"],[1,"col-md-3","col-6","mb-2"],[1,"form-check"],["type","checkbox","id","sunday","name","isSunday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","sunday",1,"form-check-label"],["type","checkbox","id","monday","name","isMonday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","monday",1,"form-check-label"],["type","checkbox","id","tuesday","name","isTuesday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","tuesday",1,"form-check-label"],["type","checkbox","id","wednesday","name","isWednesday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","wednesday",1,"form-check-label"],["type","checkbox","id","thursday","name","isThursday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","thursday",1,"form-check-label"],["type","checkbox","id","friday","name","isFriday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","friday",1,"form-check-label"],["type","checkbox","id","saturday","name","isSaturday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","saturday",1,"form-check-label"],[1,"col-12","mt-3"],["type","checkbox","id","nightShift","name","isNightShift",1,"form-check-input",3,"ngModelChange","change","ngModel","disabled"],["for","nightShift",1,"form-check-label","fw-medium"],[1,"text-warning","d-block"],[1,"form-check","form-switch"],["type","checkbox","id","hasCoreHours","name","hasCoreHours",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","hasCoreHours",1,"form-check-label"],[1,"form-text"],["for","requiredWeeklyHours",1,"form-label"],[1,"input-group"],["type","number","id","requiredWeeklyHours","name","requiredWeeklyHours","step","0.5","min","0","max","168",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group-text"],[1,"text-info","d-block"],["type","checkbox","id","checkInRequired","name","isCheckInRequired",1,"form-check-input",3,"ngModelChange","ngModel"],["for","checkInRequired",1,"form-check-label"],["type","checkbox","id","autoCheckOut","name","isAutoCheckOut",1,"form-check-input",3,"ngModelChange","ngModel"],["for","autoCheckOut",1,"form-check-label"],[1,"mb-4"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","requiredHours",1,"form-label"],["type","number","id","requiredHours","name","requiredHours","step","0.5","min","0.5","max","24","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-sm"],[1,"card","border","mb-3"],[1,"alert","alert-info","d-flex","align-items-center"],[1,"bi","bi-info-circle","me-2"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center","py-2"],[1,"d-flex","align-items-center","gap-2"],[1,"badge",3,"ngClass"],[1,"text-muted","small"],["type","button",1,"btn","btn-outline-danger","btn-sm"],[1,"card-body"],[1,"form-label"],["type","time","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["for","coreStart",1,"form-label"],["type","time","id","coreStart","name","coreStart","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","coreEnd",1,"form-label"],["type","time","id","coreEnd","name","coreEnd","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","gracePeriod",1,"form-label"],["type","number","id","gracePeriod","name","gracePeriodMinutes","min","0","max","120",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","checkbox","id","flexibleHours","name","allowFlexibleHours",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","flexibleHours",1,"form-check-label"],["for","flexBefore",1,"form-label"],["type","number","id","flexBefore","name","flexMinutesBefore","min","1","max","480",1,"form-control",3,"ngModelChange","ngModel"],["for","flexAfter",1,"form-label"],["type","number","id","flexAfter","name","flexMinutesAfter","min","1","max","480",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-danger"],[1,"d-flex","align-items-start"],[1,"bi","bi-exclamation-triangle","me-2","mt-1"],[1,"alert-heading","mb-2"],[1,"mb-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-check-circle","me-2"]],template:function(t,e){if(t&1){let o=F();n(0,"div",1)(1,"div",2)(2,"div",3),M(3,"app-form-header",4),n(4,"div",5)(5,"div",6)(6,"form",7,0),S("ngSubmit",function(){return f(o),c(e.onSubmit())}),n(8,"app-form-section",8)(9,"div",9)(10,"div",10)(11,"label",11),d(12),n(13,"span",12),d(14,"*"),r()(),n(15,"input",13),C("ngModelChange",function(a){return f(o),g(e.shiftForm.name,a)||(e.shiftForm.name=a),c(a)}),r()(),n(16,"div",14)(17,"label",15),d(18),r(),n(19,"textarea",16),C("ngModelChange",function(a){return f(o),g(e.shiftForm.description,a)||(e.shiftForm.description=a),c(a)}),r()()()(),n(20,"app-form-section",8)(21,"div",9)(22,"div",14)(23,"div",2)(24,"div",17)(25,"div",18)(26,"input",19),C("ngModelChange",function(a){return f(o),g(e.shiftForm.shiftType,a)||(e.shiftForm.shiftType=a),c(a)}),S("change",function(){return f(o),c(e.onShiftTypeChange())}),r(),n(27,"label",20)(28,"div",21),d(29),r(),n(30,"small",22),d(31),r()()()(),n(32,"div",17)(33,"div",18)(34,"input",23),C("ngModelChange",function(a){return f(o),g(e.shiftForm.shiftType,a)||(e.shiftForm.shiftType=a),c(a)}),S("change",function(){return f(o),c(e.onShiftTypeChange())}),r(),n(35,"label",24)(36,"div",21),d(37),r(),n(38,"small",22),d(39),r()()()()()(),b(40,ae,11,4,"div",10),r()(),n(41,"app-form-section",8)(42,"div",9)(43,"div",14)(44,"div",2)(45,"div",25)(46,"div",26)(47,"input",27),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isSunday,a)||(e.shiftForm.isSunday=a),c(a)}),r(),n(48,"label",28),d(49),r()()(),n(50,"div",25)(51,"div",26)(52,"input",29),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isMonday,a)||(e.shiftForm.isMonday=a),c(a)}),r(),n(53,"label",30),d(54),r()()(),n(55,"div",25)(56,"div",26)(57,"input",31),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isTuesday,a)||(e.shiftForm.isTuesday=a),c(a)}),r(),n(58,"label",32),d(59),r()()(),n(60,"div",25)(61,"div",26)(62,"input",33),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isWednesday,a)||(e.shiftForm.isWednesday=a),c(a)}),r(),n(63,"label",34),d(64),r()()(),n(65,"div",25)(66,"div",26)(67,"input",35),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isThursday,a)||(e.shiftForm.isThursday=a),c(a)}),r(),n(68,"label",36),d(69),r()()(),n(70,"div",25)(71,"div",26)(72,"input",37),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isFriday,a)||(e.shiftForm.isFriday=a),c(a)}),r(),n(73,"label",38),d(74),r()()(),n(75,"div",25)(76,"div",26)(77,"input",39),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isSaturday,a)||(e.shiftForm.isSaturday=a),c(a)}),r(),n(78,"label",40),d(79),r()()()(),n(80,"small",22),d(81),r()(),n(82,"div",41)(83,"div",26)(84,"input",42),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isNightShift,a)||(e.shiftForm.isNightShift=a),c(a)}),S("change",function(){return f(o),c(e.onNightShiftChange())}),r(),n(85,"label",43),d(86),r()(),n(87,"small",22),d(88),r(),b(89,de,2,1,"small",44),r()()(),b(90,fe,13,4,"app-form-section",8),n(91,"app-form-section",8)(92,"div",9)(93,"div",14)(94,"div",45)(95,"input",46),C("ngModelChange",function(a){return f(o),g(e.shiftForm.hasCoreHours,a)||(e.shiftForm.hasCoreHours=a),c(a)}),S("change",function(){return f(o),c(e.onCoreHoursChange())}),r(),n(96,"label",47),d(97),r()(),n(98,"div",48),d(99),r()(),b(100,ce,12,4),r()(),n(101,"app-form-section",8)(102,"div",9)(103,"div",10)(104,"label",49),d(105),r(),n(106,"div",50)(107,"input",51),C("ngModelChange",function(a){return f(o),g(e.shiftForm.requiredWeeklyHours,a)||(e.shiftForm.requiredWeeklyHours=a),c(a)}),S("ngModelChange",function(){return f(o),c(e.onWeeklyHoursChange())}),r(),n(108,"span",52),d(109),r()(),n(110,"div",48),d(111),r(),b(112,ue,2,1,"small",53),r(),n(113,"div",10)(114,"div",45)(115,"input",54),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isCheckInRequired,a)||(e.shiftForm.isCheckInRequired=a),c(a)}),r(),n(116,"label",55),d(117),r()(),n(118,"div",48),d(119),r()(),n(120,"div",10)(121,"div",45)(122,"input",56),C("ngModelChange",function(a){return f(o),g(e.shiftForm.isAutoCheckOut,a)||(e.shiftForm.isAutoCheckOut=a),c(a)}),r(),n(123,"label",57),d(124),r()(),n(125,"div",48),d(126),r()(),b(127,Ce,18,10),r()(),b(128,_e,10,1,"div",9),n(129,"div",2)(130,"div",3),M(131,"hr",58),n(132,"div",59)(133,"button",60),S("click",function(){return f(o),c(e.onCancel())}),d(134),r(),n(135,"button",61),b(136,be,2,1)(137,xe,2,1),r()()()()()()()()()()}t&2&&(i(3),y("title",e.t("shifts.create"))("subtitle",e.t("shifts.createDescription")),i(5),y("title",e.t("common.basicInformation")),i(4),_(" ",e.t("shifts.name")," "),i(3),y("placeholder",H(e.t("shifts.namePlaceholder"))),p("ngModel",e.shiftForm.name),i(3),h(e.t("shifts.description")),i(),y("placeholder",H(e.t("shifts.descriptionPlaceholder"))),p("ngModel",e.shiftForm.description),i(),y("title",e.t("shifts.type")),i(6),y("value",e.ShiftType.TimeBased),p("ngModel",e.shiftForm.shiftType),i(3),h(e.t("shifts.types.timeBased")),i(2),h(e.t("shifts.help.shiftType.timeBased")),i(3),y("value",e.ShiftType.HoursOnly),p("ngModel",e.shiftForm.shiftType),i(3),h(e.t("shifts.types.hoursOnly")),i(2),h(e.t("shifts.help.shiftType.hoursOnly")),i(),x(e.shiftForm.shiftType===e.ShiftType.HoursOnly?40:-1),i(),y("title",e.t("shifts.workingDays")),i(6),p("ngModel",e.shiftForm.isSunday),i(2),h(e.t("common.days.sunday")),i(3),p("ngModel",e.shiftForm.isMonday),i(2),h(e.t("common.days.monday")),i(3),p("ngModel",e.shiftForm.isTuesday),i(2),h(e.t("common.days.tuesday")),i(3),p("ngModel",e.shiftForm.isWednesday),i(2),h(e.t("common.days.wednesday")),i(3),p("ngModel",e.shiftForm.isThursday),i(2),h(e.t("common.days.thursday")),i(3),p("ngModel",e.shiftForm.isFriday),i(2),h(e.t("common.days.friday")),i(3),p("ngModel",e.shiftForm.isSaturday),i(2),h(e.t("common.days.saturday")),i(2),h(e.t("shifts.help.workingDays")),i(3),p("ngModel",e.shiftForm.isNightShift),y("disabled",e.shiftForm.shiftType===e.ShiftType.HoursOnly),i(2),_(" ",e.t("shifts.isNightShift")," "),i(2),h(e.t("shifts.help.nightShift")),i(),x(e.shiftForm.shiftType===e.ShiftType.HoursOnly?89:-1),i(),x(e.shiftForm.shiftType===e.ShiftType.TimeBased?90:-1),i(),y("title",e.t("shifts.coreHours")),i(4),p("ngModel",e.shiftForm.hasCoreHours),i(2),_(" ",e.t("shifts.hasCoreHours")," "),i(2),h(e.t("shifts.help.coreHours")),i(),x(e.shiftForm.hasCoreHours?100:-1),i(),y("title",e.t("shifts.advancedOptions")),i(4),h(e.t("shifts.requiredWeeklyHours")),i(2),p("ngModel",e.shiftForm.requiredWeeklyHours),i(2),h(e.t("shifts.hours")),i(2),h(e.t("shifts.help.requiredWeeklyHours")),i(),x(e.shiftForm.requiredWeeklyHours&&e.shiftForm.requiredWeeklyHours>0?112:-1),i(3),p("ngModel",e.shiftForm.isCheckInRequired),i(2),_(" ",e.t("shifts.checkInRequired")," "),i(2),h(e.t("shifts.help.checkInRequired")),i(3),p("ngModel",e.shiftForm.isAutoCheckOut),i(2),_(" ",e.t("shifts.autoCheckOut")," "),i(2),h(e.t("shifts.help.autoCheckOut")),i(),x(e.shiftForm.shiftType===e.ShiftType.TimeBased?127:-1),i(),x(!e.isFormValid()&&e.shiftForm.name?128:-1),i(5),y("disabled",e.submitting()),i(),_(" ",e.t("common.cancel")," "),i(),y("disabled",!e.isFormValid()||e.submitting()),i(),x(e.submitting()?136:137))},dependencies:[q,I,Y,j,R,G,N,J,A,L,U,X,Q,K,D,z,ee,$],styles:['.create-shift-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:24px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#1f2937;margin-bottom:8px}.page-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden;margin-bottom:24px}.form-section[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #f3f4f6}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin-bottom:16px;display:flex;align-items:center;gap:8px}.section-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:#3b82f6}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.form-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:.875rem}.form-label.required[_ngcontent-%COMP%]:after{content:" *";color:#ef4444}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;transition:all .2s ease;background-color:#fff}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.checkbox-input[_ngcontent-%COMP%]{width:16px;height:16px;accent-color:#3b82f6}.checkbox-label[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;cursor:pointer}.working-days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin-top:12px}.day-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;border:1px solid #e5e7eb;border-radius:6px;background-color:#f9fafb;transition:all .2s ease}.day-checkbox[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.day-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .day-checkbox[_ngcontent-%COMP%], .day-checkbox.active[_ngcontent-%COMP%]{background-color:#eff6ff;border-color:#3b82f6}.shift-periods[_ngcontent-%COMP%]{margin-top:16px}.period-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-bottom:12px;background-color:#f9fafb}.period-header[_ngcontent-%COMP%]{display:flex;justify-content:between;align-items:center;margin-bottom:12px}.period-title[_ngcontent-%COMP%]{font-weight:500;color:#374151;display:flex;align-items:center;gap:8px}.period-type[_ngcontent-%COMP%]{font-size:.75rem;padding:2px 8px;border-radius:12px;font-weight:500}.period-type.day[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.period-type.night[_ngcontent-%COMP%]{background-color:#e0e7ff;color:#3730a3}.remove-period-btn[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca;padding:6px 12px;border-radius:4px;font-size:.75rem;cursor:pointer;transition:all .2s ease}.remove-period-btn[_ngcontent-%COMP%]:hover{background-color:#fee2e2;border-color:#fca5a5}.add-period-btn[_ngcontent-%COMP%]{background:#f0f9ff;color:#0369a1;border:1px solid #bae6fd;padding:8px 16px;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:6px}.add-period-btn[_ngcontent-%COMP%]:hover{background-color:#e0f2fe;border-color:#7dd3fc}.add-period-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.time-inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:8px}.period-info[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-top:4px}.shift-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:1px solid #0ea5e9;border-radius:8px;padding:16px;margin-top:16px}.summary-title[_ngcontent-%COMP%]{font-weight:600;color:#0c4a6e;margin-bottom:8px;font-size:.875rem}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:4px 0;font-size:.875rem}.summary-label[_ngcontent-%COMP%]{color:#374151}.summary-value[_ngcontent-%COMP%]{font-weight:500;color:#0c4a6e}.form-errors[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;border-radius:6px;padding:12px;margin-bottom:20px}.error-title[_ngcontent-%COMP%]{color:#dc2626;font-weight:500;margin-bottom:8px;font-size:.875rem}.error-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.error-item[_ngcontent-%COMP%]{color:#dc2626;font-size:.875rem;padding:2px 0}.error-item[_ngcontent-%COMP%]:before{content:"\\2022";margin-right:8px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:16px;border-top:1px solid #f3f4f6;margin-top:24px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;border:1px solid;transition:all .2s ease;display:flex;align-items:center;gap:6px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb;border-color:#2563eb}.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;border-color:#d1d5db;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f9fafb;border-color:#9ca3af}.loading-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.help-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-top:4px;line-height:1.4}.info-badge[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8;padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:500;display:inline-block}@media (max-width: 768px){.create-shift-container[_ngcontent-%COMP%]{padding:16px}.form-row[_ngcontent-%COMP%], .time-inputs[_ngcontent-%COMP%], .working-days-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}']})};export{ne as CreateShiftComponent};
