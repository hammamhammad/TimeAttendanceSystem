import{a as s}from"./chunk-CQWUHIOF.js";import{L as o,Q as n,jc as a,kc as l,n as i}from"./chunk-LHYYCVNR.js";var b=class p{http=n(l);baseUrl=`${s.apiUrl}/api/v1/employees`;branchesUrl=`${s.apiUrl}/api/v1/branches`;departmentsUrl=`${s.apiUrl}/api/v1/departments`;getEmployees(e={}){let t=new a;return e.page&&(t=t.set("page",e.page.toString())),e.pageSize&&(t=t.set("pageSize",e.pageSize.toString())),e.search&&(t=t.set("search",e.search)),e.branchId&&(t=t.set("branchId",e.branchId.toString())),e.departmentId&&(t=t.set("departmentId",e.departmentId.toString())),e.managerId&&(t=t.set("managerId",e.managerId.toString())),e.isActive!==void 0&&(t=t.set("isActive",e.isActive.toString())),e.employmentStatus&&(t=t.set("employmentStatus",e.employmentStatus)),this.http.get(this.baseUrl,{params:t})}getEmployeeById(e){return this.http.get(`${this.baseUrl}/${e}`)}createEmployee(e){return this.http.post(this.baseUrl,e)}updateEmployee(e,t){return this.http.put(`${this.baseUrl}/${e}`,t)}deleteEmployee(e){return this.http.delete(`${this.baseUrl}/${e}`)}getBranches(){let e=new a().set("page","1").set("pageSize","100").set("isActive","true");return this.http.get(this.branchesUrl,{params:e})}getDepartments(e){let t=new a;return e&&(t=t.set("branchId",e.toString())),this.http.get(this.departmentsUrl,{params:t})}getEmployeesForSelection(){let e=new a().set("page","1").set("pageSize","1000").set("isActive","true");return this.http.get(this.baseUrl,{params:e}).pipe(i(t=>t.items.map(r=>({id:r.id,name:r.fullName,employeeNumber:r.employeeNumber}))))}getManagers(e){let t=new a().set("page","1").set("pageSize","1000").set("isActive","true");return e&&(t=t.set("branchId",e.toString())),this.http.get(this.baseUrl,{params:t}).pipe(i(r=>r.items.map(m=>({id:m.id,name:m.fullName,employeeNumber:m.employeeNumber}))))}static \u0275fac=function(t){return new(t||p)};static \u0275prov=o({token:p,factory:p.\u0275fac,providedIn:"root"})};export{b as a};
