import{a as z,b as q,c as H}from"./chunk-QFQY3MFX.js";import{a as F}from"./chunk-Y3B3FNFW.js";import{d as P,g as R,h as U}from"./chunk-4DYU65FO.js";import{b as $}from"./chunk-CQWUHIOF.js";import{$a as t,Ca as O,Q as E,Ta as s,Ua as u,V as j,W as M,_a as n,ab as x,ca as f,eb as B,ec as W,gb as b,ib as c,qb as i,ra as e,rb as m,sb as p,tb as G}from"./chunk-LHYYCVNR.js";import"./chunk-DGAILPFQ.js";function K(o,d){if(o&1&&(n(0,"div",13)(1,"div",16)(2,"span",17),i(3),t()()()),o&2){let l=c();e(3),m(l.t("common.loading"))}}function Q(o,d){if(o&1&&(n(0,"dt",29),i(1),t(),n(2,"dd",30),i(3),t()),o&2){let l=c(2);e(),p("",l.t("employees.date_of_birth"),":"),e(2),m(l.formatDate(l.employee().dateOfBirth))}}function X(o,d){if(o&1&&(n(0,"span",34),i(1),t()),o&2){let l=c(2);e(),m(l.t("common.active"))}}function Y(o,d){if(o&1&&(n(0,"span",35),i(1),t()),o&2){let l=c(2);e(),m(l.t("common.inactive"))}}function Z(o,d){if(o&1&&(n(0,"div",32)(1,"h6",33),i(2),t(),n(3,"span",42),i(4),t()()),o&2){let l=c(2);e(2),m(l.t("employees.gender.title")),e(2),m(l.getGenderLabel(l.employee().gender))}}function ee(o,d){if(o&1&&(n(0,"div",43)(1,"small",26),i(2),t(),x(3,"br"),n(4,"span"),i(5),t()()),o&2){let l,r=c(3);e(2),m(r.t("employees.first_name_ar")),e(3),m((l=r.employee())==null?null:l.firstNameAr)}}function te(o,d){if(o&1&&(n(0,"div",43)(1,"small",26),i(2),t(),x(3,"br"),n(4,"span"),i(5),t()()),o&2){let l,r=c(3);e(2),m(r.t("employees.last_name_ar")),e(3),m((l=r.employee())==null?null:l.lastNameAr)}}function ne(o,d){if(o&1&&(n(0,"div")(1,"small",26),i(2),t(),x(3,"br"),n(4,"span"),i(5),t()()),o&2){let l,r=c(3);e(2),m(r.t("employees.job_title_ar")),e(3),m((l=r.employee())==null?null:l.jobTitleAr)}}function ie(o,d){if(o&1&&(n(0,"div",37)(1,"div",20)(2,"h6",21),i(3),t()(),n(4,"div",27),s(5,ee,6,2,"div",43),s(6,te,6,2,"div",43),s(7,ne,6,2,"div"),t()()),o&2){let l,r,_,y=c(2);e(3),m(y.t("employees.arabic_names")),e(2),u((l=y.employee())!=null&&l.firstNameAr?5:-1),e(),u((r=y.employee())!=null&&r.lastNameAr?6:-1),e(),u((_=y.employee())!=null&&_.jobTitleAr?7:-1)}}function le(o,d){if(o&1&&(n(0,"button",40),x(1,"i",44),i(2),t()),o&2){let l=c(2);e(2),p(" ",l.t("employees.deactivate")," ")}}function ae(o,d){if(o&1&&(n(0,"button",41),x(1,"i",45),i(2),t()),o&2){let l=c(2);e(2),p(" ",l.t("employees.activate")," ")}}function oe(o,d){if(o&1){let l=B();n(0,"div",14)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h5",21)(5,"div",22)(6,"div",23)(7,"div",24),i(8),t()(),n(9,"div")(10,"div",25),i(11),t(),n(12,"small",26),i(13),t()()()()(),n(14,"div",27)(15,"div",14)(16,"div",28)(17,"dl",14)(18,"dt",29),i(19),t(),n(20,"dd",30),i(21),t(),n(22,"dt",29),i(23),t(),n(24,"dd",30),i(25),t(),n(26,"dt",29),i(27),t(),n(28,"dd",30),i(29),t(),n(30,"dt",29),i(31),t(),n(32,"dd",30),i(33),t(),n(34,"dt",29),i(35),t(),n(36,"dd",30),i(37),t(),n(38,"dt",29),i(39),t(),n(40,"dd",30),i(41),t()()(),n(42,"div",28)(43,"dl",14)(44,"dt",29),i(45),t(),n(46,"dd",30),i(47),t(),n(48,"dt",29),i(49),t(),n(50,"dd",30),i(51),t(),n(52,"dt",29),i(53),t(),n(54,"dd",30),i(55),t(),n(56,"dt",29),i(57),t(),n(58,"dd",30),i(59),t(),n(60,"dt",29),i(61),t(),n(62,"dd",30),i(63),t(),s(64,Q,4,2),t()()()()()(),n(65,"div",31)(66,"div",19)(67,"div",20)(68,"h6",21),i(69),t()(),n(70,"div",27)(71,"div",32)(72,"h6",33),i(73),t(),s(74,X,2,1,"span",34)(75,Y,2,1,"span",35),t(),n(76,"div",32)(77,"h6",33),i(78),t(),n(79,"span",36),i(80),t()(),n(81,"div",32)(82,"h6",33),i(83),t(),n(84,"span",35),i(85),t()(),s(86,Z,5,2,"div",32),n(87,"div")(88,"h6",33),i(89),t(),n(90,"small",26),i(91),t()()()(),s(92,ie,8,4,"div",37),n(93,"div",37)(94,"div",20)(95,"h6",21),i(96),t()(),n(97,"div",27)(98,"div",38)(99,"button",39),b("click",function(){j(l);let _=c();return M(_.onEdit())}),x(100,"i",10),i(101),t(),s(102,le,3,1,"button",40)(103,ae,3,1,"button",41),t()()()()()}if(o&2){let l,r,_,y,C,g,I,S,h,w,N,T,k,V,L,A,v,D,a=c();e(8),G(" ",(((l=a.employee())==null||l.firstName==null?null:l.firstName.charAt(0))||"")==null?null:(((l=l)==null||l.firstName==null?null:l.firstName.charAt(0))||"").toUpperCase(),"",(((l=a.employee())==null||l.lastName==null?null:l.lastName.charAt(0))||"")==null?null:(((l=l)==null||l.lastName==null?null:l.lastName.charAt(0))||"").toUpperCase()," "),e(3),m((r=a.employee())==null?null:r.fullName),e(2),m((_=a.employee())==null?null:_.employeeNumber),e(6),p("",a.t("employees.employee_number"),":"),e(2),m((y=a.employee())==null?null:y.employeeNumber),e(2),p("",a.t("employees.first_name"),":"),e(2),m((C=a.employee())==null?null:C.firstName),e(2),p("",a.t("employees.last_name"),":"),e(2),m((g=a.employee())==null?null:g.lastName),e(2),p("",a.t("employees.email"),":"),e(2),m(((I=a.employee())==null?null:I.email)||"-"),e(2),p("",a.t("employees.phone"),":"),e(2),m(((S=a.employee())==null?null:S.phone)||"-"),e(2),p("",a.t("employees.national_id"),":"),e(2),m(((h=a.employee())==null?null:h.nationalId)||"-"),e(4),p("",a.t("employees.job_title"),":"),e(2),m((w=a.employee())==null?null:w.jobTitle),e(2),p("",a.t("employees.branch"),":"),e(2),m((N=a.employee())==null?null:N.branchName),e(2),p("",a.t("employees.department"),":"),e(2),m(((T=a.employee())==null?null:T.departmentName)||"-"),e(2),p("",a.t("employees.manager"),":"),e(2),m(((k=a.employee())==null?null:k.managerName)||"-"),e(2),p("",a.t("employees.hire_date"),":"),e(2),m(a.formatDate(a.employee().hireDate)),e(),u((V=a.employee())!=null&&V.dateOfBirth?64:-1),e(5),m(a.t("employees.employment_details")),e(4),m(a.t("common.status")),e(),u((L=a.employee())!=null&&L.isActive?74:75),e(4),m(a.t("employees.employment_status.title")),e(2),m(a.getEmploymentStatusLabel(a.employee().employmentStatus)),e(3),m(a.t("employees.work_location.title")),e(2),m(a.getWorkLocationTypeLabel(a.employee().workLocationType)),e(),u((A=a.employee())!=null&&A.gender?86:-1),e(3),m(a.t("employees.created_at")),e(2),m(a.formatDate(a.employee().createdAtUtc)),e(),u((v=a.employee())!=null&&v.firstNameAr||(v=a.employee())!=null&&v.lastNameAr||(v=a.employee())!=null&&v.jobTitleAr?92:-1),e(4),m(a.t("common.actions")),e(5),p(" ",a.t("employees.edit")," "),e(),u((D=a.employee())!=null&&D.isActive?102:103)}}function me(o,d){if(o&1&&(n(0,"div",15),x(1,"i",46),i(2),t()),o&2){let l=c();e(2),p(" ",l.error()||l.t("employees.employee_not_found")," ")}}var J=class o{router=E(R);route=E(P);employeesService=E(F);i18n=E($);loading=f(!1);error=f(null);employee=f(null);employeeId=0;ngOnInit(){this.employeeId=+this.route.snapshot.params.id,this.employeeId?this.loadEmployee():this.router.navigate(["/employees"])}loadEmployee(){this.loading.set(!0),this.employeesService.getEmployeeById(this.employeeId).subscribe({next:d=>{this.employee.set(d),this.loading.set(!1)},error:d=>{this.error.set("Failed to load employee"),this.loading.set(!1),console.error("Error loading employee:",d)}})}onEdit(){this.router.navigate(["/employees",this.employeeId,"edit"])}onBack(){this.router.navigate(["/employees"])}formatDate(d){return new Date(d).toLocaleDateString()}getEmploymentStatusLabel(d){return this.t(`employees.employment_status.${q[d].toLowerCase()}`)}getGenderLabel(d){return this.t(`employees.gender.${z[d].toLowerCase()}`)}getWorkLocationTypeLabel(d){return this.t(`employees.work_location.${H[d].toLowerCase()}`)}t(d){return this.i18n.t(d)}static \u0275fac=function(l){return new(l||o)};static \u0275cmp=O({type:o,selectors:[["app-view-employee"]],decls:25,vars:7,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/employees"],[1,"breadcrumb-item","active"],[1,"btn-group"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-edit","me-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","justify-content-center","py-5"],[1,"row"],[1,"alert","alert-danger"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"col-lg-8"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"d-flex","align-items-center"],[1,"avatar-sm","me-3"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle"],[1,"fw-medium"],[1,"text-muted"],[1,"card-body"],[1,"col-md-6"],[1,"col-sm-5"],[1,"col-sm-7"],[1,"col-lg-4"],[1,"mb-3"],[1,"fw-semibold"],[1,"badge","bg-success"],[1,"badge","bg-secondary"],[1,"badge","bg-info"],[1,"card","mt-3"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-warning"],["type","button",1,"btn","btn-outline-success"],[1,"badge","bg-light","text-dark"],[1,"mb-2"],[1,"fa-solid","fa-user-slash","me-2"],[1,"fa-solid","fa-user-check","me-2"],[1,"fa-solid","fa-exclamation-triangle","me-2"]],template:function(l,r){l&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),i(4),t(),n(5,"nav",2)(6,"ol",3)(7,"li",4)(8,"a",5),i(9),t()(),n(10,"li",4)(11,"a",6),i(12),t()(),n(13,"li",7),i(14),t()()()(),n(15,"div",8)(16,"button",9),b("click",function(){return r.onEdit()}),x(17,"i",10),i(18),t(),n(19,"button",11),b("click",function(){return r.onBack()}),x(20,"i",12),i(21),t()()(),s(22,K,4,1,"div",13)(23,oe,104,41,"div",14)(24,me,3,1,"div",15),t()),l&2&&(e(4),m(r.t("employees.view_details")),e(5),m(r.t("dashboard.title")),e(3),m(r.t("employees.title")),e(2),m(r.t("employees.view_details")),e(4),p(" ",r.t("employees.edit")," "),e(3),p(" ",r.t("common.back")," "),e(),u(r.loading()?22:r.employee()?23:24))},dependencies:[W,U],styles:[".avatar-sm[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center}.avatar-title[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem}"]})};export{J as ViewEmployeeComponent};
