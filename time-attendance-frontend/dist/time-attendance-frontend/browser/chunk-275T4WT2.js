import{a as N}from"./chunk-SQEV4NFF.js";import{d as k,g as M,h as D,m as T}from"./chunk-4DYU65FO.js";import{b as A}from"./chunk-CQWUHIOF.js";import{$a as e,Ca as y,Q as b,Ta as f,Ua as g,V as x,W as _,_a as t,ab as u,ca as h,eb as V,ec as B,gb as v,ib as p,qb as i,ra as n,rb as o,sb as m}from"./chunk-LHYYCVNR.js";import"./chunk-DGAILPFQ.js";function P(d,l){if(d&1&&(t(0,"div",13)(1,"div",16)(2,"span",17),i(3),e()()()),d&2){let r=p();n(3),o(r.i18n.t("common.loading"))}}function R(d,l){if(d&1&&(t(0,"span",32),i(1),e()),d&2){let r=p(2);n(),o(r.i18n.t("common.active"))}}function j(d,l){if(d&1&&(t(0,"span",33),i(1),e()),d&2){let r=p(2);n(),o(r.i18n.t("common.inactive"))}}function O(d,l){if(d&1){let r=V();t(0,"div",14)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h5",21)(5,"div",22)(6,"div",23)(7,"div",24),u(8,"i",25),e()(),t(9,"div")(10,"div",26),i(11),e(),t(12,"small",27),i(13),e()()()()(),t(14,"div",28)(15,"div",14)(16,"div",29)(17,"dl",14)(18,"dt",30),i(19),e(),t(20,"dd",31),i(21),e(),t(22,"dt",30),i(23),e(),t(24,"dd",31),i(25),e(),t(26,"dt",30),i(27),e(),t(28,"dd",31),i(29),e(),t(30,"dt",30),i(31),e(),t(32,"dd",31),f(33,R,2,1,"span",32)(34,j,2,1,"span",33),e()()(),t(35,"div",29)(36,"dl",14)(37,"dt",30),i(38),e(),t(39,"dd",31),i(40,"-"),e(),t(41,"dt",30),i(42),e(),t(43,"dd",31),i(44,"-"),e(),t(45,"dt",30),i(46),e(),t(47,"dd",31),i(48),e()()()()()()(),t(49,"div",34)(50,"div",19)(51,"div",20)(52,"h6",21),i(53),e()(),t(54,"div",28)(55,"div",35)(56,"button",36),v("click",function(){x(r);let s=p();return _(s.onEdit())}),u(57,"i",10),i(58),e(),t(59,"button",37),v("click",function(){x(r);let s=p();return _(s.onViewEmployees())}),u(60,"i",38),i(61),e(),t(62,"button",11),v("click",function(){x(r);let s=p();return _(s.onViewDepartments())}),u(63,"i",39),i(64),e()()()(),t(65,"div",40)(66,"div",20)(67,"h6",21),i(68),e()(),t(69,"div",28)(70,"div",41)(71,"div",42)(72,"div",43)(73,"h4",44),i(74),e(),t(75,"p",45),i(76),e()()(),t(77,"div",42)(78,"h4",46),i(79),e(),t(80,"p",45),i(81),e()()()()()()()}if(d&2){let r,c,s,C,E,I,S,w,a=p();n(11),o((r=a.branch())==null?null:r.name),n(2),o((c=a.branch())==null?null:c.code),n(6),m("",a.i18n.t("branches.name"),":"),n(2),o((s=a.branch())==null?null:s.name),n(2),m("",a.i18n.t("branches.code"),":"),n(2),o((C=a.branch())==null?null:C.code),n(2),m("",a.i18n.t("branches.timezone"),":"),n(2),o((E=a.branch())==null?null:E.timeZone),n(2),m("",a.i18n.t("common.status"),":"),n(2),g((I=a.branch())!=null&&I.isActive?33:34),n(5),m("",a.i18n.t("common.phone"),":"),n(4),m("",a.i18n.t("common.email"),":"),n(4),m("",a.i18n.t("branches.created_at"),":"),n(2),o(a.formatDate(a.branch().createdAtUtc)),n(5),o(a.i18n.t("common.actions")),n(5),m(" ",a.i18n.t("branches.edit")," "),n(3),m(" ",a.i18n.t("branches.view_employees")," "),n(3),m(" ",a.i18n.t("branches.view_departments")," "),n(4),o(a.i18n.t("branches.statistics")),n(6),o(((S=a.statistics())==null?null:S.employeeCount)||0),n(2),o(a.i18n.t("branches.employees")),n(3),o(((w=a.statistics())==null?null:w.departmentCount)||0),n(2),o(a.i18n.t("branches.departments"))}}function U(d,l){if(d&1&&(t(0,"div",15),u(1,"i",47),i(2),e()),d&2){let r=p();n(2),m(" ",r.error()||r.i18n.t("branches.branch_not_found")," ")}}var L=class d{route=b(k);router=b(M);branchesService=b(N);i18n=b(A);branch=h(null);statistics=h(null);loading=h(!0);error=h("");ngOnInit(){let l=this.route.snapshot.paramMap.get("id");l?(this.loadBranch(l),this.loadStatistics(l)):(this.error.set("Invalid branch ID"),this.loading.set(!1))}loadBranch(l){setTimeout(()=>{let r={id:parseInt(l),name:"Sample Branch",code:"SAMPLE",timeZone:"UTC",isActive:!0,employeeCount:10,departmentCount:3,createdAtUtc:"2024-01-01T00:00:00Z"};this.branch.set(r),this.loading.set(!1)},1e3)}loadStatistics(l){this.statistics.set({employeeCount:Math.floor(Math.random()*100),departmentCount:Math.floor(Math.random()*20)})}onEdit(){this.branch()&&this.router.navigate(["/branches",this.branch().id,"edit"])}onViewEmployees(){this.branch()&&this.router.navigate(["/employees"],{queryParams:{branchId:this.branch().id}})}onViewDepartments(){this.branch()&&this.router.navigate(["/departments"],{queryParams:{branchId:this.branch().id}})}onBack(){this.router.navigate(["/branches"])}formatDate(l){return new Date(l).toLocaleDateString()}getErrorMessage(l){return l?.error?.error?l.error.error:this.i18n.t("errors.unknown")}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=y({type:d,selectors:[["app-view-branch"]],decls:25,vars:7,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/branches"],[1,"breadcrumb-item","active"],[1,"btn-group"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-edit","me-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","justify-content-center","py-5"],[1,"row"],[1,"alert","alert-danger"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"col-lg-8"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"d-flex","align-items-center"],[1,"avatar-sm","me-3"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle"],[1,"fa-solid","fa-building"],[1,"fw-medium"],[1,"text-muted"],[1,"card-body"],[1,"col-md-6"],[1,"col-sm-5"],[1,"col-sm-7"],[1,"badge","bg-success"],[1,"badge","bg-secondary"],[1,"col-lg-4"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"fa-solid","fa-users","me-2"],[1,"fa-solid","fa-sitemap","me-2"],[1,"card","mt-3"],[1,"row","text-center"],[1,"col-6"],[1,"border-end"],[1,"mb-1","text-primary"],[1,"text-muted","mb-0","small"],[1,"mb-1","text-info"],[1,"fa-solid","fa-exclamation-triangle","me-2"]],template:function(r,c){r&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),i(4),e(),t(5,"nav",2)(6,"ol",3)(7,"li",4)(8,"a",5),i(9),e()(),t(10,"li",4)(11,"a",6),i(12),e()(),t(13,"li",7),i(14),e()()()(),t(15,"div",8)(16,"button",9),v("click",function(){return c.onEdit()}),u(17,"i",10),i(18),e(),t(19,"button",11),v("click",function(){return c.onBack()}),u(20,"i",12),i(21),e()()(),f(22,P,4,1,"div",13)(23,O,82,23,"div",14)(24,U,3,1,"div",15),e()),r&2&&(n(4),o(c.i18n.t("branches.view_details")),n(5),o(c.i18n.t("dashboard.title")),n(3),o(c.i18n.t("branches.title")),n(2),o(c.i18n.t("branches.view_details")),n(4),m(" ",c.i18n.t("branches.edit")," "),n(3),m(" ",c.i18n.t("common.back")," "),n(),g(c.loading()?22:c.branch()?23:24))},dependencies:[B,T,D],encapsulation:2})};export{L as ViewBranchComponent};
