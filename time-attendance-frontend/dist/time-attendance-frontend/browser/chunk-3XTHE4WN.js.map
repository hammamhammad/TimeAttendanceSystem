{
  "version": 3,
  "sources": ["src/app/core/services/remote-work-requests.service.ts", "src/app/core/models/remote-work-request.model.ts"],
  "sourcesContent": ["import { Injectable, inject } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\nimport {\r\n  RemoteWorkRequest,\r\n  RemoteWorkRequestStatus,\r\n  CreateRemoteWorkRequest,\r\n  UpdateRemoteWorkRequest,\r\n  ApproveRemoteWorkRequest\r\n} from '../models/remote-work-request.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RemoteWorkRequestsService {\r\n  private readonly http = inject(HttpClient);\r\n  private readonly apiUrl = `${environment.apiUrl}/api/v1/remote-work-requests`;\r\n\r\n  getAll(\r\n    employeeId?: number,\r\n    status?: RemoteWorkRequestStatus,\r\n    startDate?: string,\r\n    endDate?: string\r\n  ): Observable<RemoteWorkRequest[]> {\r\n    let params = new HttpParams();\r\n    if (employeeId) {\r\n      params = params.set('employeeId', employeeId.toString());\r\n    }\r\n    if (status !== undefined) {\r\n      params = params.set('status', status.toString());\r\n    }\r\n    if (startDate) {\r\n      params = params.set('startDate', startDate);\r\n    }\r\n    if (endDate) {\r\n      params = params.set('endDate', endDate);\r\n    }\r\n    return this.http.get<RemoteWorkRequest[]>(this.apiUrl, { params });\r\n  }\r\n\r\n  getById(id: number): Observable<RemoteWorkRequest> {\r\n    return this.http.get<RemoteWorkRequest>(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  create(request: CreateRemoteWorkRequest): Observable<{ id: number }> {\r\n    return this.http.post<{ id: number }>(this.apiUrl, request);\r\n  }\r\n\r\n  update(id: number, request: UpdateRemoteWorkRequest): Observable<void> {\r\n    return this.http.put<void>(`${this.apiUrl}/${id}`, request);\r\n  }\r\n\r\n  approve(request: ApproveRemoteWorkRequest): Observable<{ isSuccess: boolean; value?: boolean; error?: string }> {\r\n    return this.http.patch<{ isSuccess: boolean; value?: boolean; error?: string }>(\r\n      `${this.apiUrl}/${request.requestId}/approve`,\r\n      request\r\n    );\r\n  }\r\n\r\n  cancel(id: number): Observable<void> {\r\n    return this.http.post<void>(`${this.apiUrl}/${id}/cancel`, {});\r\n  }\r\n}\r\n", "export enum RemoteWorkRequestStatus {\r\n  Pending = 0,\r\n  Approved = 1,\r\n  Rejected = 2,\r\n  Cancelled = 3\r\n}\r\n\r\nexport interface RemoteWorkRequest {\r\n  id: number;\r\n  employeeId: number;\r\n  employeeName?: string;\r\n  startDate: string;\r\n  endDate: string;\r\n  reason?: string;\r\n  createdByUserId: number;\r\n  createdByUserName?: string;\r\n  status: RemoteWorkRequestStatus;\r\n  approvedByUserId?: number;\r\n  approvedByUserName?: string;\r\n  approvedAt?: string;\r\n  rejectionReason?: string;\r\n  approvalComments?: string;\r\n  remoteWorkPolicyId: number;\r\n  workingDaysCount: number;\r\n  createdAtUtc: string;\r\n  modifiedAtUtc?: string;\r\n}\r\n\r\nexport interface CreateRemoteWorkRequest {\r\n  employeeId: number;\r\n  startDate: string;\r\n  endDate: string;\r\n  reason?: string;\r\n  createdByUserId: number;\r\n  remoteWorkPolicyId?: number;\r\n  status?: RemoteWorkRequestStatus;\r\n  approvalComments?: string;\r\n}\r\n\r\nexport interface UpdateRemoteWorkRequest {\r\n  startDate: string;\r\n  endDate: string;\r\n  reason?: string;\r\n  status: RemoteWorkRequestStatus;\r\n  rejectionReason?: string;\r\n  approvalComments?: string;\r\n}\r\n\r\nexport interface ApproveRemoteWorkRequest {\r\n  requestId: number;\r\n  approverId: number;\r\n  decision: RemoteWorkRequestStatus;\r\n  rejectionReason?: string;\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAeM,IAAO,6BAAP,MAAO,2BAAyB;EACnB,OAAO,OAAO,UAAU;EACxB,SAAS,GAAG,YAAY,MAAM;EAE/C,OACE,YACA,QACA,WACA,SAAgB;AAEhB,QAAI,SAAS,IAAI,WAAU;AAC3B,QAAI,YAAY;AACd,eAAS,OAAO,IAAI,cAAc,WAAW,SAAQ,CAAE;IACzD;AACA,QAAI,WAAW,QAAW;AACxB,eAAS,OAAO,IAAI,UAAU,OAAO,SAAQ,CAAE;IACjD;AACA,QAAI,WAAW;AACb,eAAS,OAAO,IAAI,aAAa,SAAS;IAC5C;AACA,QAAI,SAAS;AACX,eAAS,OAAO,IAAI,WAAW,OAAO;IACxC;AACA,WAAO,KAAK,KAAK,IAAyB,KAAK,QAAQ,EAAE,OAAM,CAAE;EACnE;EAEA,QAAQ,IAAU;AAChB,WAAO,KAAK,KAAK,IAAuB,GAAG,KAAK,MAAM,IAAI,EAAE,EAAE;EAChE;EAEA,OAAO,SAAgC;AACrC,WAAO,KAAK,KAAK,KAAqB,KAAK,QAAQ,OAAO;EAC5D;EAEA,OAAO,IAAY,SAAgC;AACjD,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,OAAO;EAC5D;EAEA,QAAQ,SAAiC;AACvC,WAAO,KAAK,KAAK,MACf,GAAG,KAAK,MAAM,IAAI,QAAQ,SAAS,YACnC,OAAO;EAEX;EAEA,OAAO,IAAU;AACf,WAAO,KAAK,KAAK,KAAW,GAAG,KAAK,MAAM,IAAI,EAAE,WAAW,CAAA,CAAE;EAC/D;;AA/CoC;cAAzB;mCAAA,4BAAyB;AAAA;cAAzB,gGAAA,4BAAyB,SAAzB,2BAAyB,WAAA,YAFxB,OAAM,CAAA;AAEd,IAAO,4BAAP;;sEAAO,2BAAyB,CAAA;UAHrC;WAAW;MACV,YAAY;KACb;;;;;ACdD,IAAY;CAAZ,SAAYA,0BAAuB;AACjC,EAAAA,yBAAAA,yBAAA,SAAA,IAAA,CAAA,IAAA;AACA,EAAAA,yBAAAA,yBAAA,UAAA,IAAA,CAAA,IAAA;AACA,EAAAA,yBAAAA,yBAAA,UAAA,IAAA,CAAA,IAAA;AACA,EAAAA,yBAAAA,yBAAA,WAAA,IAAA,CAAA,IAAA;AACF,GALY,4BAAA,0BAAuB,CAAA,EAAA;",
  "names": ["RemoteWorkRequestStatus"]
}
