import{a as T}from"./chunk-YQHZQYX3.js";import"./chunk-BDZLNZZ6.js";import{a as M}from"./chunk-4LNI5FX6.js";import"./chunk-HBA4LCS7.js";import{a as O}from"./chunk-CYQTDKAB.js";import"./chunk-7QCK55IR.js";import{b as I}from"./chunk-AS5QRUY4.js";import{$ as s,E as r,H as o,J as f,U as q,V as R,_,aa as a,ba as C,fb as S,ia as x,ka as h,ma as c,nb as V,qb as E,u as p,v,wa as m,xa as l,z as u}from"./chunk-LDUBOZPL.js";import"./chunk-DGAILPFQ.js";function A(i,t){if(i&1&&(s(0,"div",2)(1,"div",4),C(2,"i",5),a(),s(3,"p"),m(4),a()()),i&2){let e=c();r(4),l(e.i18n.t("COMMON.LOADING"))}}function N(i,t){if(i&1){let e=x();s(0,"div",3)(1,"app-vacation-request-form",6),h("save",function(d){p(e);let g=c();return v(g.onSave(d))})("cancel",function(){p(e);let d=c();return v(d.onCancel())}),a()()}if(i&2){let e=c();r(),_("vacationRequest",e.vacationRequest())("loading",e.loading())}}var b=class i{constructor(t,e,n,d,g){this.vacationRequestsService=t;this.notificationService=e;this.router=n;this.route=d;this.i18n=g}vacationRequest=u(null);loading=u(!1);loadingRequest=u(!1);ngOnInit(){let t=this.route.snapshot.params.id;t&&this.loadVacationRequest(+t)}loadVacationRequest(t){this.loadingRequest.set(!0),this.vacationRequestsService.getVacationRequestById(t).subscribe({next:e=>{this.vacationRequest.set(e),this.loadingRequest.set(!1)},error:e=>{this.notificationService.error("VACATION_REQUESTS.LOAD_ERROR"),this.loadingRequest.set(!1),this.router.navigate(["/vacation-requests"])}})}onSave(t){let e=this.vacationRequest();e&&(this.loading.set(!0),this.vacationRequestsService.updateVacationRequest(e.id,t).subscribe({next:n=>{this.notificationService.success("VACATION_REQUESTS.UPDATE_SUCCESS"),this.router.navigate(["/vacation-requests/view",e.id]),this.loading.set(!1)},error:n=>{this.notificationService.error("VACATION_REQUESTS.UPDATE_ERROR"),this.loading.set(!1)}}))}onCancel(){let t=this.vacationRequest();t?this.router.navigate(["/vacation-requests/view",t.id]):this.router.navigate(["/vacation-requests"])}static \u0275fac=function(e){return new(e||i)(o(M),o(O),o(E),o(V),o(I))};static \u0275cmp=f({type:i,selectors:[["app-edit-vacation-request"]],decls:6,vars:2,consts:[[1,"edit-vacation-request-container"],[1,"page-header"],[1,"loading-container"],[1,"content-card"],[1,"spinner"],[1,"fas","fa-spinner","fa-spin"],[3,"save","cancel","vacationRequest","loading"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"div",1)(2,"h2"),m(3),a()(),q(4,A,5,1,"div",2)(5,N,2,2,"div",3),a()),e&2&&(r(3),l(n.i18n.t("VACATION_REQUESTS.EDIT_TITLE")),r(),R(n.loadingRequest()?4:n.vacationRequest()?5:-1))},dependencies:[S,T],styles:[".edit-vacation-request-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.8rem;font-weight:600;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.spinner[_ngcontent-%COMP%]{font-size:2rem;color:#3498db;margin-bottom:15px}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:30px}@media (max-width: 768px){.edit-vacation-request-container[_ngcontent-%COMP%]{padding:10px}.content-card[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};export{b as EditVacationRequestComponent};
