import{a as m}from"./chunk-NJ656CWW.js";import{gb as o,hb as p,p as y,t as c}from"./chunk-6T5SYK5O.js";var f=(i=>(i[i.OneTime=0]="OneTime",i[i.Annual=1]="Annual",i[i.Monthly=2]="Monthly",i[i.Floating=3]="Floating",i))(f||{}),h=(t=>(t.USA_Federal="USA_Federal",t.UK_BankHolidays="UK_BankHolidays",t.SaudiArabia_National="SaudiArabia_National",t))(h||{});var g=class l{http=c(p);baseUrl=`${m.apiUrl}/api/v1/public-holidays`;getPublicHolidays(e=1,a=10,t,i,n,s,d,b,u){let r=new o().set("page",e.toString()).set("pageSize",a.toString());return t&&(r=r.set("searchTerm",t)),i!==void 0&&(r=r.set("year",i.toString())),n!==void 0&&(r=r.set("branchId",n.toString())),s!==void 0&&(r=r.set("holidayType",s.toString())),d!==void 0&&(r=r.set("isActive",d.toString())),b!==void 0&&(r=r.set("isNational",b.toString())),u&&(r=r.set("countryCode",u)),this.http.get(this.baseUrl,{params:r})}getPublicHolidayById(e,a=!1,t){let i=new o;return a&&(i=i.set("includeConflicts","true")),t!==void 0&&(i=i.set("year",t.toString())),this.http.get(`${this.baseUrl}/${e}`,{params:i})}createPublicHoliday(e){return console.log("Creating public holiday with request:",e),console.log("Request URL:",this.baseUrl),console.log("Request payload (stringified):",JSON.stringify(e)),this.http.post(this.baseUrl,e)}updatePublicHoliday(e,a){return this.http.put(`${this.baseUrl}/${e}`,a)}deletePublicHoliday(e){return this.http.delete(`${this.baseUrl}/${e}`)}getHolidayCalendar(e,a,t=!1,i){let n=new o;return a!==void 0&&(n=n.set("branchId",a.toString())),t&&(n=n.set("includeInactive","true")),i&&(n=n.set("format",i)),this.http.get(`${this.baseUrl}/calendar/${e}`,{params:n})}getHolidayDates(e,a,t){let i=new o;return t!==void 0&&(i=i.set("branchId",t.toString())),this.http.get(`${this.baseUrl}/dates/${e}/${a}`,{params:i})}importHolidayTemplate(e){return this.http.post(`${this.baseUrl}/import`,e)}exportHolidays(e,a="json",t,i=!1){let n=new o().set("format",a);return t!==void 0&&(n=n.set("branchId",t.toString())),i&&(n=n.set("includeInactive","true")),this.http.get(`${this.baseUrl}/export/${e}`,{params:n,responseType:"blob"})}isHoliday(e,a){let t=new o().set("date",e);return a!==void 0&&(t=t.set("branchId",a.toString())),this.http.get(`${this.baseUrl}/is-holiday`,{params:t})}getAvailableTemplates(){return["USA_Federal","UK_BankHolidays","SaudiArabia_National"]}getHolidayTypes(){return[{value:0,label:"One Time",description:"Holiday occurs only once on a specific date"},{value:1,label:"Annual",description:"Holiday occurs every year on the same date"},{value:2,label:"Monthly",description:"Holiday occurs every month on the same day"},{value:3,label:"Floating",description:"Holiday occurs on a relative date (e.g., first Monday of March)"}]}validateHolidayData(e){let a=[];return(!e.name||e.name.trim().length===0)&&a.push("Holiday name is required"),(e.holidayType===0||e.holidayType===1)&&!e.specificDate&&(!e.month||!e.day)&&a.push("Specific date or month/day is required for this holiday type"),e.holidayType===3&&(!e.weekOfMonth||!e.dayOfWeek||!e.month)&&a.push("Week of month, day of week, and month are required for floating holidays"),e.effectiveFromYear&&e.effectiveToYear&&e.effectiveFromYear>e.effectiveToYear&&a.push("Effective from year cannot be after effective to year"),e.priority!==void 0&&(e.priority<1||e.priority>100)&&a.push("Priority must be between 1 and 100"),a}static \u0275fac=function(a){return new(a||l)};static \u0275prov=y({token:l,factory:l.\u0275fac,providedIn:"root"})};export{f as a,h as b,g as c};
