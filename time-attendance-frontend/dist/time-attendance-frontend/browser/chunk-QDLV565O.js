import{a as I}from"./chunk-5YKGRR3C.js";import"./chunk-W7QCIT7O.js";import{a as y}from"./chunk-5MY3ODRI.js";import"./chunk-2BWPSMJK.js";import"./chunk-EYAJMHM7.js";import"./chunk-2OE7DZMT.js";import"./chunk-SRPEDAT4.js";import"./chunk-VRETN7JA.js";import{b as E}from"./chunk-RCBJJ7UY.js";import{g as h,h as x,m as S}from"./chunk-TWXUAMJ4.js";import{Bb as i,Cb as p,Db as d,Ea as f,R as s,Xa as g,Ya as C,bb as b,cb as n,da as c,db as r,eb as l,nb as u,pb as D,ta as t,wc as _}from"./chunk-JSQL33QG.js";import"./chunk-DGAILPFQ.js";function M(m,o){if(m&1&&(n(0,"div",10),l(1,"i",17),i(2),r()),m&2){let a=D();t(2),d(" ",a.error()," ")}}var R=class m{router=s(h);departmentsService=s(y);i18n=s(E);saving=c(!1);error=c("");onDepartmentCreated(o){if(this.saving())return;this.saving.set(!0),this.error.set("");let a=o;this.departmentsService.createDepartment(a).subscribe({next:e=>{console.log("Department created successfully:",e),this.saving.set(!1),this.router.navigate(["/departments"])},error:e=>{console.error("Error creating department:",e),this.error.set(this.getErrorMessage(e)),this.saving.set(!1)}})}onCancel(){this.router.navigate(["/departments"])}getErrorMessage(o){return o?.error?.error?o.error.error:this.i18n.t("errors.unknown")}static \u0275fac=function(a){return new(a||m)};static \u0275cmp=f({type:m,selectors:[["app-create-department"]],decls:26,vars:8,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/departments"],[1,"breadcrumb-item","active"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"alert","alert-danger"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"fa-solid","fa-building","me-2"],[1,"card-body"],[3,"save","cancel","externalSaving"],[1,"fa-solid","fa-exclamation-triangle","me-2"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),i(4),r(),n(5,"nav",2)(6,"ol",3)(7,"li",4)(8,"a",5),i(9),r()(),n(10,"li",4)(11,"a",6),i(12),r()(),n(13,"li",7),i(14),r()()()(),n(15,"button",8),u("click",function(){return e.onCancel()}),l(16,"i",9),i(17),r()(),g(18,M,3,1,"div",10),n(19,"div",11)(20,"div",12)(21,"h5",13),l(22,"i",14),i(23),r()(),n(24,"div",15)(25,"app-department-form",16),u("save",function(k){return e.onDepartmentCreated(k)})("cancel",function(){return e.onCancel()}),r()()()()),a&2&&(t(4),p(e.i18n.t("department.create")),t(5),p(e.i18n.t("dashboard.title")),t(3),p(e.i18n.t("departments.title")),t(2),p(e.i18n.t("department.create")),t(3),d(" ",e.i18n.t("common.back")," "),t(),C(e.error()?18:-1),t(5),d(" ",e.i18n.t("department.information")," "),t(2),b("externalSaving",e.saving()))},dependencies:[_,S,x,I],encapsulation:2})};export{R as CreateDepartmentComponent};
