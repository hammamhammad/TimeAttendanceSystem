{
  "version": 3,
  "sources": ["src/app/core/confirmation/confirmation.service.ts"],
  "sourcesContent": ["import { Injectable, signal } from '@angular/core';\r\n\r\nexport interface ConfirmationConfig {\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  confirmButtonClass?: string;\r\n  cancelButtonClass?: string;\r\n  icon?: string;\r\n  iconClass?: string;\r\n  requireComments?: boolean;\r\n}\r\n\r\nexport interface ConfirmationResult {\r\n  confirmed: boolean;\r\n  comments?: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConfirmationService {\r\n  private isVisible = signal(false);\r\n  private config = signal<ConfirmationConfig | null>(null);\r\n  private comments = signal<string>('');\r\n  private resolvePromise: ((result: ConfirmationResult) => void) | null = null;\r\n\r\n  readonly isVisible$ = this.isVisible.asReadonly();\r\n  readonly config$ = this.config.asReadonly();\r\n  readonly comments$ = this.comments.asReadonly();\r\n\r\n  /**\r\n   * Show a confirmation dialog\r\n   */\r\n  confirm(config: ConfirmationConfig): Promise<ConfirmationResult> {\r\n    return new Promise<ConfirmationResult>((resolve) => {\r\n      this.resolvePromise = resolve;\r\n      \r\n      // Set default values\r\n      const defaultConfig: ConfirmationConfig = {\r\n        title: config.title,\r\n        message: config.message,\r\n        confirmText: config.confirmText || 'Confirm',\r\n        cancelText: config.cancelText || 'Cancel',\r\n        confirmButtonClass: config.confirmButtonClass || 'btn-danger',\r\n        cancelButtonClass: config.cancelButtonClass || 'btn-secondary',\r\n        icon: config.icon || 'fa-question-circle',\r\n        iconClass: config.iconClass || 'text-warning',\r\n        requireComments: config.requireComments || false\r\n      };\r\n\r\n      this.config.set(defaultConfig);\r\n      this.comments.set('');\r\n      this.isVisible.set(true);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle confirm action\r\n   */\r\n  onConfirm(): void {\r\n    if (this.resolvePromise) {\r\n      this.resolvePromise({\r\n        confirmed: true,\r\n        comments: this.comments() || undefined\r\n      });\r\n    }\r\n    this.close();\r\n  }\r\n\r\n  /**\r\n   * Handle cancel action\r\n   */\r\n  onCancel(): void {\r\n    if (this.resolvePromise) {\r\n      this.resolvePromise({ confirmed: false });\r\n    }\r\n    this.close();\r\n  }\r\n\r\n  /**\r\n   * Update comments\r\n   */\r\n  setComments(comments: string): void {\r\n    this.comments.set(comments);\r\n  }\r\n\r\n  /**\r\n   * Close the modal\r\n   */\r\n  private close(): void {\r\n    this.isVisible.set(false);\r\n    this.config.set(null);\r\n    this.comments.set('');\r\n    this.resolvePromise = null;\r\n  }\r\n\r\n  /**\r\n   * Quick confirmation for delete actions\r\n   */\r\n  confirmDelete(itemName: string, itemType: string = 'item'): Promise<ConfirmationResult> {\r\n    return this.confirm({\r\n      title: 'Confirm Deletion',\r\n      message: `Are you sure you want to delete this ${itemType}? This action cannot be undone.`,\r\n      confirmText: 'Delete',\r\n      cancelText: 'Cancel',\r\n      confirmButtonClass: 'btn-danger',\r\n      icon: 'fa-trash',\r\n      iconClass: 'text-danger'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Quick confirmation for save actions\r\n   */\r\n  confirmSave(message: string = 'Do you want to save your changes?'): Promise<ConfirmationResult> {\r\n    return this.confirm({\r\n      title: 'Save Changes',\r\n      message: message,\r\n      confirmText: 'Save',\r\n      cancelText: 'Cancel',\r\n      confirmButtonClass: 'btn-primary',\r\n      icon: 'fa-save',\r\n      iconClass: 'text-primary'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Quick confirmation for discard actions\r\n   */\r\n  confirmDiscard(message: string = 'You have unsaved changes. Are you sure you want to discard them?'): Promise<ConfirmationResult> {\r\n    return this.confirm({\r\n      title: 'Discard Changes',\r\n      message: message,\r\n      confirmText: 'Discard',\r\n      cancelText: 'Keep Editing',\r\n      confirmButtonClass: 'btn-warning',\r\n      icon: 'fa-exclamation-triangle',\r\n      iconClass: 'text-warning'\r\n    });\r\n  }\r\n}"],
  "mappings": ";;;;;;;;;;;;AAsBM,IAAO,uBAAP,MAAO,qBAAmB;EACtB,YAAY,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,YAAA,CAAA,IAAA,CAAA,CAAA;EACxB,SAAS,OAAkC,MAAI,GAAA,YAAA,CAAA,EAAA,WAAA,SAAA,CAAA,IAAA,CAAA,CAAA;EAC/C,WAAW,OAAe,IAAE,GAAA,YAAA,CAAA,EAAA,WAAA,WAAA,CAAA,IAAA,CAAA,CAAA;EAC5B,iBAAgE;EAE/D,aAAa,KAAK,UAAU,WAAU;EACtC,UAAU,KAAK,OAAO,WAAU;EAChC,YAAY,KAAK,SAAS,WAAU;;;;EAK7C,QAAQ,QAA0B;AAChC,WAAO,IAAI,QAA4B,CAAC,YAAW;AACjD,WAAK,iBAAiB;AAGtB,YAAM,gBAAoC;QACxC,OAAO,OAAO;QACd,SAAS,OAAO;QAChB,aAAa,OAAO,eAAe;QACnC,YAAY,OAAO,cAAc;QACjC,oBAAoB,OAAO,sBAAsB;QACjD,mBAAmB,OAAO,qBAAqB;QAC/C,MAAM,OAAO,QAAQ;QACrB,WAAW,OAAO,aAAa;QAC/B,iBAAiB,OAAO,mBAAmB;;AAG7C,WAAK,OAAO,IAAI,aAAa;AAC7B,WAAK,SAAS,IAAI,EAAE;AACpB,WAAK,UAAU,IAAI,IAAI;IACzB,CAAC;EACH;;;;EAKA,YAAS;AACP,QAAI,KAAK,gBAAgB;AACvB,WAAK,eAAe;QAClB,WAAW;QACX,UAAU,KAAK,SAAQ,KAAM;OAC9B;IACH;AACA,SAAK,MAAK;EACZ;;;;EAKA,WAAQ;AACN,QAAI,KAAK,gBAAgB;AACvB,WAAK,eAAe,EAAE,WAAW,MAAK,CAAE;IAC1C;AACA,SAAK,MAAK;EACZ;;;;EAKA,YAAY,UAAgB;AAC1B,SAAK,SAAS,IAAI,QAAQ;EAC5B;;;;EAKQ,QAAK;AACX,SAAK,UAAU,IAAI,KAAK;AACxB,SAAK,OAAO,IAAI,IAAI;AACpB,SAAK,SAAS,IAAI,EAAE;AACpB,SAAK,iBAAiB;EACxB;;;;EAKA,cAAc,UAAkB,WAAmB,QAAM;AACvD,WAAO,KAAK,QAAQ;MAClB,OAAO;MACP,SAAS,wCAAwC,QAAQ;MACzD,aAAa;MACb,YAAY;MACZ,oBAAoB;MACpB,MAAM;MACN,WAAW;KACZ;EACH;;;;EAKA,YAAY,UAAkB,qCAAmC;AAC/D,WAAO,KAAK,QAAQ;MAClB,OAAO;MACP;MACA,aAAa;MACb,YAAY;MACZ,oBAAoB;MACpB,MAAM;MACN,WAAW;KACZ;EACH;;;;EAKA,eAAe,UAAkB,oEAAkE;AACjG,WAAO,KAAK,QAAQ;MAClB,OAAO;MACP;MACA,aAAa;MACb,YAAY;MACZ,oBAAoB;MACpB,MAAM;MACN,WAAW;KACZ;EACH;;AAvH8B;cAAnB;mCAAA,sBAAmB;AAAA;cAAnB,0FAAA,sBAAmB,SAAnB,qBAAmB,WAAA,YAFlB,OAAM,CAAA;AAEd,IAAO,sBAAP;;sEAAO,qBAAmB,CAAA;UAH/B;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
