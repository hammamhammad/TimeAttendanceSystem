import{a as R}from"./chunk-TWVQBOJB.js";import{a as k}from"./chunk-5EWIY6BL.js";import"./chunk-RH4QBYEM.js";import{d as I,g as S,h as y,m as M}from"./chunk-4DYU65FO.js";import{b as w}from"./chunk-CQWUHIOF.js";import{$a as r,Ca as x,Q as l,Ta as b,Ua as C,V as f,W as _,Za as D,_a as o,ab as u,ca as c,eb as E,ec as h,gb as g,ib as m,qb as d,ra as i,rb as p,sb as v}from"./chunk-LHYYCVNR.js";import"./chunk-DGAILPFQ.js";function V(n,t){if(n&1&&(o(0,"div",10)(1,"div",13)(2,"span",14),d(3),r()()()),n&2){let e=m();i(3),p(e.i18n.t("common.loading"))}}function q(n,t){if(n&1){let e=E();o(0,"div",11)(1,"div",15)(2,"h5",16),u(3,"i",17),d(4),r()(),o(5,"div",18)(6,"app-department-form",19),g("save",function(s){f(e);let N=m();return _(N.onDepartmentSaved(s))})("cancel",function(){f(e);let s=m();return _(s.onCancel())}),r()()()}if(n&2){let e=m();i(4),v(" ",e.i18n.t("department.information")," "),i(2),D("department",e.department())("isEditMode",!0)}}function j(n,t){if(n&1&&(o(0,"div",12),u(1,"i",20),d(2),r()),n&2){let e=m();i(2),v(" ",e.error()||e.i18n.t("department.not_found")," ")}}var T=class n{route=l(I);router=l(S);departmentsService=l(k);i18n=l(w);department=c(null);loading=c(!0);error=c("");ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t?this.loadDepartment(t):(this.error.set("Invalid department ID"),this.loading.set(!1))}loadDepartment(t){this.departmentsService.getDepartmentById(+t).subscribe({next:e=>{this.department.set(e),this.loading.set(!1)},error:e=>{this.error.set(this.getErrorMessage(e)),this.loading.set(!1)}})}onDepartmentSaved(t){this.router.navigate(["/departments"])}onCancel(){this.router.navigate(["/departments"])}getErrorMessage(t){return t?.error?.error?t.error.error:this.i18n.t("errors.unknown")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-edit-department"]],decls:21,vars:6,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/departments"],[1,"breadcrumb-item","active"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","justify-content-center","py-5"],[1,"card"],[1,"alert","alert-danger"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"card-header"],[1,"card-title","mb-0"],[1,"fa-solid","fa-building","me-2"],[1,"card-body"],[3,"save","cancel","department","isEditMode"],[1,"fa-solid","fa-exclamation-triangle","me-2"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),d(4),r(),o(5,"nav",2)(6,"ol",3)(7,"li",4)(8,"a",5),d(9),r()(),o(10,"li",4)(11,"a",6),d(12),r()(),o(13,"li",7),d(14),r()()()(),o(15,"button",8),g("click",function(){return a.onCancel()}),u(16,"i",9),d(17),r()(),b(18,V,4,1,"div",10)(19,q,7,3,"div",11)(20,j,3,1,"div",12),r()),e&2&&(i(4),p(a.i18n.t("department.edit")),i(5),p(a.i18n.t("dashboard.title")),i(3),p(a.i18n.t("departments.title")),i(2),p(a.i18n.t("department.edit")),i(3),v(" ",a.i18n.t("common.back")," "),i(),C(a.loading()?18:a.department()?19:20))},dependencies:[h,M,y,R],encapsulation:2})};export{T as EditDepartmentComponent};
