import{a as r}from"./chunk-RCBJJ7UY.js";import{Bc as a,Cc as p,M as o,Q as n,n as s}from"./chunk-JSQL33QG.js";var l=class i{constructor(e){this.http=e}baseUrl=`${r.apiUrl}/api/v1/users`;getUsers(e={}){let t=new a;return e.page&&(t=t.set("page",e.page.toString())),e.pageSize&&(t=t.set("pageSize",e.pageSize.toString())),e.search&&(t=t.set("search",e.search)),e.branchId&&(t=t.set("branchId",e.branchId.toString())),e.roleId&&(t=t.set("roleId",e.roleId.toString())),e.isActive!==void 0&&(t=t.set("isActive",e.isActive.toString())),this.http.get(this.baseUrl,{params:t})}getUserById(e){return this.http.get(`${this.baseUrl}/${e}`)}createUser(e){return this.http.post(this.baseUrl,e)}updateUser(e,t){return this.http.put(`${this.baseUrl}/${e}`,t)}deleteUser(e){return this.http.delete(`${this.baseUrl}/${e}`)}assignRole(e,t){return this.http.post(`${this.baseUrl}/${e}/roles`,t)}removeRole(e,t){return this.http.delete(`${this.baseUrl}/${e}/roles/${t}`)}assignBranch(e,t){return this.http.post(`${this.baseUrl}/${e}/branches`,t)}getRoles(){return this.http.get(`${r.apiUrl}/api/v1/roles`).pipe(s(e=>(console.log("Roles API response:",e),Array.isArray(e)?e:e&&e.value&&Array.isArray(e.value)?e.value:e&&e.items&&Array.isArray(e.items)?e.items:(console.warn("Unexpected roles response format:",e),[]))))}getBranches(){let e=new a().set("pageSize","1000").set("isActive","true");return this.http.get(`${r.apiUrl}/api/v1/branches`,{params:e}).pipe(s(t=>t.items||[]))}getAvailableEmployees(){let e=new a().set("page","1").set("pageSize","1000");return this.http.get(`${r.apiUrl}/api/v1/employees`,{params:e}).pipe(s(t=>t.items||[]))}static \u0275fac=function(t){return new(t||i)(n(p))};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};export{l as a};
