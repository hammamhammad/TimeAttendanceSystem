import{a as b}from"./chunk-AS5QRUY4.js";import{a as c,hb as i,ib as m,p as u,s as d}from"./chunk-LDUBOZPL.js";var p=class o{constructor(e){this.http=e}apiUrl=`${b.apiUrl}/api/v1/attendance`;getAttendanceReport(e){return this.http.post(`${this.apiUrl}/report`,e)}getEmployeeAttendanceRecord(e,t){return this.http.get(`${this.apiUrl}/employee/${e}/date/${t}`)}createTransaction(e){return this.http.post(`${this.apiUrl}/transactions`,e)}getTransaction(e){return this.http.get(`${this.apiUrl}/transactions/${e}`)}getAttendanceStatistics(e,t,n,a){let s=new i().set("startDate",e).set("endDate",t);return n&&(s=s.set("branchId",n.toString())),a&&(s=s.set("departmentId",a.toString())),this.http.get(`${this.apiUrl}/statistics`,{params:s})}getIncompleteRecords(e,t){let n=new i;return e&&(n=n.set("branchId",e.toString())),t&&(n=n.set("upToDate",t)),this.http.get(`${this.apiUrl}/incomplete`,{params:n})}generateAttendance(e,t){let n=new i;return t&&(n=n.set("branchId",t.toString())),this.http.post(`${this.apiUrl}/generate/${e}`,{},{params:n})}runDailyGeneration(){return this.http.post(`${this.apiUrl}/generate/daily`,{})}getDashboardData(e,t){let n=new i;return e&&(n=n.set("branchId",e.toString())),t&&(n=n.set("departmentId",t.toString())),this.http.get(`${this.apiUrl}/dashboard`,{params:n})}getEmployeeAttendanceHistory(e,t,n){let a={startDate:t,endDate:n,employeeId:e,includeTransactions:!0,includeWorkingDayAnalysis:!0,pageNumber:1,pageSize:1e3};return this.getAttendanceReport(a)}getEmployeeAttendanceHistoryComplete(e,t,n){let a=new i().set("startDate",t).set("endDate",n);return this.http.get(`${this.apiUrl}/employee/${e}/history`,{params:a})}getDailyAttendance(e,t,n,a){let s={startDate:e,endDate:e,branchId:t,departmentId:n,employeeId:a,includeTransactions:!1,includeWorkingDayAnalysis:!1,pageNumber:1,pageSize:1e3};return this.getAttendanceReport(s)}bulkCreateTransactions(e){return new c(t=>{let n=[],a=0;e.forEach(s=>{this.createTransaction(s).subscribe({next:l=>{n.push(l),a++,a===e.length&&(t.next(n),t.complete())},error:l=>t.error(l)})})})}getTransactionsByDate(e){return this.http.get(`${this.apiUrl}/transactions/date/${e}`)}deleteTransaction(e){return this.http.delete(`${this.apiUrl}/transactions/${e}`)}getEmployeeAttendanceRecords(e,t,n){return this.getEmployeeAttendanceHistory(e,t,n)}getEmployeeRecentTransactions(e,t=10){let n=new i().set("employeeId",e.toString()).set("limit",t.toString());return this.http.get(`${this.apiUrl}/transactions/recent`,{params:n})}getAttendanceRecordById(e){return this.http.get(`${this.apiUrl}/${e}`)}updateAttendanceRecord(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}bulkUpdateAttendanceRecords(e){return this.http.put(`${this.apiUrl}/bulk-update`,e)}calculateAttendanceForEmployeeDate(e,t){return this.http.post(`${this.apiUrl}/calculate/employee/${e}/date/${t}`,{})}calculateAttendanceForDate(e,t=!1){let n=new i;return t&&(n=n.set("forceRecalculate",t.toString())),this.http.post(`${this.apiUrl}/calculate/date/${e}`,{},{params:n})}bulkCalculateAttendance(e){return this.http.post(`${this.apiUrl}/calculate/bulk`,e)}recalculateAttendanceRecord(e){return this.http.post(`${this.apiUrl}/${e}/recalculate`,{})}forceGenerateAttendanceRecord(e,t){return this.calculateAttendanceForEmployeeDate(e,t)}changeAttendanceShift(e,t,n){let a={shiftId:t,notes:n};return this.http.post(`${this.apiUrl}/${e}/change-shift`,a)}getMonthlyReport(e){return this.http.post(`${this.apiUrl}/monthly-report`,e)}static \u0275fac=function(t){return new(t||o)(d(m))};static \u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"})};var g=(r=>(r[r.Present=1]="Present",r[r.Absent=2]="Absent",r[r.Late=3]="Late",r[r.EarlyLeave=4]="EarlyLeave",r[r.OnLeave=5]="OnLeave",r[r.DayOff=6]="DayOff",r[r.Overtime=7]="Overtime",r[r.Incomplete=8]="Incomplete",r[r.Holiday=9]="Holiday",r[r.SickLeave=10]="SickLeave",r[r.Pending=11]="Pending",r))(g||{});export{p as a,g as b};
