import{a as $}from"./chunk-MI7Q5EGH.js";import{a as ee}from"./chunk-GBFD7MFB.js";import{b as N,c as R,e as A,f as L,g as z,h as D,i as j,j as G,k as J,s as K,t as Q,u as U,v as X,x as Y}from"./chunk-OTKBQKTN.js";import{b as Z}from"./chunk-NJ656CWW.js";import{$ as r,Da as p,E as i,Ea as g,Fa as C,Ga as E,J as H,U as b,V as x,W,X as O,Xa as I,Y as P,Z as k,_ as M,aa as n,ba as y,eb as q,ia as F,ka as S,ma as u,pb as B,t as v,u as f,v as c,va as d,wa as m,xa as _,ya as V,z as T}from"./chunk-6T5SYK5O.js";import"./chunk-DGAILPFQ.js";function oe(h,a){if(h&1){let t=F();r(0,"div",15)(1,"label",67),d(2),r(3,"span",17),d(4,"*"),n()(),r(5,"div",55)(6,"input",68),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.requiredHours,o)||(l.shiftForm.requiredHours=o),c(o)}),n(),r(7,"span",57),d(8),n()(),r(9,"div",53),d(10),n()()}if(h&2){let t=u();i(2),_(" ",t.t("shifts.requiredHours")," "),i(4),p("ngModel",t.shiftForm.requiredHours),i(2),m(t.t("shifts.hours")),i(2),m(t.t("shifts.help.requiredHours"))}}function ae(h,a){if(h&1&&(r(0,"small",49),d(1),n()),h&2){let t=u();i(),m(t.t("shifts.help.nightShiftDisabledHoursOnly"))}}function se(h,a){if(h&1){let t=F();r(0,"button",75),S("click",function(){f(t);let o=u(2);return c(o.addShiftPeriod())}),y(1,"i",76),d(2),n()}if(h&2){let t=u(2);i(2),_("",t.t("shifts.addPeriod")," ")}}function de(h,a){if(h&1){let t=F();r(0,"button",85),S("click",function(){f(t);let o=u().$index,l=u(2);return c(l.removeShiftPeriod(o))}),y(1,"i",86),n()}}function le(h,a){if(h&1){let t=F();r(0,"div",72)(1,"div",77)(2,"span",26),d(3),n(),r(4,"div",78)(5,"span",79),d(6),n(),r(7,"span",80),d(8),n(),b(9,de,2,0,"button",81),n()(),r(10,"div",82)(11,"div",2)(12,"div",22)(13,"label",83),d(14),n(),r(15,"input",84),C("ngModelChange",function(o){let l=f(t).$implicit;return g(l.startTime,o)||(l.startTime=o),c(o)}),n()(),r(16,"div",22)(17,"label",83),d(18),n(),r(19,"input",84),C("ngModelChange",function(o){let l=f(t).$implicit;return g(l.endTime,o)||(l.endTime=o),c(o)}),n()()()()()}if(h&2){let t=a.$implicit,e=a.$index,o=u(2);i(3),V("",o.t("shifts.period")," ",t.periodOrder),i(2),M("ngClass",o.isNightShift(t.startTime,t.endTime)?"bg-info":"bg-primary"),i(),_(" ",o.getPeriodTypeText(t)," "),i(2),m(o.formatHours(o.calculatePeriodHours(t.startTime,t.endTime))),i(),x(o.shiftForm.shiftPeriods.length>1?9:-1),i(5),m(o.t("shifts.startTime")),i(),p("ngModel",t.startTime),M("name","startTime_"+e),i(3),m(o.t("shifts.endTime")),i(),p("ngModel",t.endTime),M("name","endTime_"+e)}}function me(h,a){if(h&1&&(r(0,"div",12)(1,"div",3)(2,"div",69)(3,"h5",70),d(4),n(),b(5,se,3,1,"button",71),n(),y(6,"hr",14),P(7,le,20,12,"div",72,W),r(9,"div",73),y(10,"i",74),r(11,"span"),d(12),r(13,"strong"),d(14),n()()()()()),h&2){let t=u();i(4),m(t.t("shifts.periods")),i(),x(t.shiftForm.shiftPeriods.length<2?5:-1),i(2),k(t.shiftForm.shiftPeriods),i(5),_("",t.t("shifts.totalHours"),": "),i(2),m(t.formatHours(t.getTotalShiftHours()))}}function he(h,a){if(h&1){let t=F();r(0,"div",15)(1,"label",87),d(2),r(3,"span",17),d(4,"*"),n()(),r(5,"input",88),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.coreStart,o)||(l.shiftForm.coreStart=o),c(o)}),n()(),r(6,"div",15)(7,"label",89),d(8),r(9,"span",17),d(10,"*"),n()(),r(11,"input",90),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.coreEnd,o)||(l.shiftForm.coreEnd=o),c(o)}),n()()}if(h&2){let t=u();i(2),_(" ",t.t("shifts.coreStart")," "),i(3),p("ngModel",t.shiftForm.coreStart),i(3),_(" ",t.t("shifts.coreEnd")," "),i(3),p("ngModel",t.shiftForm.coreEnd)}}function fe(h,a){if(h&1&&(r(0,"small",58),d(1),n()),h&2){let t=u();i(),m(t.t("shifts.help.weeklyHoursCoreRequired"))}}function ce(h,a){if(h&1&&(r(0,"small",49),d(1),n()),h&2){let t=u(2);i(),m(t.t("shifts.help.gracePeriodDisabledFlexible"))}}function ue(h,a){if(h&1){let t=F();r(0,"div",15)(1,"label",95),d(2),n(),r(3,"div",55)(4,"input",96),C("ngModelChange",function(o){f(t);let l=u(2);return g(l.shiftForm.flexMinutesBefore,o)||(l.shiftForm.flexMinutesBefore=o),c(o)}),n(),r(5,"span",57),d(6),n()(),r(7,"div",53),d(8),n()(),r(9,"div",15)(10,"label",97),d(11),n(),r(12,"div",55)(13,"input",98),C("ngModelChange",function(o){f(t);let l=u(2);return g(l.shiftForm.flexMinutesAfter,o)||(l.shiftForm.flexMinutesAfter=o),c(o)}),n(),r(14,"span",57),d(15),n()(),r(16,"div",53),d(17),n()()}if(h&2){let t=u(2);i(2),m(t.t("shifts.flexMinutesBefore")),i(2),p("ngModel",t.shiftForm.flexMinutesBefore),i(2),m(t.t("common.minutes")),i(2),m(t.t("shifts.help.flexBefore")),i(3),m(t.t("shifts.flexMinutesAfter")),i(2),p("ngModel",t.shiftForm.flexMinutesAfter),i(2),m(t.t("common.minutes")),i(2),m(t.t("shifts.help.flexAfter"))}}function pe(h,a){if(h&1){let t=F();r(0,"div",15)(1,"label",91),d(2),n(),r(3,"div",55)(4,"input",92),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.gracePeriodMinutes,o)||(l.shiftForm.gracePeriodMinutes=o),c(o)}),S("ngModelChange",function(){f(t);let o=u();return c(o.onGracePeriodChange())}),n(),r(5,"span",57),d(6),n()(),r(7,"div",53),d(8),n(),b(9,ce,2,1,"small",49),n(),r(10,"div",19)(11,"div",50)(12,"input",93),C("ngModelChange",function(o){f(t);let l=u();return g(l.shiftForm.allowFlexibleHours,o)||(l.shiftForm.allowFlexibleHours=o),c(o)}),S("change",function(){f(t);let o=u();return c(o.onFlexibleHoursChange())}),n(),r(13,"label",94),d(14),n()(),r(15,"div",53),d(16),n()(),b(17,ue,18,8)}if(h&2){let t=u();i(2),m(t.t("shifts.gracePeriodMinutes")),i(2),p("ngModel",t.shiftForm.gracePeriodMinutes),M("disabled",t.shiftForm.allowFlexibleHours),i(2),m(t.t("common.minutes")),i(2),m(t.t("shifts.help.gracePeriod")),i(),x(t.shiftForm.allowFlexibleHours?9:-1),i(3),p("ngModel",t.shiftForm.allowFlexibleHours),i(2),_(" ",t.t("shifts.allowFlexibleHours")," "),i(2),m(t.t("shifts.help.flexibleHours")),i(),x(t.shiftForm.allowFlexibleHours?17:-1)}}function ge(h,a){if(h&1&&(r(0,"div",103),d(1),n()),h&2){let t=a.$implicit;i(),_("\u2022 ",t)}}function Ce(h,a){if(h&1&&(r(0,"div",12)(1,"div",3)(2,"div",99)(3,"div",100),y(4,"i",101),r(5,"div")(6,"h6",102),d(7),n(),P(8,ge,2,1,"div",103,O),n()()()()()),h&2){let t=u();i(7),m(t.t("common.validationErrors")),i(),k(t.getFormErrors())}}function _e(h,a){if(h&1&&(y(0,"span",104),d(1)),h&2){let t=u();i(),_(" ",t.t("shifts.loading.creating")," ")}}function ye(h,a){if(h&1&&(y(0,"i",105),d(1)),h&2){let t=u();i(),_("",t.t("shifts.create")," ")}}var te=class h{shiftsService=v($);router=v(B);i18n=v(Z);ShiftType=ee;loading=T(!1);submitting=T(!1);shiftForm={name:"",description:"",shiftType:1,requiredHours:void 0,isCheckInRequired:!0,isAutoCheckOut:!1,allowFlexibleHours:!1,flexMinutesBefore:void 0,flexMinutesAfter:void 0,gracePeriodMinutes:void 0,requiredWeeklyHours:void 0,hasCoreHours:!1,coreStart:"",coreEnd:"",isSunday:!1,isMonday:!0,isTuesday:!0,isWednesday:!0,isThursday:!0,isFriday:!0,isSaturday:!1,isNightShift:!1,shiftPeriods:[{periodOrder:1,startTime:"08:00",endTime:"17:00"}]};ngOnInit(){}t(a){return this.i18n.t(a)}onShiftTypeChange(){this.shiftForm.shiftType===2?(this.shiftForm.allowFlexibleHours=!1,this.shiftForm.flexMinutesBefore=void 0,this.shiftForm.flexMinutesAfter=void 0,this.shiftForm.gracePeriodMinutes=void 0,this.shiftForm.shiftPeriods=[],this.shiftForm.isNightShift=!1,this.shiftForm.requiredHours||(this.shiftForm.requiredHours=8)):(this.shiftForm.requiredHours=void 0,this.shiftForm.shiftPeriods.length===0&&this.addShiftPeriod())}onCoreHoursChange(){this.shiftForm.hasCoreHours?(this.shiftForm.coreStart||(this.shiftForm.coreStart="09:00"),this.shiftForm.coreEnd||(this.shiftForm.coreEnd="15:00")):(this.shiftForm.coreStart="",this.shiftForm.coreEnd="")}onFlexibleHoursChange(){this.shiftForm.allowFlexibleHours?this.shiftForm.gracePeriodMinutes=void 0:(this.shiftForm.flexMinutesBefore=void 0,this.shiftForm.flexMinutesAfter=void 0)}onGracePeriodChange(){this.shiftForm.gracePeriodMinutes&&this.shiftForm.gracePeriodMinutes>0&&(this.shiftForm.allowFlexibleHours=!1,this.shiftForm.flexMinutesBefore=void 0,this.shiftForm.flexMinutesAfter=void 0)}onWeeklyHoursChange(){this.shiftForm.requiredWeeklyHours&&this.shiftForm.requiredWeeklyHours>0&&(this.shiftForm.hasCoreHours||(this.shiftForm.hasCoreHours=!0,this.onCoreHoursChange()))}onNightShiftChange(){this.shiftForm.isNightShift&&this.shiftForm.shiftType===2&&(this.shiftForm.isNightShift=!1)}addShiftPeriod(){if(this.shiftForm.shiftPeriods.length<2){let a=this.shiftForm.shiftPeriods.length+1;this.shiftForm.shiftPeriods.push({periodOrder:a,startTime:a===1?"08:00":"13:00",endTime:a===1?"12:00":"17:00"})}}removeShiftPeriod(a){this.shiftForm.shiftPeriods.splice(a,1),this.shiftForm.shiftPeriods.forEach((t,e)=>{t.periodOrder=e+1})}calculatePeriodHours(a,t){if(!a||!t)return 0;let e=this.parseTime(a),o=this.parseTime(t);if(o>e)return(o-e)/(1e3*60*60);if(o<e){let l=(864e5-e)/36e5,s=o/(1e3*60*60);return l+s}else return 0}isNightShift(a,t){if(!a||!t)return!1;let e=this.parseTime(a);return this.parseTime(t)<e}getTotalShiftHours(){return this.shiftForm.shiftType===2?this.shiftForm.requiredHours||0:this.shiftForm.shiftPeriods.reduce((a,t)=>a+this.calculatePeriodHours(t.startTime,t.endTime),0)}getWorkingDaysCount(){let a=0;return this.shiftForm.isSunday&&a++,this.shiftForm.isMonday&&a++,this.shiftForm.isTuesday&&a++,this.shiftForm.isWednesday&&a++,this.shiftForm.isThursday&&a++,this.shiftForm.isFriday&&a++,this.shiftForm.isSaturday&&a++,a}parseTime(a){let[t,e]=a.split(":").map(Number);return(t*60+e)*60*1e3}formatHours(a){let t=Math.floor(a),e=Math.round((a-t)*60);return e>0?`${t}h ${e}m`:`${t}h`}getPeriodTypeText(a){return this.isNightShift(a.startTime,a.endTime)?this.t("shifts.periodTypes.nightShift"):this.t("shifts.periodTypes.dayShift")}validateBusinessRules(){let a=[];if(this.shiftForm.name.trim()||a.push(this.t("shifts.validation.name.required")),this.shiftForm.isSunday||this.shiftForm.isMonday||this.shiftForm.isTuesday||this.shiftForm.isWednesday||this.shiftForm.isThursday||this.shiftForm.isFriday||this.shiftForm.isSaturday||a.push(this.t("shifts.validation.workingDays.required")),this.shiftForm.hasCoreHours)if(!this.shiftForm.coreStart||!this.shiftForm.coreEnd)a.push(this.t("shifts.validation.coreHours.required"));else{let e=this.parseTime(this.shiftForm.coreStart),o=this.parseTime(this.shiftForm.coreEnd);e===o&&a.push(this.t("shifts.validation.coreHours.sameTime")),this.shiftForm.shiftType===1&&this.shiftForm.shiftPeriods.length>0&&(this.shiftForm.shiftPeriods.some(s=>this.isCoreWithinPeriod(s,this.shiftForm.coreStart,this.shiftForm.coreEnd))||a.push(this.t("shifts.validation.coreHours.outsidePeriods")))}return this.shiftForm.requiredWeeklyHours!==void 0&&this.shiftForm.requiredWeeklyHours!==null&&(this.shiftForm.requiredWeeklyHours<=0&&a.push(this.t("shifts.validation.weeklyHours.positive")),this.shiftForm.requiredWeeklyHours>168&&a.push(this.t("shifts.validation.weeklyHours.maxWeekly")),this.shiftForm.hasCoreHours||a.push(this.t("shifts.validation.weeklyHours.coreHoursRequired"))),this.shiftForm.allowFlexibleHours&&this.shiftForm.gracePeriodMinutes&&this.shiftForm.gracePeriodMinutes>0&&a.push(this.t("shifts.validation.flexible.noGracePeriod")),this.shiftForm.isNightShift&&this.shiftForm.shiftType===2&&a.push(this.t("shifts.validation.nightShift.notWithHoursOnly")),this.shiftForm.shiftType===1?(this.shiftForm.shiftPeriods.length===0&&a.push(this.t("shifts.validation.timeBased.periodsRequired")),this.shiftForm.requiredHours!==void 0&&a.push(this.t("shifts.validation.timeBased.noRequiredHours"))):this.shiftForm.shiftType===2&&(this.shiftForm.shiftPeriods.length>0&&a.push(this.t("shifts.validation.hoursOnly.noPeriods")),(!this.shiftForm.requiredHours||this.shiftForm.requiredHours<=0)&&a.push(this.t("shifts.validation.hoursOnly.requiredHours")),this.shiftForm.requiredHours&&this.shiftForm.requiredHours>24&&a.push(this.t("shifts.validation.hoursOnly.maxHours"))),a}isCoreWithinPeriod(a,t,e){let o=this.parseTime(a.startTime),l=this.parseTime(a.endTime),s=this.parseTime(t),w=this.parseTime(e);if(l<o){let ie=s>=o&&w>=o,ne=s<=l&&w<=l,re=s>=o&&w<=l;return ie||ne||re}else return s>=o&&w<=l}isFormValid(){return this.validateBusinessRules().length===0}getFormErrors(){return this.validateBusinessRules()}onSubmit(){if(!this.isFormValid())return;this.submitting.set(!0);let a={name:this.shiftForm.name.trim(),description:this.shiftForm.description.trim()||void 0,shiftType:this.shiftForm.shiftType,requiredHours:this.shiftForm.requiredHours,isCheckInRequired:this.shiftForm.isCheckInRequired,isAutoCheckOut:this.shiftForm.isAutoCheckOut,allowFlexibleHours:this.shiftForm.allowFlexibleHours,flexMinutesBefore:this.shiftForm.flexMinutesBefore,flexMinutesAfter:this.shiftForm.flexMinutesAfter,gracePeriodMinutes:this.shiftForm.gracePeriodMinutes,requiredWeeklyHours:this.shiftForm.requiredWeeklyHours,hasCoreHours:this.shiftForm.hasCoreHours,coreStart:this.shiftForm.hasCoreHours?this.shiftForm.coreStart:void 0,coreEnd:this.shiftForm.hasCoreHours?this.shiftForm.coreEnd:void 0,isSunday:this.shiftForm.isSunday,isMonday:this.shiftForm.isMonday,isTuesday:this.shiftForm.isTuesday,isWednesday:this.shiftForm.isWednesday,isThursday:this.shiftForm.isThursday,isFriday:this.shiftForm.isFriday,isSaturday:this.shiftForm.isSaturday,isNightShift:this.shiftForm.isNightShift,shiftPeriods:this.shiftForm.shiftPeriods.length>0?this.shiftForm.shiftPeriods.map(t=>({periodOrder:t.periodOrder,startTime:t.startTime,endTime:t.endTime})):void 0};this.shiftsService.createShift(a).subscribe({next:()=>{this.router.navigate(["/shifts"]),this.submitting.set(!1)},error:t=>{console.error("Failed to create shift:",t),this.submitting.set(!1)}})}onCancel(){this.router.navigate(["/shifts"])}static \u0275fac=function(t){return new(t||h)};static \u0275cmp=H({type:h,selectors:[["app-create-shift"]],decls:161,vars:67,consts:[["formRef","ngForm"],[1,"container-fluid","px-4"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"h4","mb-1"],[1,"text-muted","mb-0"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-arrow-left","me-2"],[1,"card","border-0","shadow-sm"],[1,"card-body","p-4"],[3,"ngSubmit"],[1,"row","mb-4"],[1,"card-title","mb-3"],[1,"mt-0","mb-3"],[1,"col-md-6","mb-3"],["for","name",1,"form-label"],[1,"text-danger"],["type","text","id","name","name","name","required","","maxlength","200",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-12","mb-3"],["for","description",1,"form-label"],["id","description","name","description","rows","3","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-md-6"],[1,"form-check","p-3","border","rounded"],["type","radio","name","shiftType","id","timeBased",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],["for","timeBased",1,"form-check-label","w-100"],[1,"fw-medium"],[1,"text-muted"],["type","radio","name","shiftType","id","hoursOnly",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],["for","hoursOnly",1,"form-check-label","w-100"],[1,"col-md-3","col-6","mb-2"],[1,"form-check"],["type","checkbox","id","sunday","name","isSunday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","sunday",1,"form-check-label"],["type","checkbox","id","monday","name","isMonday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","monday",1,"form-check-label"],["type","checkbox","id","tuesday","name","isTuesday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","tuesday",1,"form-check-label"],["type","checkbox","id","wednesday","name","isWednesday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","wednesday",1,"form-check-label"],["type","checkbox","id","thursday","name","isThursday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","thursday",1,"form-check-label"],["type","checkbox","id","friday","name","isFriday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","friday",1,"form-check-label"],["type","checkbox","id","saturday","name","isSaturday",1,"form-check-input",3,"ngModelChange","ngModel"],["for","saturday",1,"form-check-label"],[1,"col-12","mt-3"],["type","checkbox","id","nightShift","name","isNightShift",1,"form-check-input",3,"ngModelChange","change","ngModel","disabled"],["for","nightShift",1,"form-check-label","fw-medium"],[1,"text-warning","d-block"],[1,"form-check","form-switch"],["type","checkbox","id","hasCoreHours","name","hasCoreHours",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","hasCoreHours",1,"form-check-label"],[1,"form-text"],["for","requiredWeeklyHours",1,"form-label"],[1,"input-group"],["type","number","id","requiredWeeklyHours","name","requiredWeeklyHours","step","0.5","min","0","max","168",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group-text"],[1,"text-info","d-block"],["type","checkbox","id","checkInRequired","name","isCheckInRequired",1,"form-check-input",3,"ngModelChange","ngModel"],["for","checkInRequired",1,"form-check-label"],["type","checkbox","id","autoCheckOut","name","isAutoCheckOut",1,"form-check-input",3,"ngModelChange","ngModel"],["for","autoCheckOut",1,"form-check-label"],[1,"mb-4"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","requiredHours",1,"form-label"],["type","number","id","requiredHours","name","requiredHours","step","0.5","min","0.5","max","24","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"card-title","mb-0"],["type","button",1,"btn","btn-outline-primary","btn-sm"],[1,"card","border","mb-3"],[1,"alert","alert-info","d-flex","align-items-center"],[1,"bi","bi-info-circle","me-2"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center","py-2"],[1,"d-flex","align-items-center","gap-2"],[1,"badge",3,"ngClass"],[1,"text-muted","small"],["type","button",1,"btn","btn-outline-danger","btn-sm"],[1,"card-body"],[1,"form-label"],["type","time","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["for","coreStart",1,"form-label"],["type","time","id","coreStart","name","coreStart","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","coreEnd",1,"form-label"],["type","time","id","coreEnd","name","coreEnd","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","gracePeriod",1,"form-label"],["type","number","id","gracePeriod","name","gracePeriodMinutes","min","0","max","120",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","checkbox","id","flexibleHours","name","allowFlexibleHours",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","flexibleHours",1,"form-check-label"],["for","flexBefore",1,"form-label"],["type","number","id","flexBefore","name","flexMinutesBefore","min","1","max","480",1,"form-control",3,"ngModelChange","ngModel"],["for","flexAfter",1,"form-label"],["type","number","id","flexAfter","name","flexMinutesAfter","min","1","max","480",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-danger"],[1,"d-flex","align-items-start"],[1,"bi","bi-exclamation-triangle","me-2","mt-1"],[1,"alert-heading","mb-2"],[1,"mb-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-check-circle","me-2"]],template:function(t,e){if(t&1){let o=F();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"h2",5),d(6),n(),r(7,"p",6),d(8),n()(),r(9,"button",7),S("click",function(){return f(o),c(e.onCancel())}),y(10,"i",8),d(11),n()(),r(12,"div",9)(13,"div",10)(14,"form",11,0),S("ngSubmit",function(){return f(o),c(e.onSubmit())}),r(16,"div",12)(17,"div",3)(18,"h5",13),d(19),n(),y(20,"hr",14),n(),r(21,"div",15)(22,"label",16),d(23),r(24,"span",17),d(25,"*"),n()(),r(26,"input",18),C("ngModelChange",function(s){return f(o),g(e.shiftForm.name,s)||(e.shiftForm.name=s),c(s)}),n()(),r(27,"div",19)(28,"label",20),d(29),n(),r(30,"textarea",21),C("ngModelChange",function(s){return f(o),g(e.shiftForm.description,s)||(e.shiftForm.description=s),c(s)}),n()()(),r(31,"div",12)(32,"div",3)(33,"h5",13),d(34),n(),y(35,"hr",14),n(),r(36,"div",19)(37,"div",2)(38,"div",22)(39,"div",23)(40,"input",24),C("ngModelChange",function(s){return f(o),g(e.shiftForm.shiftType,s)||(e.shiftForm.shiftType=s),c(s)}),S("change",function(){return f(o),c(e.onShiftTypeChange())}),n(),r(41,"label",25)(42,"div",26),d(43),n(),r(44,"small",27),d(45),n()()()(),r(46,"div",22)(47,"div",23)(48,"input",28),C("ngModelChange",function(s){return f(o),g(e.shiftForm.shiftType,s)||(e.shiftForm.shiftType=s),c(s)}),S("change",function(){return f(o),c(e.onShiftTypeChange())}),n(),r(49,"label",29)(50,"div",26),d(51),n(),r(52,"small",27),d(53),n()()()()()(),b(54,oe,11,4,"div",15),n(),r(55,"div",12)(56,"div",3)(57,"h5",13),d(58),n(),y(59,"hr",14),n(),r(60,"div",19)(61,"div",2)(62,"div",30)(63,"div",31)(64,"input",32),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isSunday,s)||(e.shiftForm.isSunday=s),c(s)}),n(),r(65,"label",33),d(66),n()()(),r(67,"div",30)(68,"div",31)(69,"input",34),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isMonday,s)||(e.shiftForm.isMonday=s),c(s)}),n(),r(70,"label",35),d(71),n()()(),r(72,"div",30)(73,"div",31)(74,"input",36),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isTuesday,s)||(e.shiftForm.isTuesday=s),c(s)}),n(),r(75,"label",37),d(76),n()()(),r(77,"div",30)(78,"div",31)(79,"input",38),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isWednesday,s)||(e.shiftForm.isWednesday=s),c(s)}),n(),r(80,"label",39),d(81),n()()(),r(82,"div",30)(83,"div",31)(84,"input",40),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isThursday,s)||(e.shiftForm.isThursday=s),c(s)}),n(),r(85,"label",41),d(86),n()()(),r(87,"div",30)(88,"div",31)(89,"input",42),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isFriday,s)||(e.shiftForm.isFriday=s),c(s)}),n(),r(90,"label",43),d(91),n()()(),r(92,"div",30)(93,"div",31)(94,"input",44),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isSaturday,s)||(e.shiftForm.isSaturday=s),c(s)}),n(),r(95,"label",45),d(96),n()()()(),r(97,"small",27),d(98),n()(),r(99,"div",46)(100,"div",31)(101,"input",47),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isNightShift,s)||(e.shiftForm.isNightShift=s),c(s)}),S("change",function(){return f(o),c(e.onNightShiftChange())}),n(),r(102,"label",48),d(103),n()(),r(104,"small",27),d(105),n(),b(106,ae,2,1,"small",49),n()(),b(107,me,15,4,"div",12),r(108,"div",12)(109,"div",3)(110,"h5",13),d(111),n(),y(112,"hr",14),n(),r(113,"div",19)(114,"div",50)(115,"input",51),C("ngModelChange",function(s){return f(o),g(e.shiftForm.hasCoreHours,s)||(e.shiftForm.hasCoreHours=s),c(s)}),S("change",function(){return f(o),c(e.onCoreHoursChange())}),n(),r(116,"label",52),d(117),n()(),r(118,"div",53),d(119),n()(),b(120,he,12,4),n(),r(121,"div",12)(122,"div",3)(123,"h5",13),d(124),n(),y(125,"hr",14),n(),r(126,"div",15)(127,"label",54),d(128),n(),r(129,"div",55)(130,"input",56),C("ngModelChange",function(s){return f(o),g(e.shiftForm.requiredWeeklyHours,s)||(e.shiftForm.requiredWeeklyHours=s),c(s)}),S("ngModelChange",function(){return f(o),c(e.onWeeklyHoursChange())}),n(),r(131,"span",57),d(132),n()(),r(133,"div",53),d(134),n(),b(135,fe,2,1,"small",58),n(),r(136,"div",15)(137,"div",50)(138,"input",59),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isCheckInRequired,s)||(e.shiftForm.isCheckInRequired=s),c(s)}),n(),r(139,"label",60),d(140),n()(),r(141,"div",53),d(142),n()(),r(143,"div",15)(144,"div",50)(145,"input",61),C("ngModelChange",function(s){return f(o),g(e.shiftForm.isAutoCheckOut,s)||(e.shiftForm.isAutoCheckOut=s),c(s)}),n(),r(146,"label",62),d(147),n()(),r(148,"div",53),d(149),n()(),b(150,pe,18,10),n(),b(151,Ce,10,1,"div",12),r(152,"div",2)(153,"div",3),y(154,"hr",63),r(155,"div",64)(156,"button",65),S("click",function(){return f(o),c(e.onCancel())}),d(157),n(),r(158,"button",66),b(159,_e,2,1)(160,ye,2,1),n()()()()()()()()()()}t&2&&(i(6),m(e.t("shifts.create")),i(2),m(e.t("shifts.createDescription")),i(3),_("",e.t("common.back")," "),i(8),m(e.t("common.basicInformation")),i(4),_(" ",e.t("shifts.name")," "),i(3),M("placeholder",E(e.t("shifts.namePlaceholder"))),p("ngModel",e.shiftForm.name),i(3),m(e.t("shifts.description")),i(),M("placeholder",E(e.t("shifts.descriptionPlaceholder"))),p("ngModel",e.shiftForm.description),i(4),m(e.t("shifts.type")),i(6),M("value",e.ShiftType.TimeBased),p("ngModel",e.shiftForm.shiftType),i(3),m(e.t("shifts.types.timeBased")),i(2),m(e.t("shifts.help.shiftType.timeBased")),i(3),M("value",e.ShiftType.HoursOnly),p("ngModel",e.shiftForm.shiftType),i(3),m(e.t("shifts.types.hoursOnly")),i(2),m(e.t("shifts.help.shiftType.hoursOnly")),i(),x(e.shiftForm.shiftType===e.ShiftType.HoursOnly?54:-1),i(4),m(e.t("shifts.workingDays")),i(6),p("ngModel",e.shiftForm.isSunday),i(2),m(e.t("common.days.sunday")),i(3),p("ngModel",e.shiftForm.isMonday),i(2),m(e.t("common.days.monday")),i(3),p("ngModel",e.shiftForm.isTuesday),i(2),m(e.t("common.days.tuesday")),i(3),p("ngModel",e.shiftForm.isWednesday),i(2),m(e.t("common.days.wednesday")),i(3),p("ngModel",e.shiftForm.isThursday),i(2),m(e.t("common.days.thursday")),i(3),p("ngModel",e.shiftForm.isFriday),i(2),m(e.t("common.days.friday")),i(3),p("ngModel",e.shiftForm.isSaturday),i(2),m(e.t("common.days.saturday")),i(2),m(e.t("shifts.help.workingDays")),i(3),p("ngModel",e.shiftForm.isNightShift),M("disabled",e.shiftForm.shiftType===e.ShiftType.HoursOnly),i(2),_(" ",e.t("shifts.isNightShift")," "),i(2),m(e.t("shifts.help.nightShift")),i(),x(e.shiftForm.shiftType===e.ShiftType.HoursOnly?106:-1),i(),x(e.shiftForm.shiftType===e.ShiftType.TimeBased?107:-1),i(4),m(e.t("shifts.coreHours")),i(4),p("ngModel",e.shiftForm.hasCoreHours),i(2),_(" ",e.t("shifts.hasCoreHours")," "),i(2),m(e.t("shifts.help.coreHours")),i(),x(e.shiftForm.hasCoreHours?120:-1),i(4),m(e.t("shifts.advancedOptions")),i(4),m(e.t("shifts.requiredWeeklyHours")),i(2),p("ngModel",e.shiftForm.requiredWeeklyHours),i(2),m(e.t("shifts.hours")),i(2),m(e.t("shifts.help.requiredWeeklyHours")),i(),x(e.shiftForm.requiredWeeklyHours&&e.shiftForm.requiredWeeklyHours>0?135:-1),i(3),p("ngModel",e.shiftForm.isCheckInRequired),i(2),_(" ",e.t("shifts.checkInRequired")," "),i(2),m(e.t("shifts.help.checkInRequired")),i(3),p("ngModel",e.shiftForm.isAutoCheckOut),i(2),_(" ",e.t("shifts.autoCheckOut")," "),i(2),m(e.t("shifts.help.autoCheckOut")),i(),x(e.shiftForm.shiftType===e.ShiftType.TimeBased?150:-1),i(),x(!e.isFormValid()&&e.shiftForm.name?151:-1),i(5),M("disabled",e.submitting()),i(),_(" ",e.t("common.cancel")," "),i(),M("disabled",!e.isFormValid()||e.submitting()),i(),x(e.submitting()?159:160))},dependencies:[q,I,Y,j,R,G,N,J,A,L,U,X,Q,K,D,z],styles:['.create-shift-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:24px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#1f2937;margin-bottom:8px}.page-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden;margin-bottom:24px}.form-section[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #f3f4f6}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin-bottom:16px;display:flex;align-items:center;gap:8px}.section-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:#3b82f6}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.form-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:.875rem}.form-label.required[_ngcontent-%COMP%]:after{content:" *";color:#ef4444}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;transition:all .2s ease;background-color:#fff}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.checkbox-input[_ngcontent-%COMP%]{width:16px;height:16px;accent-color:#3b82f6}.checkbox-label[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;cursor:pointer}.working-days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin-top:12px}.day-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;border:1px solid #e5e7eb;border-radius:6px;background-color:#f9fafb;transition:all .2s ease}.day-checkbox[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.day-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .day-checkbox[_ngcontent-%COMP%], .day-checkbox.active[_ngcontent-%COMP%]{background-color:#eff6ff;border-color:#3b82f6}.shift-periods[_ngcontent-%COMP%]{margin-top:16px}.period-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-bottom:12px;background-color:#f9fafb}.period-header[_ngcontent-%COMP%]{display:flex;justify-content:between;align-items:center;margin-bottom:12px}.period-title[_ngcontent-%COMP%]{font-weight:500;color:#374151;display:flex;align-items:center;gap:8px}.period-type[_ngcontent-%COMP%]{font-size:.75rem;padding:2px 8px;border-radius:12px;font-weight:500}.period-type.day[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.period-type.night[_ngcontent-%COMP%]{background-color:#e0e7ff;color:#3730a3}.remove-period-btn[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca;padding:6px 12px;border-radius:4px;font-size:.75rem;cursor:pointer;transition:all .2s ease}.remove-period-btn[_ngcontent-%COMP%]:hover{background-color:#fee2e2;border-color:#fca5a5}.add-period-btn[_ngcontent-%COMP%]{background:#f0f9ff;color:#0369a1;border:1px solid #bae6fd;padding:8px 16px;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:6px}.add-period-btn[_ngcontent-%COMP%]:hover{background-color:#e0f2fe;border-color:#7dd3fc}.add-period-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.time-inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:8px}.period-info[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-top:4px}.shift-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:1px solid #0ea5e9;border-radius:8px;padding:16px;margin-top:16px}.summary-title[_ngcontent-%COMP%]{font-weight:600;color:#0c4a6e;margin-bottom:8px;font-size:.875rem}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:4px 0;font-size:.875rem}.summary-label[_ngcontent-%COMP%]{color:#374151}.summary-value[_ngcontent-%COMP%]{font-weight:500;color:#0c4a6e}.form-errors[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;border-radius:6px;padding:12px;margin-bottom:20px}.error-title[_ngcontent-%COMP%]{color:#dc2626;font-weight:500;margin-bottom:8px;font-size:.875rem}.error-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.error-item[_ngcontent-%COMP%]{color:#dc2626;font-size:.875rem;padding:2px 0}.error-item[_ngcontent-%COMP%]:before{content:"\\2022";margin-right:8px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:16px;border-top:1px solid #f3f4f6;margin-top:24px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;border:1px solid;transition:all .2s ease;display:flex;align-items:center;gap:6px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb;border-color:#2563eb}.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;border-color:#d1d5db;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f9fafb;border-color:#9ca3af}.loading-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.help-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-top:4px;line-height:1.4}.info-badge[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8;padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:500;display:inline-block}@media (max-width: 768px){.create-shift-container[_ngcontent-%COMP%]{padding:16px}.form-row[_ngcontent-%COMP%], .time-inputs[_ngcontent-%COMP%], .working-days-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}']})};export{te as CreateShiftComponent};
