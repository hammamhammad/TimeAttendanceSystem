import{a as u}from"./chunk-BSEKTODI.js";import{c as P,e as U,h as k,z as A}from"./chunk-YQIE4CGE.js";import{a as I}from"./chunk-GEGVYT7O.js";import{A as f,Da as S,E as B,Ga as x,Ia as y,L as o,Oa as N,Pa as F,Q as v,Qa as M,V as l,aa as p,ba as g,fb as C,ga as b,ha as a,ia as r,ja as d,qa as _,sa as c,ua as s,y as w,z as h}from"./chunk-5OFYUWMA.js";function E(n,m){if(n&1){let e=_();a(0,"button",12),c("click",function(){h(e);let i=s();return f(i.clearSearch())}),d(1,"i",13),r()}}function V(n,m){if(n&1){let e=_();a(0,"button",14),c("click",function(){h(e);let i=s();return f(i.onRefresh())}),d(1,"i",15),x(2),r()}if(n&2){let e=s();b("disabled",e.refreshing),o(),S("fa-spin",e.refreshing),o(),y(" ",e.displayRefreshButtonText()," ")}}function D(n,m){if(n&1){let e=_();a(0,"button",16),c("click",function(){h(e);let i=s();return f(i.onAdd())}),d(1,"i",17),x(2),r()}if(n&2){let e=s();o(2),y(" ",e.displayAddButtonText()," ")}}var R=class n{i18n=w(I);searchPlaceholder;showAddButton=!0;addButtonText;showRefreshButton=!0;refreshButtonText;refreshing=!1;moduleName;searchChange=new l;add=new l;refresh=new l;filtersChange=new l;searchTerm=B("");searchTimeout;displaySearchPlaceholder=C(()=>this.searchPlaceholder?this.searchPlaceholder:this.moduleName&&u[this.moduleName]?this.i18n.t(u[this.moduleName].searchPlaceholder):this.i18n.t("common.search"));displayAddButtonText=C(()=>this.addButtonText?this.addButtonText:this.moduleName&&u[this.moduleName]?this.i18n.t(u[this.moduleName].addButtonText):this.i18n.t("common.create"));displayRefreshButtonText=C(()=>this.refreshButtonText?this.refreshButtonText:this.i18n.t("common.refresh"));ngOnInit(){}onSearchChange(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.onSearch()},300)}onSearch(){this.searchChange.emit(this.searchTerm())}clearSearch(){this.searchTerm.set(""),this.onSearch()}onAdd(){this.add.emit()}onRefresh(){this.refresh.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-unified-filter"]],inputs:{searchPlaceholder:"searchPlaceholder",showAddButton:"showAddButton",addButtonText:"addButtonText",showRefreshButton:"showRefreshButton",refreshButtonText:"refreshButtonText",refreshing:"refreshing",moduleName:"moduleName"},outputs:{searchChange:"searchChange",add:"add",refresh:"refresh",filtersChange:"filtersChange"},decls:12,vars:5,consts:[[1,"search-filter"],[1,"row","g-3","align-items-center"],[1,"col-12","col-md-4"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],["type","button",1,"btn","btn-outline-secondary"],[1,"col-12","col-md-8","text-md-end","text-center","mt-2","mt-md-0"],[1,"d-flex","justify-content-md-end","justify-content-center","gap-2","flex-wrap"],["type","button",1,"btn","btn-outline-info",3,"disabled"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button",1,"btn","btn-outline-info",3,"click","disabled"],[1,"fas","fa-sync-alt","me-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-plus","me-2"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),d(5,"i",5),r(),a(6,"input",6),M("ngModelChange",function(T){return F(t.searchTerm,T)||(t.searchTerm=T),T}),c("ngModelChange",function(){return t.onSearchChange()})("keyup.enter",function(){return t.onSearch()}),r(),p(7,E,2,0,"button",7),r()(),a(8,"div",8)(9,"div",9),p(10,V,3,4,"button",10),p(11,D,3,1,"button",11),r()()()()),e&2&&(o(6),b("placeholder",t.displaySearchPlaceholder()),N("ngModel",t.searchTerm),o(),g(t.searchTerm()?7:-1),o(3),g(t.showRefreshButton?10:-1),o(),g(t.showAddButton?11:-1))},dependencies:[A,P,U,k],styles:[".search-filter[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};export{R as a};
