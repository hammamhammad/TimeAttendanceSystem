{
  "version": 3,
  "sources": ["src/app/pages/shifts/shifts.service.ts"],
  "sourcesContent": ["import { Injectable, inject } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  Shift,\r\n  ShiftsResponse,\r\n  CreateShiftRequest,\r\n  UpdateShiftRequest\r\n} from '../../shared/models/shift.model';\r\nimport { environment } from '../../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ShiftsService {\r\n  private http = inject(HttpClient);\r\n  private baseUrl = `${environment.apiUrl}/api/v1/shifts`;\r\n\r\n  getShifts(\r\n    page: number = 1,\r\n    pageSize: number = 10,\r\n    search?: string\r\n  ): Observable<ShiftsResponse> {\r\n    let httpParams = new HttpParams()\r\n      .set('page', page.toString())\r\n      .set('pageSize', pageSize.toString());\r\n\r\n    if (search) {\r\n      httpParams = httpParams.set('search', search);\r\n    }\r\n\r\n    return this.http.get<ShiftsResponse>(this.baseUrl, { params: httpParams });\r\n  }\r\n\r\n  getShiftById(id: number): Observable<Shift> {\r\n    return this.http.get<Shift>(`${this.baseUrl}/${id}`);\r\n  }\r\n\r\n  createShift(shift: CreateShiftRequest): Observable<{ id: number }> {\r\n    return this.http.post<{ id: number }>(this.baseUrl, shift);\r\n  }\r\n\r\n  updateShift(id: number, shift: UpdateShiftRequest): Observable<void> {\r\n    return this.http.put<void>(`${this.baseUrl}/${id}`, shift);\r\n  }\r\n\r\n  deleteShift(id: number): Observable<void> {\r\n    return this.http.delete<void>(`${this.baseUrl}/${id}`);\r\n  }\r\n\r\n  getDefaultShift(): Observable<Shift | null> {\r\n    return this.http.get<Shift | null>(`${this.baseUrl}/default`);\r\n  }\r\n\r\n  setDefaultShift(id: number, forceReplace: boolean = false): Observable<void> {\r\n    const params = new HttpParams().set('forceReplace', forceReplace.toString());\r\n    return this.http.post<void>(`${this.baseUrl}/${id}/set-default`, {}, { params });\r\n  }\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;AAcM,IAAO,iBAAP,MAAO,eAAa;EAChB,OAAO,OAAO,UAAU;EACxB,UAAU,GAAG,YAAY,MAAM;EAEvC,UACE,OAAe,GACf,WAAmB,IACnB,QAAe;AAEf,QAAI,aAAa,IAAI,WAAU,EAC5B,IAAI,QAAQ,KAAK,SAAQ,CAAE,EAC3B,IAAI,YAAY,SAAS,SAAQ,CAAE;AAEtC,QAAI,QAAQ;AACV,mBAAa,WAAW,IAAI,UAAU,MAAM;IAC9C;AAEA,WAAO,KAAK,KAAK,IAAoB,KAAK,SAAS,EAAE,QAAQ,WAAU,CAAE;EAC3E;EAEA,aAAa,IAAU;AACrB,WAAO,KAAK,KAAK,IAAW,GAAG,KAAK,OAAO,IAAI,EAAE,EAAE;EACrD;EAEA,YAAY,OAAyB;AACnC,WAAO,KAAK,KAAK,KAAqB,KAAK,SAAS,KAAK;EAC3D;EAEA,YAAY,IAAY,OAAyB;AAC/C,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,OAAO,IAAI,EAAE,IAAI,KAAK;EAC3D;EAEA,YAAY,IAAU;AACpB,WAAO,KAAK,KAAK,OAAa,GAAG,KAAK,OAAO,IAAI,EAAE,EAAE;EACvD;EAEA,kBAAe;AACb,WAAO,KAAK,KAAK,IAAkB,GAAG,KAAK,OAAO,UAAU;EAC9D;EAEA,gBAAgB,IAAY,eAAwB,OAAK;AACvD,UAAM,SAAS,IAAI,WAAU,EAAG,IAAI,gBAAgB,aAAa,SAAQ,CAAE;AAC3E,WAAO,KAAK,KAAK,KAAW,GAAG,KAAK,OAAO,IAAI,EAAE,gBAAgB,CAAA,GAAI,EAAE,OAAM,CAAE;EACjF;;AA3CwB;cAAb;mCAAA,gBAAa;AAAA;cAAb,oFAAA,gBAAa,SAAb,eAAa,WAAA,YAFZ,OAAM,CAAA;AAEd,IAAO,gBAAP;;sEAAO,eAAa,CAAA;UAHzB;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
