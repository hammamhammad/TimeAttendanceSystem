import{E as r,gb as d,u as c}from"./chunk-5OFYUWMA.js";import{d as s,e as l}from"./chunk-YMDWBF3A.js";var p=s({"./translations/ar.json":()=>import("./chunk-E6WZRCLT.js"),"./translations/en.json":()=>import("./chunk-YS7RDVLG.js")});var u=class o{translations=r({});locale=r("en");constructor(){d(()=>{let t=this.locale();this.updateDocumentLanguage(t),this.loadTranslations(t)})}updateDocumentLanguage(t){document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"}loadTranslations(t){return l(this,null,function*(){try{let e=yield p(`./translations/${t}.json`);this.translations.set(e.default||e)}catch(e){console.warn(`Failed to load translations for locale: ${t}`,e),this.translations.set({})}})}setLocale(t){this.locale.set(t)}t(t,e){let a=this.translations(),n=this.getNestedValue(a,t)||t;return e&&Object.keys(e).forEach(i=>{let g=new RegExp(`\\{\\{\\s*${i}\\s*\\}\\}`,"g");n=n.replace(g,String(e[i]))}),n}getNestedValue(t,e){return e.split(".").reduce((a,n)=>a&&a[n]!==void 0?a[n]:void 0,t)}getCurrentLocale(){return this.locale()}isRtl(){return this.locale()==="ar"}static \u0275fac=function(e){return new(e||o)};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{u as a};
