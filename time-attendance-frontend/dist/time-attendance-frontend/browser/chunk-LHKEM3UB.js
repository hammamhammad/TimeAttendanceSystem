import{a}from"./chunk-TJ2U7DWW.js";import{Bc as s,Cc as l,M as o,R as n,n as m}from"./chunk-JSQL33QG.js";var b=class p{http=n(l);baseUrl=`${a.apiUrl}/api/v1/employees`;branchesUrl=`${a.apiUrl}/api/v1/branches`;departmentsUrl=`${a.apiUrl}/api/v1/departments`;getEmployees(e={}){let t=new s;return e.page&&(t=t.set("page",e.page.toString())),e.pageSize&&(t=t.set("pageSize",e.pageSize.toString())),e.search&&(t=t.set("search",e.search)),e.branchId&&(t=t.set("branchId",e.branchId.toString())),e.departmentId&&(t=t.set("departmentId",e.departmentId.toString())),e.managerId&&(t=t.set("managerId",e.managerId.toString())),e.isActive!==void 0&&(t=t.set("isActive",e.isActive.toString())),e.employmentStatus&&(t=t.set("employmentStatus",e.employmentStatus)),this.http.get(this.baseUrl,{params:t})}getEmployeeById(e){return this.http.get(`${this.baseUrl}/${e}`)}getCurrentEmployee(){return this.http.get(`${this.baseUrl}/current`)}createEmployee(e){return this.http.post(this.baseUrl,e)}updateEmployee(e,t){return this.http.put(`${this.baseUrl}/${e}`,t)}deleteEmployee(e){return this.http.delete(`${this.baseUrl}/${e}`)}updateEmployeeShift(e,t){return this.http.post(`${this.baseUrl}/${e}/shift`,t)}changeEmployeeShift(e){return this.http.post(`${this.baseUrl}/${e.employeeId}/change-shift`,e)}getBranches(){let e=new s().set("page","1").set("pageSize","100").set("isActive","true");return this.http.get(this.branchesUrl,{params:e})}getDepartments(e){let t=new s;return e&&(t=t.set("branchId",e.toString())),this.http.get(this.departmentsUrl,{params:t})}getEmployeesForSelection(e){let t=new s().set("page","1").set("pageSize","1000").set("isActive","true");return e&&(t=t.set("branchId",e.toString())),this.http.get(this.baseUrl,{params:t}).pipe(m(i=>i.items.map(r=>({id:r.id,name:r.fullName,employeeNumber:r.employeeNumber}))))}getEmployeesDropdown(){return this.http.get(`${this.baseUrl}/dropdown`)}getManagers(e){let t=new s().set("page","1").set("pageSize","1000").set("isActive","true");return e&&(t=t.set("branchId",e.toString())),this.http.get(this.baseUrl,{params:t}).pipe(m(i=>i.items.map(r=>({id:r.id,name:r.fullName,employeeNumber:r.employeeNumber}))))}static \u0275fac=function(t){return new(t||p)};static \u0275prov=o({token:p,factory:p.\u0275fac,providedIn:"root"})};export{b as a};
