import{a as q}from"./chunk-CYQTDKAB.js";import{b as O,c as I,e as V,f as b,g as w,h as N,i as x,j as Y,s as R,t as F,u as L,v as W,x as k}from"./chunk-7QCK55IR.js";import{b as B}from"./chunk-AS5QRUY4.js";import{$ as n,E as i,Ea as p,Fa as c,Ga as s,H as y,J as S,O as C,_ as g,aa as o,ba as A,fb as P,ia as v,ka as T,ra as D,u as l,v as d,wa as a,xa as f,ya as u,z as E}from"./chunk-LDUBOZPL.js";var H=class h{constructor(M,_){this.i18n=M;this.notificationService=_}vacationType;isEdit=!1;save=new C;cancel=new C;loading=E(!1);formData={name:"",nameAr:"",code:"",isPaid:!0,affectsAttendance:!0,color:"#007bff",isActive:!0,maxDaysPerYear:void 0,requiresApproval:!0,minDaysNotice:void 0,description:"",descriptionAr:""};ngOnInit(){this.vacationType&&this.isEdit&&(this.formData={name:this.vacationType.name,nameAr:this.vacationType.nameAr||"",code:this.vacationType.code,isPaid:this.vacationType.isPaid,affectsAttendance:this.vacationType.affectsAttendance,color:this.vacationType.color||"#007bff",isActive:this.vacationType.isActive,maxDaysPerYear:this.vacationType.maxDaysPerYear,requiresApproval:this.vacationType.requiresApproval,minDaysNotice:this.vacationType.minDaysNotice,description:this.vacationType.description||"",descriptionAr:this.vacationType.descriptionAr||""})}onSubmit(){this.validateForm()&&(this.loading.set(!0),this.save.emit(this.formData))}onCancel(){this.cancel.emit()}validateForm(){return this.formData.name?.trim()?this.formData.code?.trim()?this.formData.maxDaysPerYear!==void 0&&this.formData.maxDaysPerYear<0?(this.notificationService.error("VACATION_TYPES.VALIDATION.MAX_DAYS_INVALID"),!1):this.formData.minDaysNotice!==void 0&&this.formData.minDaysNotice<0?(this.notificationService.error("VACATION_TYPES.VALIDATION.MIN_DAYS_NOTICE_INVALID"),!1):!0:(this.notificationService.error("VACATION_TYPES.VALIDATION.CODE_REQUIRED"),!1):(this.notificationService.error("VACATION_TYPES.VALIDATION.NAME_REQUIRED"),!1)}static \u0275fac=function(_){return new(_||h)(y(B),y(q))};static \u0275cmp=S({type:h,selectors:[["app-vacation-type-form"]],inputs:{vacationType:"vacationType",isEdit:"isEdit"},outputs:{save:"save",cancel:"cancel"},decls:77,vars:38,consts:[["vacationTypeForm","ngForm"],[1,"form-container"],[3,"ngSubmit"],[1,"form-grid"],[1,"form-section"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","maxlength","100",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","nameAr"],["type","text","id","nameAr","name","nameAr","maxlength","100","dir","rtl",1,"form-control","arabic-input",3,"ngModelChange","ngModel","placeholder"],["for","code"],["type","text","id","code","name","code","required","","maxlength","10",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","color"],["type","color","id","color","name","color",1,"form-control","color-input",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox","id","isPaid","name","isPaid",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isPaid",1,"form-check-label"],["type","checkbox","id","affectsAttendance","name","affectsAttendance",1,"form-check-input",3,"ngModelChange","ngModel"],["for","affectsAttendance",1,"form-check-label"],["type","checkbox","id","requiresApproval","name","requiresApproval",1,"form-check-input",3,"ngModelChange","ngModel"],["for","requiresApproval",1,"form-check-label"],["type","checkbox","id","isActive","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActive",1,"form-check-label"],["for","maxDaysPerYear"],["type","number","id","maxDaysPerYear","name","maxDaysPerYear","min","0","max","365",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","minDaysNotice"],["type","number","id","minDaysNotice","name","minDaysNotice","min","0","max","365",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-section","full-width"],["for","description"],["id","description","name","description","rows","3","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","descriptionAr"],["id","descriptionAr","name","descriptionAr","rows","3","maxlength","500","dir","rtl",1,"form-control","arabic-input",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa-solid","fa-save"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa-solid","fa-times"]],template:function(_,e){if(_&1){let r=v();n(0,"div",1)(1,"form",2,0),T("ngSubmit",function(){return l(r),d(e.onSubmit())}),n(3,"div",3)(4,"div",4)(5,"h3"),a(6),o(),n(7,"div",5)(8,"label",6),a(9),o(),n(10,"input",7),s("ngModelChange",function(t){return l(r),c(e.formData.name,t)||(e.formData.name=t),d(t)}),o()(),n(11,"div",5)(12,"label",8),a(13),o(),n(14,"input",9),s("ngModelChange",function(t){return l(r),c(e.formData.nameAr,t)||(e.formData.nameAr=t),d(t)}),o()(),n(15,"div",5)(16,"label",10),a(17),o(),n(18,"input",11),s("ngModelChange",function(t){return l(r),c(e.formData.code,t)||(e.formData.code=t),d(t)}),o()(),n(19,"div",5)(20,"label",12),a(21),o(),n(22,"input",13),s("ngModelChange",function(t){return l(r),c(e.formData.color,t)||(e.formData.color=t),d(t)}),o()()(),n(23,"div",4)(24,"h3"),a(25),o(),n(26,"div",5)(27,"div",14)(28,"input",15),s("ngModelChange",function(t){return l(r),c(e.formData.isPaid,t)||(e.formData.isPaid=t),d(t)}),o(),n(29,"label",16),a(30),o()()(),n(31,"div",5)(32,"div",14)(33,"input",17),s("ngModelChange",function(t){return l(r),c(e.formData.affectsAttendance,t)||(e.formData.affectsAttendance=t),d(t)}),o(),n(34,"label",18),a(35),o()()(),n(36,"div",5)(37,"div",14)(38,"input",19),s("ngModelChange",function(t){return l(r),c(e.formData.requiresApproval,t)||(e.formData.requiresApproval=t),d(t)}),o(),n(39,"label",20),a(40),o()()(),n(41,"div",5)(42,"div",14)(43,"input",21),s("ngModelChange",function(t){return l(r),c(e.formData.isActive,t)||(e.formData.isActive=t),d(t)}),o(),n(44,"label",22),a(45),o()()()(),n(46,"div",4)(47,"h3"),a(48),o(),n(49,"div",5)(50,"label",23),a(51),o(),n(52,"input",24),s("ngModelChange",function(t){return l(r),c(e.formData.maxDaysPerYear,t)||(e.formData.maxDaysPerYear=t),d(t)}),o()(),n(53,"div",5)(54,"label",25),a(55),o(),n(56,"input",26),s("ngModelChange",function(t){return l(r),c(e.formData.minDaysNotice,t)||(e.formData.minDaysNotice=t),d(t)}),o()()(),n(57,"div",27)(58,"h3"),a(59),o(),n(60,"div",5)(61,"label",28),a(62),o(),n(63,"textarea",29),s("ngModelChange",function(t){return l(r),c(e.formData.description,t)||(e.formData.description=t),d(t)}),a(64,"          "),o()(),n(65,"div",5)(66,"label",30),a(67),o(),n(68,"textarea",31),s("ngModelChange",function(t){return l(r),c(e.formData.descriptionAr,t)||(e.formData.descriptionAr=t),d(t)}),a(69,"          "),o()()()(),n(70,"div",32)(71,"button",33),A(72,"i",34),a(73),o(),n(74,"button",35),T("click",function(){return l(r),d(e.onCancel())}),A(75,"i",36),a(76),o()()()()}if(_&2){let r=D(2);i(6),f(e.i18n.t("VACATION_TYPES.FORM.BASIC_INFO")),i(3),u("",e.i18n.t("VACATION_TYPES.NAME")," *"),i(),p("ngModel",e.formData.name),g("placeholder",e.i18n.t("VACATION_TYPES.FORM.NAME_PLACEHOLDER")),i(3),f(e.i18n.t("VACATION_TYPES.NAME_AR")),i(),p("ngModel",e.formData.nameAr),g("placeholder",e.i18n.t("VACATION_TYPES.FORM.NAME_AR_PLACEHOLDER")),i(3),u("",e.i18n.t("VACATION_TYPES.CODE")," *"),i(),p("ngModel",e.formData.code),g("placeholder",e.i18n.t("VACATION_TYPES.FORM.CODE_PLACEHOLDER")),i(3),f(e.i18n.t("VACATION_TYPES.COLOR")),i(),p("ngModel",e.formData.color),i(3),f(e.i18n.t("VACATION_TYPES.FORM.SETTINGS")),i(3),p("ngModel",e.formData.isPaid),i(2),u(" ",e.i18n.t("VACATION_TYPES.IS_PAID")," "),i(3),p("ngModel",e.formData.affectsAttendance),i(2),u(" ",e.i18n.t("VACATION_TYPES.AFFECTS_ATTENDANCE")," "),i(3),p("ngModel",e.formData.requiresApproval),i(2),u(" ",e.i18n.t("VACATION_TYPES.REQUIRES_APPROVAL")," "),i(3),p("ngModel",e.formData.isActive),i(2),u(" ",e.i18n.t("VACATION_TYPES.IS_ACTIVE")," "),i(3),f(e.i18n.t("VACATION_TYPES.FORM.LIMITS")),i(3),f(e.i18n.t("VACATION_TYPES.MAX_DAYS_PER_YEAR")),i(),p("ngModel",e.formData.maxDaysPerYear),g("placeholder",e.i18n.t("VACATION_TYPES.FORM.MAX_DAYS_PLACEHOLDER")),i(3),f(e.i18n.t("VACATION_TYPES.MIN_DAYS_NOTICE")),i(),p("ngModel",e.formData.minDaysNotice),g("placeholder",e.i18n.t("VACATION_TYPES.FORM.MIN_DAYS_NOTICE_PLACEHOLDER")),i(3),f(e.i18n.t("VACATION_TYPES.FORM.DESCRIPTION")),i(3),f(e.i18n.t("VACATION_TYPES.DESCRIPTION")),i(),p("ngModel",e.formData.description),g("placeholder",e.i18n.t("VACATION_TYPES.FORM.DESCRIPTION_PLACEHOLDER")),i(4),f(e.i18n.t("VACATION_TYPES.DESCRIPTION_AR")),i(),p("ngModel",e.formData.descriptionAr),g("placeholder",e.i18n.t("VACATION_TYPES.FORM.DESCRIPTION_AR_PLACEHOLDER")),i(3),g("disabled",e.loading()||!r.form.valid),i(2),u(" ",e.i18n.t(e.isEdit?"COMMON.UPDATE":"COMMON.CREATE")," "),i(3),u(" ",e.i18n.t("COMMON.CANCEL")," ")}},dependencies:[P,k,x,I,Y,O,V,b,L,W,F,R,N,w],styles:[".form-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:24px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:32px}.form-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:6px;padding:20px}.form-section.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:16px;font-weight:600;border-bottom:2px solid #007bff;padding-bottom:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.arabic-input[_ngcontent-%COMP%]{text-align:right;direction:rtl}.color-input[_ngcontent-%COMP%]{width:60px;height:40px;padding:2px;border-radius:4px;cursor:pointer}.form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #eee}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:8px;font-size:14px;font-weight:500;transition:background-color .2s}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{justify-content:center}}"]})};export{H as a};
