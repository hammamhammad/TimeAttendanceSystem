{
  "version": 3,
  "sources": ["src/app/pages/roles/roles.component.ts", "src/app/pages/roles/roles.component.html"],
  "sourcesContent": ["import { Component, OnInit, signal, inject, computed } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { I18nService } from '../../core/i18n/i18n.service';\r\nimport { RolesService, CreateRoleRequest, UpdateRoleRequest, PermissionGroupDto } from './roles.service';\r\nimport { Role, Permission } from '../../shared/models/role.model';\r\nimport { PermissionUtils, PermissionResources, PermissionActions } from '../../shared/utils/permission.utils';\r\nimport { NotificationService } from '../../core/notifications/notification.service';\r\nimport { ConfirmationService } from '../../core/confirmation/confirmation.service';\r\nimport { PermissionService } from '../../core/auth/permission.service';\r\nimport { DataTableComponent, TableColumn, TableAction } from '../../shared/components/data-table/data-table.component';\r\nimport { PageHeaderComponent } from '../../shared/components/page-header/page-header.component';\r\nimport { UnifiedFilterComponent } from '../../shared/components/unified-filter/unified-filter.component';\r\nimport { StatusBadgeComponent } from '../../shared/components/status-badge/status-badge.component';\r\nimport { BadgeListComponent } from '../../shared/components/badge-list/badge-list.component';\r\nimport { ModalWrapperComponent } from '../../shared/components/modal-wrapper/modal-wrapper.component';\r\nimport { LoadingSpinnerComponent } from '../../shared/components/loading-spinner/loading-spinner.component';\r\nimport { EmptyStateComponent } from '../../shared/components/empty-state/empty-state.component';\r\n\r\n@Component({\r\n  selector: 'app-roles',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, DataTableComponent, PageHeaderComponent, UnifiedFilterComponent, StatusBadgeComponent, BadgeListComponent, ModalWrapperComponent, LoadingSpinnerComponent, EmptyStateComponent],\r\n  templateUrl: './roles.component.html',\r\n  styleUrls: ['./roles.component.css']\r\n})\r\nexport class RolesComponent implements OnInit {\r\n  private rolesService = inject(RolesService);\r\n  private router = inject(Router);\r\n  private notificationService = inject(NotificationService);\r\n  private confirmationService = inject(ConfirmationService);\r\n  public i18n = inject(I18nService);\r\n  public permissionService = inject(PermissionService);\r\n\r\n  // Permission constants for use in template\r\n  readonly PERMISSIONS = {\r\n    ROLE_CREATE: `${PermissionResources.ROLE}.${PermissionActions.CREATE}`,\r\n    ROLE_READ: `${PermissionResources.ROLE}.${PermissionActions.READ}`,\r\n    ROLE_UPDATE: `${PermissionResources.ROLE}.${PermissionActions.UPDATE}`,\r\n    ROLE_DELETE: `${PermissionResources.ROLE}.${PermissionActions.DELETE}`,\r\n    ROLE_MANAGE: `${PermissionResources.ROLE}.${PermissionActions.MANAGE}`,\r\n    ROLE_ASSIGN_PERMISSIONS: `${PermissionResources.ROLE}.${PermissionActions.ASSIGN_PERMISSION}`\r\n  };\r\n\r\n\r\n  // Signals for state management\r\n  loading = signal(false);\r\n  roles = signal<Role[]>([]);\r\n  allPermissions = signal<Permission[]>([]);\r\n  groupedPermissions = signal<PermissionGroupDto[]>([]);\r\n  \r\n  // Filter signals\r\n  searchTerm = '';\r\n\r\n  // Sorting state\r\n  sortColumn = signal<keyof Role>('name');\r\n  sortDirection = signal<'asc' | 'desc'>('asc');\r\n\r\n  // Modal state\r\n  showPermissionsModal = signal(false);\r\n  selectedRole = signal<Role | null>(null);\r\n  managingPermissions = signal(false);\r\n\r\n  // Data table configuration\r\n  tableColumns = computed<TableColumn[]>(() => [\r\n    {\r\n      key: 'name',\r\n      label: this.t('roles.name'),\r\n      sortable: true,\r\n      width: '200px',\r\n      priority: 'high',\r\n      mobileLabel: this.t('roles.name'),\r\n      renderHtml: true\r\n    },\r\n    {\r\n      key: 'permissions',\r\n      label: this.t('roles.permissions'),\r\n      sortable: false,\r\n      width: '300px',\r\n      priority: 'medium',\r\n      hideOnMobile: false,\r\n      mobileLabel: this.t('roles.permissions'),\r\n      renderHtml: true\r\n    },\r\n    {\r\n      key: 'userCount',\r\n      label: this.t('roles.users'),\r\n      sortable: true,\r\n      width: '100px',\r\n      align: 'center',\r\n      priority: 'medium',\r\n      mobileLabel: this.t('roles.users'),\r\n      renderHtml: true\r\n    },\r\n    {\r\n      key: 'type',\r\n      label: this.t('roles.type'),\r\n      sortable: false,\r\n      width: '120px',\r\n      align: 'center',\r\n      priority: 'low',\r\n      hideOnMobile: true,\r\n      mobileLabel: this.t('roles.type'),\r\n      renderHtml: true\r\n    },\r\n    {\r\n      key: 'createdAtUtc',\r\n      label: this.t('common.created'),\r\n      sortable: true,\r\n      width: '150px',\r\n      priority: 'low',\r\n      hideOnMobile: true,\r\n      mobileLabel: this.t('common.created')\r\n    }\r\n  ]);\r\n\r\n  tableActions = computed<TableAction[]>(() => [\r\n    {\r\n      key: 'view',\r\n      label: this.t('common.view'),\r\n      icon: 'fa-eye',\r\n      color: 'primary',\r\n      condition: () => this.permissionService.has(this.PERMISSIONS.ROLE_READ)\r\n    },\r\n    {\r\n      key: 'manage-permissions',\r\n      label: this.t('roles.manage_permissions'),\r\n      icon: 'fa-shield-alt',\r\n      color: 'info',\r\n      condition: (role: Role) => this.canManagePermissions(role) && this.permissionService.has(this.PERMISSIONS.ROLE_ASSIGN_PERMISSIONS)\r\n    },\r\n    {\r\n      key: 'edit',\r\n      label: this.t('common.edit'),\r\n      icon: 'fa-edit',\r\n      color: 'secondary',\r\n      condition: (role: Role) => this.canEditRole(role) && this.permissionService.has(this.PERMISSIONS.ROLE_UPDATE)\r\n    },\r\n    {\r\n      key: 'delete',\r\n      label: this.t('common.delete'),\r\n      icon: 'fa-trash',\r\n      color: 'danger',\r\n      condition: (role: Role) => this.canDeleteRole(role) && this.permissionService.has(this.PERMISSIONS.ROLE_DELETE)\r\n    }\r\n  ]);\r\n\r\n  // Transform roles data for data table\r\n  tableData = computed(() => {\r\n    return this.filteredRoles().map(role => ({\r\n      ...role,\r\n      name: this.formatRoleName(role),\r\n      permissions: this.formatRolePermissions(role),\r\n      userCount: this.formatUserCount(role),\r\n      type: this.formatRoleType(role),\r\n      createdAtUtc: this.formatDate(role.createdAtUtc)\r\n    }));\r\n  });\r\n\r\n  ngOnInit(): void {\r\n    this.loadRoles();\r\n    this.loadPermissions();\r\n  }\r\n\r\n  t(key: string): string {\r\n    return this.i18n.t(key);\r\n  }\r\n\r\n  loadRoles(): void {\r\n    this.loading.set(true);\r\n    this.rolesService.getRoles(true).subscribe({\r\n      next: (roles) => {\r\n        this.roles.set(roles);\r\n        this.loading.set(false);\r\n      },\r\n      error: (error) => {\r\n        console.error('Failed to load roles:', error);\r\n        this.loading.set(false);\r\n        this.notificationService.error(\r\n          this.t('app.error'),\r\n          this.t('errors.server')\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  loadPermissions(): void {\r\n    // Load flat permissions for existing functionality\r\n    this.rolesService.getPermissions().subscribe({\r\n      next: (permissions) => {\r\n        this.allPermissions.set(permissions);\r\n      },\r\n      error: (error) => {\r\n        console.error('Failed to load permissions:', error);\r\n        this.notificationService.error(\r\n          this.t('app.error'),\r\n          this.t('roles.failed_to_load_permissions')\r\n        );\r\n      }\r\n    });\r\n\r\n    // Load grouped permissions for display\r\n    this.rolesService.getGroupedPermissions().subscribe({\r\n      next: (groupedPermissions) => {\r\n        this.groupedPermissions.set(groupedPermissions);\r\n      },\r\n      error: (error) => {\r\n        console.error('Failed to load grouped permissions:', error);\r\n        this.notificationService.error(\r\n          this.t('app.error'),\r\n          this.t('roles.failed_to_load_permissions')\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  canEditRole(role: Role): boolean {\r\n    // First check if user has permission to update roles\r\n    if (!this.permissionService.has(this.PERMISSIONS.ROLE_UPDATE)) {\r\n      return false;\r\n    }\r\n\r\n    // Use business logic helper\r\n    return this.canEditRoleBusinessLogic(role);\r\n  }\r\n\r\n  canDeleteRole(role: Role): boolean {\r\n    // First check if user has permission to delete roles\r\n    if (!this.permissionService.has(this.PERMISSIONS.ROLE_DELETE)) {\r\n      return false;\r\n    }\r\n\r\n    // Use the role's isDeletable property and check user count\r\n    return role.isDeletable && role.userCount === 0;\r\n  }\r\n\r\n\r\n  canManagePermissions(role: Role): boolean {\r\n    // First check if user has permission to assign permissions\r\n    if (!this.permissionService.has(this.PERMISSIONS.ROLE_ASSIGN_PERMISSIONS)) {\r\n      return false;\r\n    }\r\n\r\n    // Use same business logic as canEditRole for consistency\r\n    return this.canEditRoleBusinessLogic(role);\r\n  }\r\n\r\n  private canEditRoleBusinessLogic(role: Role): boolean {\r\n    return role.isEditable;\r\n  }\r\n\r\n  onManagePermissions(role: Role): void {\r\n    if (!this.canManagePermissions(role)) {\r\n      return;\r\n    }\r\n    this.selectedRole.set(role);\r\n    this.showPermissionsModal.set(true);\r\n  }\r\n\r\n  closePermissionsModal(): void {\r\n    this.showPermissionsModal.set(false);\r\n    this.selectedRole.set(null);\r\n  }\r\n\r\n  isPermissionAssigned(permissionId: number): boolean {\r\n    const role = this.selectedRole();\r\n    if (!role) return false;\r\n    return role.permissions.some(p => p.id === permissionId);\r\n  }\r\n\r\n  onTogglePermission(permission: Permission): void {\r\n    const role = this.selectedRole();\r\n    if (!role || this.managingPermissions()) return;\r\n\r\n    this.managingPermissions.set(true);\r\n    \r\n    const isAssigned = this.isPermissionAssigned(permission.id);\r\n    \r\n    const operation = isAssigned \r\n      ? this.rolesService.removePermissionFromRole(role.id, permission.id)\r\n      : this.rolesService.assignPermissionToRole(role.id, { permissionId: permission.id });\r\n\r\n    operation.subscribe({\r\n      next: () => {\r\n        // Update the role's permissions locally\r\n        const updatedRoles = this.roles().map(r => {\r\n          if (r.id === role.id) {\r\n            if (isAssigned) {\r\n              r.permissions = r.permissions.filter(p => p.id !== permission.id);\r\n            } else {\r\n              r.permissions = [...r.permissions, permission];\r\n            }\r\n          }\r\n          return r;\r\n        });\r\n        this.roles.set(updatedRoles);\r\n        this.selectedRole.set(updatedRoles.find(r => r.id === role.id) || null);\r\n        this.managingPermissions.set(false);\r\n      },\r\n      error: (error) => {\r\n        console.error('Failed to update permission:', error);\r\n        this.managingPermissions.set(false);\r\n        this.notificationService.error(\r\n          this.t('app.error'),\r\n          this.t('roles.failed_to_update_permission')\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  formatDate(dateString: string): string {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(this.i18n.getCurrentLocale(), {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  }\r\n\r\n  // Filtered roles computed signal\r\n  filteredRoles = computed(() => {\r\n    let filtered = this.roles();\r\n\r\n    if (this.searchTerm?.trim()) {\r\n      const searchLower = this.searchTerm.toLowerCase();\r\n      filtered = filtered.filter(role =>\r\n        role.name.toLowerCase().includes(searchLower) ||\r\n        role.permissions.some(p => p.key.toLowerCase().includes(searchLower))\r\n      );\r\n    }\r\n\r\n    // Apply sorting\r\n    const sortCol = this.sortColumn();\r\n    const sortDir = this.sortDirection();\r\n\r\n    return filtered.sort((a, b) => {\r\n      let aVal = a[sortCol] as any;\r\n      let bVal = b[sortCol] as any;\r\n\r\n      if (typeof aVal === 'string') {\r\n        aVal = aVal.toLowerCase();\r\n        bVal = bVal.toLowerCase();\r\n      }\r\n\r\n      if (aVal < bVal) return sortDir === 'asc' ? -1 : 1;\r\n      if (aVal > bVal) return sortDir === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n  });\r\n\r\n  // Data table formatting methods\r\n  formatRoleName(role: Role): string {\r\n    let html = `<div><strong>${role.name}</strong>`;\r\n    if (role.isSystem) {\r\n      html += `<i class=\"fa-solid fa-shield-alt text-primary ms-1\" title=\"${this.t('roles.system_role')}\"></i>`;\r\n    }\r\n    html += '</div>';\r\n    return html;\r\n  }\r\n\r\n  formatRolePermissions(role: Role): string {\r\n    if (role.permissions.length === 0) {\r\n      return `<span class=\"text-muted\">${this.t('roles.no_permissions')}</span>`;\r\n    }\r\n\r\n    let html = '<div class=\"d-flex flex-wrap gap-1\">';\r\n    const visiblePermissions = role.permissions.slice(0, 3);\r\n\r\n    visiblePermissions.forEach(permission => {\r\n      html += `<span class=\"badge bg-secondary-subtle text-secondary small\">${permission.key}</span>`;\r\n    });\r\n\r\n    if (role.permissions.length > 3) {\r\n      html += `<span class=\"badge bg-light text-dark small\">+${role.permissions.length - 3} more</span>`;\r\n    }\r\n\r\n    html += '</div>';\r\n    return html;\r\n  }\r\n\r\n  formatUserCount(role: Role): string {\r\n    return `<span class=\"badge bg-primary-subtle text-primary\">${role.userCount}</span>`;\r\n  }\r\n\r\n  formatRoleType(role: Role): string {\r\n    if (role.isSystem) {\r\n      return `<span class=\"badge bg-warning-subtle text-warning\">${this.t('roles.system')}</span>`;\r\n    } else {\r\n      return `<span class=\"badge bg-success-subtle text-success\">${this.t('roles.custom')}</span>`;\r\n    }\r\n  }\r\n\r\n  // Data table action handler\r\n  onActionClick(event: {action: string, item: Role}): void {\r\n    const { action, item } = event;\r\n\r\n    switch (action) {\r\n      case 'view':\r\n        this.onViewRole(item);\r\n        break;\r\n      case 'manage-permissions':\r\n        this.onManagePermissions(item);\r\n        break;\r\n      case 'edit':\r\n        this.onEditRole(item);\r\n        break;\r\n      case 'delete':\r\n        this.onDeleteRole(item);\r\n        break;\r\n      default:\r\n        console.warn('Unknown action:', action);\r\n    }\r\n  }\r\n\r\n  onSearchTermChange(searchTerm: string): void {\r\n    this.searchTerm = searchTerm;\r\n  }\r\n\r\n  onFiltersChange(filters: any): void {\r\n    // Handle additional filters if needed in the future\r\n    console.log('Filters changed:', filters);\r\n  }\r\n\r\n  onClearFilters(): void {\r\n    this.searchTerm = '';\r\n  }\r\n\r\n  onRefreshData(): void {\r\n    // Reset filters\r\n    this.searchTerm = '';\r\n\r\n    // Reload data\r\n    this.loadRoles();\r\n  }\r\n\r\n  hasActiveFilters(): boolean {\r\n    return !!this.searchTerm;\r\n  }\r\n\r\n  // Role CRUD operations\r\n  onCreateRole(): void {\r\n    // Navigate to create role page instead of showing modal\r\n    this.router.navigate(['/roles/create']);\r\n  }\r\n\r\n  onViewRole(role: Role): void {\r\n    this.router.navigate(['/roles', role.id, 'view']);\r\n  }\r\n\r\n  onEditRole(role: Role): void {\r\n    if (!this.canEditRole(role)) return;\r\n    // Navigate to edit role page\r\n    this.router.navigate(['/roles', role.id, 'edit']);\r\n  }\r\n\r\n  async onDeleteRole(role: Role): Promise<void> {\r\n    if (!this.canDeleteRole(role)) return;\r\n    \r\n    const result = await this.confirmationService.confirm({\r\n      title: this.t('roles.delete_role'),\r\n      message: this.t('roles.delete_role_confirmation').replace('{{roleName}}', role.name),\r\n      confirmText: this.t('common.delete'),\r\n      cancelText: this.t('common.cancel'),\r\n      confirmButtonClass: 'btn-danger',\r\n      icon: 'fa-trash',\r\n      iconClass: 'text-danger'\r\n    });\r\n    \r\n    if (result.confirmed) {\r\n      this.rolesService.deleteRole(role.id).subscribe({\r\n        next: () => {\r\n          this.roles.set(this.roles().filter(r => r.id !== role.id));\r\n          this.notificationService.success(\r\n            this.t('app.success'),\r\n            this.t('roles.role_deleted_successfully')\r\n          );\r\n        },\r\n        error: (error) => {\r\n          console.error('Failed to delete role:', error);\r\n          this.notificationService.error(\r\n            this.t('app.error'),\r\n            this.t('errors.server')\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  canCreateRoles(): boolean {\r\n    // Check if user has permission to create roles\r\n    return this.permissionService.has(this.PERMISSIONS.ROLE_CREATE);\r\n  }\r\n\r\n\r\n  // Permission display enhancement methods using PermissionUtils\r\n  getPermissionResource(permissionKey: string): string {\r\n    return PermissionUtils.getResourceName(PermissionUtils.parsePermissionKey(permissionKey).resource);\r\n  }\r\n\r\n  getPermissionAction(permissionKey: string): string {\r\n    const action = PermissionUtils.parsePermissionKey(permissionKey).action;\r\n    return action ? PermissionUtils.getActionName(action) : 'Action';\r\n  }\r\n\r\n  getActionBadgeClass(permissionKey: string): string {\r\n    const action = PermissionUtils.parsePermissionKey(permissionKey).action;\r\n    return action ? PermissionUtils.getActionBadgeClass(action) : 'bg-light text-dark';\r\n  }\r\n\r\n  getPermissionBadgeStatus(permissionKey: string): 'success' | 'info' | 'warning' | 'primary' | 'danger' | 'secondary' {\r\n    const action = PermissionUtils.parsePermissionKey(permissionKey).action;\r\n    const badgeClass = action ? PermissionUtils.getActionBadgeClass(action) : 'bg-light text-dark';\r\n\r\n    // Map badge classes to status types\r\n    if (badgeClass.includes('bg-success')) return 'success';\r\n    if (badgeClass.includes('bg-info')) return 'info';\r\n    if (badgeClass.includes('bg-warning')) return 'warning';\r\n    if (badgeClass.includes('bg-primary')) return 'primary';\r\n    if (badgeClass.includes('bg-danger')) return 'danger';\r\n    return 'secondary';\r\n  }\r\n\r\n  getPermissionIcon(permissionKey: string): string {\r\n    const resource = PermissionUtils.parsePermissionKey(permissionKey).resource;\r\n    return PermissionUtils.getResourceIcon(resource);\r\n  }\r\n\r\n  getPermissionDescription(permission: Permission): string {\r\n    if (permission.description) {\r\n      return permission.description;\r\n    }\r\n    const { resource, action } = PermissionUtils.parsePermissionKey(permission.key);\r\n    const actionDesc = PermissionUtils.getActionDescription(action);\r\n    const resourceDesc = PermissionUtils.getResourceDescription(resource);\r\n    return `${actionDesc} ${resourceDesc.toLowerCase()}`;\r\n  }\r\n\r\n  // Sorting methods\r\n  onSort(column: keyof Role): void {\r\n    const currentColumn = this.sortColumn();\r\n    const currentDirection = this.sortDirection();\r\n\r\n    if (currentColumn === column) {\r\n      // Toggle direction if same column\r\n      this.sortDirection.set(currentDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      // Set new column and default to ascending\r\n      this.sortColumn.set(column);\r\n      this.sortDirection.set('asc');\r\n    }\r\n  }\r\n\r\n  getSortIcon(column: keyof Role): string {\r\n    const currentColumn = this.sortColumn();\r\n    const currentDirection = this.sortDirection();\r\n\r\n    if (currentColumn !== column) {\r\n      return 'fas fa-sort text-muted';\r\n    }\r\n\r\n    return currentDirection === 'asc' ? 'fas fa-sort-up text-primary' : 'fas fa-sort-down text-primary';\r\n  }\r\n\r\n  isSortable(column: keyof Role): boolean {\r\n    // Define which columns are sortable\r\n    const sortableColumns: (keyof Role)[] = ['name', 'userCount', 'createdAtUtc'];\r\n    return sortableColumns.includes(column);\r\n  }\r\n}", "<div class=\"app-list-page\">\r\n  <!-- Page Header -->\r\n  <app-page-header\r\n    [title]=\"t('roles.title')\">\r\n  </app-page-header>\r\n\r\n  <!-- Standardized Filters Component -->\r\n  <app-unified-filter\r\n    moduleName=\"roles\"\r\n    [refreshing]=\"loading()\"\r\n    (searchChange)=\"onSearchTermChange($event)\"\r\n    (filtersChange)=\"onFiltersChange($event)\"\r\n    (add)=\"onCreateRole()\"\r\n    (refresh)=\"onRefreshData()\">\r\n  </app-unified-filter>\r\n\r\n  <!-- Roles Table Card -->\r\n      <!-- Unified Data Table -->\r\n      <app-data-table\r\n        [data]=\"tableData() || []\"\r\n        [columns]=\"tableColumns()\"\r\n        [actions]=\"tableActions()\"\r\n        [loading]=\"loading\"\r\n        [emptyTitle]=\"t('roles.no_roles_found')\"\r\n        [emptyMessage]=\"hasActiveFilters() ? t('common.try_different_filters') : t('roles.no_roles_description')\"\r\n        [paginated]=\"true\"\r\n        [responsiveMode]=\"'auto'\"\r\n        (actionClick)=\"onActionClick($event)\"\r\n        class=\"table-hover\">\r\n      </app-data-table>\r\n    </div>\r\n\r\n<!-- Permission Management Modal -->\r\n<app-modal-wrapper\r\n  [show]=\"showPermissionsModal()\"\r\n  [title]=\"t('roles.manage_permissions_for') + ': ' + (selectedRole()?.name || '')\"\r\n  [size]=\"'xl'\"\r\n  [centered]=\"true\"\r\n  [loading]=\"managingPermissions()\"\r\n  (close)=\"closePermissionsModal()\">\r\n\r\n  <div class=\"modal-body\">\r\n          @if (selectedRole()) {\r\n            <!-- Role Info -->\r\n            <div class=\"role-info mb-4\">\r\n              <div class=\"d-flex align-items-center\">\r\n                <div class=\"avatar-md me-3\">\r\n                  <div class=\"avatar-title bg-info-subtle text-info rounded-circle\">\r\n                    <i class=\"fa-solid fa-user-shield\"></i>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <h6 class=\"mb-1\">{{ selectedRole()!.name }}</h6>\r\n                  <p class=\"text-muted mb-0\">\r\n                    {{ selectedRole()!.permissions.length }} {{ t('roles.permissions_assigned') }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- All Permissions List -->\r\n            <div class=\"permissions-list border rounded p-3\" style=\"max-height: 400px; overflow-y: auto;\">\r\n              <div class=\"row g-2\">\r\n                @for (permission of allPermissions(); track permission.id) {\r\n                  <div class=\"col-md-6 col-lg-4\">\r\n                    <div class=\"permission-item border rounded p-2\" \r\n                         [class.bg-light]=\"isPermissionAssigned(permission.id)\"\r\n                         [class.loading]=\"managingPermissions()\">\r\n                      <div class=\"form-check d-flex align-items-start\">\r\n                        <input\r\n                          class=\"form-check-input mt-1\"\r\n                          type=\"checkbox\"\r\n                          [id]=\"'permission-' + permission.id\"\r\n                          [checked]=\"isPermissionAssigned(permission.id)\"\r\n                          [disabled]=\"managingPermissions()\"\r\n                          (change)=\"onTogglePermission(permission)\"\r\n                        />\r\n                        <div class=\"form-check-content ms-2 flex-grow-1\">\r\n                          <div class=\"d-flex align-items-center mb-1\">\r\n                            <i class=\"fas me-1 text-muted\" [ngClass]=\"getPermissionIcon(permission.key)\" style=\"font-size: 0.75rem;\"></i>\r\n                            <label class=\"form-check-label fw-medium me-2\" [for]=\"'permission-' + permission.id\">\r\n                              <small>{{ getPermissionResource(permission.key) }}</small>\r\n                            </label>\r\n                            <app-status-badge\r\n                              [status]=\"getPermissionBadgeStatus(permission.key)\"\r\n                              [label]=\"getPermissionAction(permission.key)\"\r\n                              [size]=\"'sm'\">\r\n                            </app-status-badge>\r\n                          </div>\r\n                          <p class=\"text-muted small mb-0\" style=\"font-size: 0.7rem; margin-left: 1.25rem;\">\r\n                            {{ getPermissionDescription(permission) }}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                }\r\n              </div>\r\n              \r\n              @if (allPermissions().length === 0) {\r\n                <app-empty-state\r\n                  [icon]=\"'fa-solid fa-key'\"\r\n                  [message]=\"t('roles.no_permissions_available')\"\r\n                  [size]=\"'sm'\">\r\n                </app-empty-state>\r\n              }\r\n            </div>\r\n\r\n            @if (managingPermissions()) {\r\n              <div class=\"text-center py-3\">\r\n                <app-loading-spinner\r\n                  [message]=\"t('roles.updating_permissions')\"\r\n                  [variant]=\"'primary'\"\r\n                  [size]=\"'sm'\"\r\n                  [centered]=\"true\">\r\n                </app-loading-spinner>\r\n              </div>\r\n            }\r\n          }\r\n  </div>\r\n\r\n  <div modal-footer class=\"d-flex gap-2 justify-content-end\">\r\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"closePermissionsModal()\">\r\n      {{ t('common.close') }}\r\n    </button>\r\n  </div>\r\n\r\n</app-modal-wrapper>\r\n\r\n"],
  "mappings": "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",
  "names": []
}
