import{a as A}from"./chunk-V25PY76S.js";import{a as M}from"./chunk-BDZLNZZ6.js";import{a as O}from"./chunk-CYQTDKAB.js";import"./chunk-7QCK55IR.js";import{b}from"./chunk-AS5QRUY4.js";import{$ as a,E as p,H as o,J as g,U as u,V as C,_ as x,aa as r,ba as f,fb as V,ia as I,ka as y,ma as s,nb as h,qb as E,u as l,v,wa as d,xa as S,ya as T,z as m}from"./chunk-LDUBOZPL.js";import"./chunk-DGAILPFQ.js";function N(i,t){if(i&1&&(a(0,"div",5),f(1,"i",7),d(2),r()),i&2){let e=s();p(2),T(" ",e.i18n.t("COMMON.LOADING")," ")}}function R(i,t){if(i&1){let e=I();a(0,"app-vacation-type-form",8),y("save",function(c){l(e);let _=s();return v(_.onSave(c))})("cancel",function(){l(e);let c=s();return v(c.onCancel())}),r()}if(i&2){let e=s();x("vacationType",e.vacationType())("isEdit",!0)}}var P=class i{constructor(t,e,n,c,_){this.vacationTypesService=t;this.notificationService=e;this.router=n;this.route=c;this.i18n=_;this.vacationTypeId=Number(this.route.snapshot.paramMap.get("id"))}vacationType=m(null);loading=m(!1);vacationTypeId;ngOnInit(){this.vacationTypeId?this.loadVacationType():(this.notificationService.error("VACATION_TYPES.INVALID_ID"),this.router.navigate(["/vacation-types"]))}loadVacationType(){this.loading.set(!0),this.vacationTypesService.getVacationTypeById(this.vacationTypeId).subscribe({next:t=>{this.vacationType.set(t),this.loading.set(!1)},error:t=>{this.notificationService.error("VACATION_TYPES.LOAD_ERROR"),this.loading.set(!1),this.router.navigate(["/vacation-types"])}})}onSave(t){this.vacationTypesService.updateVacationType(this.vacationTypeId,t).subscribe({next:()=>{this.notificationService.success("VACATION_TYPES.UPDATE_SUCCESS"),this.router.navigate(["/vacation-types"])},error:e=>{this.notificationService.error("VACATION_TYPES.UPDATE_ERROR")}})}onCancel(){this.router.navigate(["/vacation-types"])}static \u0275fac=function(e){return new(e||i)(o(M),o(O),o(E),o(h),o(b))};static \u0275cmp=g({type:i,selectors:[["app-edit-vacation-type"]],decls:10,vars:3,consts:[[1,"page-container"],[1,"page-header"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa-solid","fa-arrow-left"],[1,"page-content"],[1,"loading-container"],[3,"vacationType","isEdit"],[1,"fa-solid","fa-spinner","fa-spin"],[3,"save","cancel","vacationType","isEdit"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),d(3),r(),a(4,"button",2),y("click",function(){return n.onCancel()}),f(5,"i",3),d(6),r()(),a(7,"div",4),u(8,N,3,1,"div",5)(9,R,1,2,"app-vacation-type-form",6),r()()),e&2&&(p(3),S(n.i18n.t("VACATION_TYPES.EDIT_TITLE")),p(3),T(" ",n.i18n.t("COMMON.BACK")," "),p(2),C(n.loading()?8:n.vacationType()?9:-1))},dependencies:[V,A],styles:[".page-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.page-content[_ngcontent-%COMP%]{max-width:800px}.loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:40px;color:#666;font-size:16px}.loading-container[_ngcontent-%COMP%]   .fa-spinner[_ngcontent-%COMP%]{font-size:20px;color:#007bff}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:8px}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})};export{P as EditVacationTypeComponent};
