import{a as te}from"./chunk-J4V7WLTW.js";import{a as K}from"./chunk-MRHL7QNZ.js";import{a as J}from"./chunk-I575RJ3N.js";import{a as X,b as Z,c as ee}from"./chunk-5KJOOWHZ.js";import{a as Q}from"./chunk-2BWPSMJK.js";import{a as F}from"./chunk-U7RGWLFU.js";import"./chunk-HXSGHCFU.js";import{a as Y}from"./chunk-GRQ6RO47.js";import{a as q}from"./chunk-K7WTKFJQ.js";import"./chunk-QXVLGI72.js";import{a as j}from"./chunk-MPEAAPTS.js";import{a as k,b as M}from"./chunk-Y62N6K5S.js";import{a as U}from"./chunk-EYAJMHM7.js";import{a as G}from"./chunk-HHXRLUSQ.js";import"./chunk-TZ2XIVGW.js";import{x as B}from"./chunk-VRETN7JA.js";import{b as z}from"./chunk-RCBJJ7UY.js";import{d as W,g as H}from"./chunk-TWXUAMJ4.js";import{$a as A,Ab as w,Bb as l,Cb as d,Db as g,Ea as R,Eb as P,R as h,W as b,X as C,Xa as _,Ya as f,Yb as x,ab as N,bb as v,cb as a,da as y,db as i,eb as m,lb as L,nb as E,pb as p,ta as t,wc as $,xb as O,yb as D}from"./chunk-JSQL33QG.js";import"./chunk-DGAILPFQ.js";var ie=(o,n)=>n.attendanceDate,ae=(o,n)=>n.transactionTimeLocal;function oe(o,n){if(o&1&&(a(0,"div",2),m(1,"app-loading-spinner",4),i()),o&2){let e=p();t(),v("message",e.t("common.loading"))("centered",!0)}}function le(o,n){if(o&1&&m(0,"app-status-badge",22),o&2){let e=p(2);v("label",e.employee().currentShiftName)("variant","primary")("icon","fas fa-clock")}}function re(o,n){if(o&1&&(a(0,"span",14),l(1),i()),o&2){let e=p(2);t(),d(e.t("employees.no_shift_assigned"))}}function se(o,n){if(o&1&&(a(0,"div",19)(1,"h6",20),l(2),i(),m(3,"app-status-badge",51),i()),o&2){let e=p(2);t(2),d(e.t("employees.gender.title")),t(),v("label",e.getGenderLabel(e.employee().gender))("variant","light")("showIcon",!1)}}function de(o,n){if(o&1&&(a(0,"div",52)(1,"small",14),l(2),i(),m(3,"br"),a(4,"span"),l(5),i()()),o&2){let e,s=p(3);t(2),d(s.t("employees.first_name_ar")),t(3),d((e=s.employee())==null?null:e.firstNameAr)}}function ce(o,n){if(o&1&&(a(0,"div",52)(1,"small",14),l(2),i(),m(3,"br"),a(4,"span"),l(5),i()()),o&2){let e,s=p(3);t(2),d(s.t("employees.last_name_ar")),t(3),d((e=s.employee())==null?null:e.lastNameAr)}}function me(o,n){if(o&1&&(a(0,"div")(1,"small",14),l(2),i(),m(3,"br"),a(4,"span"),l(5),i()()),o&2){let e,s=p(3);t(2),d(s.t("employees.job_title_ar")),t(3),d((e=s.employee())==null?null:e.jobTitleAr)}}function pe(o,n){if(o&1&&(a(0,"div",23)(1,"div",8)(2,"h6",9),l(3),i()(),a(4,"div",15),_(5,de,6,2,"div",52),_(6,ce,6,2,"div",52),_(7,me,6,2,"div"),i()()),o&2){let e,s,c,u=p(2);t(3),d(u.t("employees.arabic_names")),t(2),f((e=u.employee())!=null&&e.firstNameAr?5:-1),t(),f((s=u.employee())!=null&&s.lastNameAr?6:-1),t(),f((c=u.employee())!=null&&c.jobTitleAr?7:-1)}}function ue(o,n){if(o&1&&(a(0,"button",25),m(1,"i",53),l(2),i()),o&2){let e=p(2);t(2),g(" ",e.t("employees.deactivate")," ")}}function ve(o,n){if(o&1&&(a(0,"button",26),m(1,"i",54),l(2),i()),o&2){let e=p(2);t(2),g(" ",e.t("employees.activate")," ")}}function ge(o,n){if(o&1&&(a(0,"div",55),m(1,"app-loading-spinner",56),i()),o&2){let e=p(3);t(),v("message",e.t("attendance.messages.loading_data"))("variant","primary")("centered",!0)}}function _e(o,n){if(o&1&&(a(0,"div",5)(1,"div",16)(2,"h6",57),l(3),i(),a(4,"div",58)(5,"div",59)(6,"span"),m(7,"i",60),l(8),i(),a(9,"span",61),l(10),i()(),a(11,"div",59)(12,"span"),m(13,"i",62),l(14),i(),a(15,"span",63),l(16),i()(),a(17,"div",59)(18,"span"),m(19,"i",64),l(20),i(),a(21,"span",65),l(22),i()()()(),a(23,"div",16)(24,"h6",57),l(25),i(),a(26,"div",58)(27,"div",59)(28,"span"),l(29),i(),a(30,"span",13),l(31),i()(),a(32,"div",59)(33,"span"),l(34),i(),a(35,"span",13),l(36),i()(),a(37,"div",59)(38,"span"),l(39),i(),a(40,"span",13),l(41),i()()()()()),o&2){let e=p(3);t(3),d(e.t("attendance.statistics.attendance_breakdown")),t(5),g(" ",e.t("attendance.status.present")," "),t(2),d(e.presentDays()),t(4),g(" ",e.t("attendance.status.absent")," "),t(2),d(e.absentDays()),t(4),g(" ",e.t("attendance.status.late")," "),t(2),d(e.lateDays()),t(3),d(e.t("attendance.statistics.time_summary")),t(4),d(e.t("attendance.stats.average_working_hours")),t(2),g("",e.averageWorkingHours(),"h"),t(3),d(e.t("attendance.stats.total_overtime_hours")),t(2),g("",e.totalOvertimeHours(),"h"),t(3),d(e.t("attendance.statistics.total_working_days")),t(2),d(e.totalWorkingDays())}}function fe(o,n){if(o&1&&(a(0,"div",50),_(1,ge,2,3,"div",55)(2,_e,42,14,"div",5),i()),o&2){let e=p(2);t(),f(e.attendanceLoading()?1:2)}}function xe(o,n){o&1&&(a(0,"div",55),m(1,"app-loading-spinner",68),i()),o&2&&(t(),v("variant","primary")("centered",!0))}function ye(o,n){if(o&1&&(a(0,"tr")(1,"td")(2,"span",13),l(3),i()(),a(4,"td")(5,"span"),l(6),i()(),a(7,"td")(8,"span"),l(9),i()(),a(10,"td")(11,"span",13),l(12),i()(),a(13,"td")(14,"span"),l(15),i()(),a(16,"td")(17,"span",14),l(18),i()()()),o&2){let e=n.$implicit,s=p(4);t(3),d(s.formatDate(e.attendanceDate)),t(2),w(e.actualCheckInTime?"text-success fw-medium":"text-muted"),t(),g(" ",s.formatTime(e.actualCheckInTime)," "),t(2),w(e.actualCheckOutTime?"text-info fw-medium":"text-muted"),t(),g(" ",s.formatTime(e.actualCheckOutTime)," "),t(3),g(" ",s.calculateWorkDuration(e.actualCheckInTime,e.actualCheckOutTime)," "),t(2),w(s.getStatusBadgeClass(e.status)),t(),g(" ",s.t("attendance.status."+e.status.toString().toLowerCase())," "),t(3),d(e.notes||"--")}}function he(o,n){if(o&1&&(a(0,"div",66)(1,"table",69)(2,"thead",70)(3,"tr")(4,"th"),l(5),i(),a(6,"th"),l(7),i(),a(8,"th"),l(9),i(),a(10,"th"),l(11),i(),a(12,"th"),l(13),i(),a(14,"th"),l(15),i()()(),a(16,"tbody"),A(17,ye,19,12,"tr",null,ie),i()()()),o&2){let e=p(3);t(5),d(e.t("attendance.fields.attendance_date")),t(2),d(e.t("attendance.fields.check_in_time")),t(2),d(e.t("attendance.fields.check_out_time")),t(2),d(e.t("attendance.fields.work_duration")),t(2),d(e.t("attendance.fields.status")),t(2),d(e.t("attendance.fields.notes")),t(2),N(e.attendanceRecords())}}function be(o,n){if(o&1&&m(0,"app-empty-state",67),o&2){let e=p(3);v("icon","fa-solid fa-calendar-xmark")("title",e.t("attendance.no_records"))("message",e.t("attendance.no_records_description"))}}function Ce(o,n){if(o&1&&(a(0,"div",50),_(1,xe,2,2,"div",55)(2,he,19,6,"div",66)(3,be,1,3,"app-empty-state",67),i()),o&2){let e=p(2);t(),f(e.attendanceLoading()?1:e.attendanceRecords().length>0?2:3)}}function Ee(o,n){if(o&1&&(a(0,"tr")(1,"td")(2,"div",13),l(3),i(),a(4,"small",14),l(5),i()(),a(6,"td")(7,"span"),l(8),i()(),a(9,"td")(10,"span",14),l(11),i()(),a(12,"td"),m(13,"app-status-badge",71),i(),a(14,"td")(15,"span",14),l(16),i()()()),o&2){let e=n.$implicit,s=p(4);t(3),d(s.formatDate(e.transactionTimeLocal)),t(2),d(s.formatTime(e.transactionTimeLocal)),t(2),w(s.getTransactionTypeBadgeClass(e.transactionType)),t(),g(" ",e.transactionTypeText," "),t(3),d(e.location||"--"),t(2),v("label",e.isManual?s.t("app.yes"):s.t("app.no"))("variant",e.isManual?"warning":"success")("icon",e.isManual?"fas fa-hand-paper":"fas fa-fingerprint")("size","sm"),t(3),d(e.notes||"--")}}function Se(o,n){if(o&1&&(a(0,"div",66)(1,"table",69)(2,"thead",70)(3,"tr")(4,"th"),l(5),i(),a(6,"th"),l(7),i(),a(8,"th"),l(9),i(),a(10,"th"),l(11),i(),a(12,"th"),l(13),i()()(),a(14,"tbody"),A(15,Ee,17,11,"tr",null,ae),i()()()),o&2){let e=p(3);t(5),d(e.t("attendance.fields.datetime")),t(2),d(e.t("attendance.fields.transaction_type")),t(2),d(e.t("attendance.fields.location")),t(2),d(e.t("attendance.fields.manual")),t(2),d(e.t("attendance.fields.notes")),t(2),N(e.recentTransactions())}}function we(o,n){if(o&1&&m(0,"app-empty-state",67),o&2){let e=p(3);v("icon","fa-solid fa-list")("title",e.t("attendance.no_transactions"))("message",e.t("attendance.no_transactions_description"))}}function Ie(o,n){if(o&1&&(a(0,"div",50),_(1,Se,17,5,"div",66)(2,we,1,3,"app-empty-state",67),i()),o&2){let e=p(2);t(),f(e.recentTransactions().length>0?1:2)}}function Te(o,n){if(o&1){let e=L();a(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h5",9)(5,"div",10)(6,"div",11)(7,"div",12),l(8),i()(),a(9,"div")(10,"div",13),l(11),i(),a(12,"small",14),l(13),i()()()()(),a(14,"div",15)(15,"div",5)(16,"div",16),m(17,"app-definition-list",17),i(),a(18,"div",16),m(19,"app-definition-list",17),i()()()()(),a(20,"div",18)(21,"div",7)(22,"div",8)(23,"h6",9),l(24),i()(),a(25,"div",15)(26,"div",19)(27,"h6",20),l(28),i(),m(29,"app-status-badge",21),i(),a(30,"div",19)(31,"h6",20),l(32),i(),m(33,"app-status-badge",22),i(),a(34,"div",19)(35,"h6",20),l(36),i(),m(37,"app-status-badge",22),i(),a(38,"div",19)(39,"h6",20),l(40),i(),_(41,le,1,3,"app-status-badge",22)(42,re,2,1,"span",14),i(),_(43,se,4,4,"div",19),a(44,"div")(45,"h6",20),l(46),i(),a(47,"small",14),l(48),i()()()(),_(49,pe,8,4,"div",23),a(50,"div",23)(51,"div",8)(52,"h6",9),l(53),i()(),a(54,"div",15)(55,"div",24),_(56,ue,3,1,"button",25)(57,ve,3,1,"button",26),i()()()()(),a(58,"div",27)(59,"div",28)(60,"div",7)(61,"div",8)(62,"div",29)(63,"h5",9),m(64,"i",30),l(65),i(),a(66,"div",31)(67,"input",32),E("change",function(c){b(e);let u=p();return C(u.onDateRangeChange(c.target.value,u.selectedDateRange().end))}),i(),a(68,"span",33),l(69),i(),a(70,"input",32),E("change",function(c){b(e);let u=p();return C(u.onDateRangeChange(u.selectedDateRange().start,c.target.value))}),i(),a(71,"button",34),E("click",function(){b(e);let c=p();return C(c.exportAttendanceData())}),m(72,"i",35),l(73),i()()()(),a(74,"div",15),m(75,"app-stats-grid",36),a(76,"div",37)(77,"div",28)(78,"div",7)(79,"div",38)(80,"h6",39),l(81),i(),a(82,"div",40)(83,"div",41)(84,"span",42),l(85),i()()(),m(86,"app-status-badge",22),i()()()(),a(87,"ul",43)(88,"li",44)(89,"button",45),E("click",function(){b(e);let c=p();return C(c.setActiveTab("overview"))}),m(90,"i",46),l(91),i()(),a(92,"li",44)(93,"button",45),E("click",function(){b(e);let c=p();return C(c.setActiveTab("records"))}),m(94,"i",47),l(95),i()(),a(96,"li",44)(97,"button",45),E("click",function(){b(e);let c=p();return C(c.setActiveTab("transactions"))}),m(98,"i",48),l(99),i()()(),a(100,"div",49),_(101,fe,3,1,"div",50),_(102,Ce,4,1,"div",50),_(103,Ie,3,1,"div",50),i()()()()()}if(o&2){let e,s,c,u,I,T,S,V,r=p();t(8),P(" ",(((e=r.employee())==null||e.firstName==null?null:e.firstName.charAt(0))||"")==null?null:(((e=e)==null||e.firstName==null?null:e.firstName.charAt(0))||"").toUpperCase(),"",(((e=r.employee())==null||e.lastName==null?null:e.lastName.charAt(0))||"")==null?null:(((e=e)==null||e.lastName==null?null:e.lastName.charAt(0))||"").toUpperCase()," "),t(3),d((s=r.employee())==null?null:s.fullName),t(2),d((c=r.employee())==null?null:c.employeeNumber),t(4),v("items",r.basicInfoItems())("labelWidth","5")("valueWidth","7"),t(2),v("items",r.employmentInfoItems())("labelWidth","5")("valueWidth","7"),t(5),d(r.t("employees.employment_details")),t(4),d(r.t("common.status")),t(),v("status",(u=r.employee())!=null&&u.isActive?"active":"inactive"),t(3),d(r.t("employees.employment_status.title")),t(),v("label",r.getEmploymentStatusLabel(r.employee().employmentStatus))("variant","info")("icon","fas fa-briefcase"),t(3),d(r.t("employees.work_location.title")),t(),v("label",r.getWorkLocationTypeLabel(r.employee().workLocationType))("variant","light")("icon","fas fa-map-marker-alt"),t(3),d(r.t("employees.current_shift")),t(),f((I=r.employee())!=null&&I.currentShiftName?41:42),t(2),f((T=r.employee())!=null&&T.gender?43:-1),t(3),d(r.t("employees.created_at")),t(2),d(r.formatDate(r.employee().createdAtUtc)),t(),f((S=r.employee())!=null&&S.firstNameAr||(S=r.employee())!=null&&S.lastNameAr||(S=r.employee())!=null&&S.jobTitleAr?49:-1),t(4),d(r.t("common.actions")),t(3),f((V=r.employee())!=null&&V.isActive?56:57),t(9),g(" ",r.t("attendance.employee_detail")," "),t(2),v("value",r.selectedDateRange().start),t(2),d(r.t("common.to")),t(),v("value",r.selectedDateRange().end),t(),v("disabled",r.attendanceRecords().length===0),t(2),g(" ",r.t("attendance.actions.export_data")," "),t(2),v("stats",r.attendanceStats())("columns",4)("loading",r.attendanceLoading()),t(6),d(r.t("attendance.stats.attendance_rate")),t(2),O("--progress",r.attendanceRate()+"%"),t(2),g("",r.attendanceRate(),"%"),t(),v("label",r.getPerformanceLabel(r.attendanceRate()))("variant",r.getPerformanceColor(r.attendanceRate()))("icon",r.attendanceRate()>=95?"fas fa-star":r.attendanceRate()>=90?"fas fa-thumbs-up":r.attendanceRate()>=80?"fas fa-exclamation-triangle":"fas fa-times-circle"),t(3),D("active",r.activeTab()==="overview"),t(2),g(" ",r.t("attendance.statistics.overview")," "),t(2),D("active",r.activeTab()==="records"),t(2),g(" ",r.t("attendance.statistics.records")," "),t(2),D("active",r.activeTab()==="transactions"),t(2),g(" ",r.t("attendance.statistics.transactions")," "),t(2),f(r.activeTab()==="overview"?101:-1),t(),f(r.activeTab()==="records"?102:-1),t(),f(r.activeTab()==="transactions"?103:-1)}}function De(o,n){if(o&1&&(a(0,"div",3),m(1,"i",72),l(2),i()),o&2){let e=p();t(2),g(" ",e.error()||e.t("employees.employee_not_found")," ")}}var ne=class o{router=h(H);route=h(W);employeesService=h(Q);attendanceService=h(te);notificationService=h(G);i18n=h(z);permissionService=h(j);loading=y(!1);error=y(null);employee=y(null);employeeId=0;attendanceLoading=y(!1);attendanceRecords=y([]);attendanceStatistics=y(null);recentTransactions=y([]);selectedDateRange=y({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});activeTab=y("overview");totalWorkingDays=x(()=>this.attendanceRecords().length);presentDays=x(()=>this.attendanceRecords().filter(e=>e.status===1).length);absentDays=x(()=>this.attendanceRecords().filter(e=>e.status===2).length);lateDays=x(()=>this.attendanceRecords().filter(e=>e.status===3).length);attendanceRate=x(()=>{let n=this.totalWorkingDays(),e=this.presentDays();return n>0?Math.round(e/n*100):0});averageWorkingHours=x(()=>{let e=this.attendanceRecords().filter(c=>c.workingHours>0);if(e.length===0)return 0;let s=e.reduce((c,u)=>c+u.workingHours,0);return Math.round(s/e.length*10)/10});totalOvertimeHours=x(()=>{let n=this.attendanceRecords();return Math.round(n.reduce((e,s)=>e+s.overtimeHours,0)*10)/10});PERMISSIONS={EMPLOYEE_UPDATE:`${M.EMPLOYEE}.${k.UPDATE}`,EMPLOYEE_DELETE:`${M.EMPLOYEE}.${k.DELETE}`,EMPLOYEE_MANAGE:`${M.EMPLOYEE}.${k.MANAGE}`};ngOnInit(){this.employeeId=+this.route.snapshot.params.id,this.employeeId?(this.loadEmployee(),this.loadAttendanceData()):this.router.navigate(["/employees"])}loadEmployee(){this.loading.set(!0),this.employeesService.getEmployeeById(this.employeeId).subscribe({next:n=>{this.employee.set(n),this.loading.set(!1)},error:n=>{this.error.set("Failed to load employee"),this.loading.set(!1),console.error("Error loading employee:",n)}})}loadAttendanceData(){this.attendanceLoading.set(!0);let n=this.selectedDateRange();this.attendanceService.getEmployeeAttendanceRecords(this.employeeId,n.start,n.end).subscribe({next:e=>{this.attendanceRecords.set(e),this.attendanceLoading.set(!1)},error:e=>{console.error("Error loading attendance records:",e),this.attendanceLoading.set(!1)}}),this.attendanceService.getEmployeeRecentTransactions(this.employeeId,10).subscribe({next:e=>{this.recentTransactions.set(e)},error:e=>{console.error("Error loading transactions:",e)}})}onDateRangeChange(n,e){this.selectedDateRange.set({start:n,end:e}),this.loadAttendanceData()}setActiveTab(n){this.activeTab.set(n)}getStatusBadgeClass(n){switch(n){case 1:return"badge bg-success";case 2:return"badge bg-danger";case 3:return"badge bg-warning";case 4:return"badge bg-warning";case 5:return"badge bg-info";case 6:return"badge bg-secondary";case 7:return"badge bg-primary";default:return"badge bg-secondary"}}getTransactionTypeBadgeClass(n){switch(n){case 0:return"badge bg-success";case 1:return"badge bg-danger";case 2:return"badge bg-warning";case 3:return"badge bg-info";case 4:return"badge bg-primary";default:return"badge bg-secondary"}}formatTime(n){if(!n)return"--:--";try{return new Date(`1970-01-01T${n}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return n}}calculateWorkDuration(n,e){if(!n||!e)return"--";try{let s=new Date(`1970-01-01T${n}`),u=new Date(`1970-01-01T${e}`).getTime()-s.getTime(),I=Math.floor(u/(1e3*60*60)),T=Math.floor(u%(1e3*60*60)/(1e3*60));return`${I}h ${T}m`}catch{return"--"}}getPerformanceColor(n){return n>=95?"success":n>=90?"primary":n>=80?"warning":"danger"}getPerformanceLabel(n){return n>=95?"Excellent":n>=90?"Good":n>=80?"Average":"Needs Improvement"}exportAttendanceData(){let n=this.attendanceRecords();if(n.length===0){this.notificationService.warning("No attendance data to export");return}let e=this.generateAttendanceCSV(n);this.downloadCSV(e,`employee-${this.employeeId}-attendance.csv`),this.notificationService.success("Attendance data exported successfully")}generateAttendanceCSV(n){let e=["Date","Status","Check In","Check Out","Working Hours","Break Hours","Overtime Hours","Notes"],s=n.map(c=>[c.attendanceDate,this.getStatusText(c.status),this.formatTime(c.actualCheckInTime||null),this.formatTime(c.actualCheckOutTime||null),c.workingHours.toString(),c.breakHours.toString(),c.overtimeHours.toString(),c.notes||""]);return[e,...s].map(c=>c.map(u=>`"${u}"`).join(",")).join(`
`)}downloadCSV(n,e){let s=new Blob([n],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");if(c.download!==void 0){let u=URL.createObjectURL(s);c.setAttribute("href",u),c.setAttribute("download",e),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}getStatusText(n){return this.i18n.t(`attendance.status.${n.toString().toLowerCase()}`)}formatDate(n){return new Date(n).toLocaleDateString()}getEmploymentStatusLabel(n){return this.t(`employees.employment_status.${Z[n].toLowerCase()}`)}getGenderLabel(n){return this.t(`employees.gender.${X[n].toLowerCase()}`)}getWorkLocationTypeLabel(n){return this.t(`employees.work_location.${ee[n].toLowerCase()}`)}t(n){return this.i18n.t(n)}basicInfoItems=x(()=>{let n=this.employee();return n?[{label:this.t("employees.employee_number"),value:n.employeeNumber},{label:this.t("employees.first_name"),value:n.firstName},{label:this.t("employees.last_name"),value:n.lastName},{label:this.t("employees.email"),value:n.email||"-"},{label:this.t("employees.phone"),value:n.phone||"-"},{label:this.t("employees.national_id"),value:n.nationalId||"-"}]:[]});employmentInfoItems=x(()=>{let n=this.employee();if(!n)return[];let e=[{label:this.t("employees.job_title"),value:n.jobTitle},{label:this.t("employees.branch"),value:n.branchName},{label:this.t("employees.department"),value:n.departmentName||"-"},{label:this.t("employees.manager"),value:n.managerName||"-"},{label:this.t("employees.hire_date"),value:this.formatDate(n.hireDate),type:"date"}];return n.dateOfBirth&&e.push({label:this.t("employees.date_of_birth"),value:this.formatDate(n.dateOfBirth),type:"date"}),e});attendanceStats=x(()=>[{label:this.t("attendance.statistics.total_working_days"),value:this.totalWorkingDays(),icon:"fa-solid fa-calendar",variant:"primary"},{label:this.t("attendance.stats.present_employees"),value:this.presentDays(),icon:"fa-solid fa-user-check",variant:"success",subtitle:`${this.attendanceRate()}% ${this.t("attendance.statistics.attendance_rate_short")}`},{label:this.t("attendance.stats.average_working_hours"),value:`${this.averageWorkingHours()}h`,icon:"fa-solid fa-business-time",variant:"warning",subtitle:`${this.totalOvertimeHours()}h ${this.t("attendance.statistics.total_overtime")}`},{label:this.t("attendance.stats.absent_employees"),value:this.absentDays(),icon:"fa-solid fa-user-times",variant:"danger",subtitle:`${this.lateDays()} ${this.t("attendance.statistics.late_days")}`}]);static \u0275fac=function(e){return new(e||o)};static \u0275cmp=R({type:o,selectors:[["app-view-employee"]],decls:5,vars:4,consts:[[1,"container-fluid"],["mode","view","moduleName","employees","moduleRoute","employees",3,"title","entityId","loading"],[1,"d-flex","justify-content-center","py-5"],[1,"alert","alert-danger"],[3,"message","centered"],[1,"row"],[1,"col-lg-8"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"d-flex","align-items-center"],[1,"avatar-sm","me-3"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle"],[1,"fw-medium"],[1,"text-muted"],[1,"card-body"],[1,"col-md-6"],[3,"items","labelWidth","valueWidth"],[1,"col-lg-4"],[1,"mb-3"],[1,"fw-semibold"],[3,"status"],[3,"label","variant","icon"],[1,"card","mt-3"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-outline-warning"],["type","button",1,"btn","btn-outline-success"],[1,"row","mt-4"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-calendar-check","me-2"],[1,"d-flex","gap-2"],["type","date",1,"form-control","form-control-sm",2,"width","auto",3,"change","value"],[1,"align-self-center"],["type","button",1,"btn","btn-success","btn-sm",3,"click","disabled"],[1,"fa-solid","fa-download"],[1,"mb-4",3,"stats","columns","loading"],[1,"row","mb-4"],[1,"card-body","text-center"],[1,"card-title"],[1,"performance-circle","mb-3"],[1,"circle-progress"],[1,"percentage"],["role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["type","button",1,"nav-link",3,"click"],[1,"fa-solid","fa-chart-pie","me-2"],[1,"fa-solid","fa-table","me-2"],[1,"fa-solid","fa-list","me-2"],[1,"tab-content"],[1,"tab-pane","fade","show","active"],[3,"label","variant","showIcon"],[1,"mb-2"],[1,"fa-solid","fa-user-slash","me-2"],[1,"fa-solid","fa-user-check","me-2"],[1,"text-center","py-4"],[3,"message","variant","centered"],[1,"fw-semibold","mb-3"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-user-check","text-success","me-2"],[1,"badge","bg-success","rounded-pill"],[1,"fa-solid","fa-user-times","text-danger","me-2"],[1,"badge","bg-danger","rounded-pill"],[1,"fa-solid","fa-clock","text-warning","me-2"],[1,"badge","bg-warning","rounded-pill"],[1,"table-responsive"],[3,"icon","title","message"],[3,"variant","centered"],[1,"table","table-hover"],[1,"table-light"],[3,"label","variant","icon","size"],[1,"fa-solid","fa-exclamation-triangle","me-2"]],template:function(e,s){e&1&&(a(0,"div",0),m(1,"app-form-header",1),_(2,oe,2,2,"div",2)(3,Te,104,57)(4,De,3,1,"div",3),i()),e&2&&(t(),v("title",s.t("employees.view_details"))("entityId",s.employeeId)("loading",s.loading()),t(),f(s.loading()?2:s.employee()?3:4))},dependencies:[$,B,J,U,q,Y,K,F],styles:['.avatar-sm[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center}.avatar-title[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem}.icon-circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center}.icon-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.performance-circle[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.circle-progress[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:50%;background:conic-gradient(#198754 0deg calc(var(--progress) * 3.6deg),#e9ecef calc(var(--progress) * 3.6deg) 360deg);display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.circle-progress[_ngcontent-%COMP%]:before{content:"";position:absolute;width:80px;height:80px;border-radius:50%;background:#fff}.percentage[_ngcontent-%COMP%]{position:relative;font-size:1.5rem;font-weight:700;color:#198754;z-index:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.performance-circle[_ngcontent-%COMP%], .circle-progress[_ngcontent-%COMP%]{width:100px;height:100px}.circle-progress[_ngcontent-%COMP%]:before{width:70px;height:70px}.percentage[_ngcontent-%COMP%]{font-size:1.2rem}.icon-circle[_ngcontent-%COMP%]{width:40px;height:40px}.icon-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}}']})};export{ne as ViewEmployeeComponent};
