import{a as $}from"./chunk-NDI27EQL.js";import{a as me}from"./chunk-GNG6SBUX.js";import{a as pe}from"./chunk-4G2EQDXN.js";import{a as X}from"./chunk-Y4G43P3P.js";import{a as P,b as E}from"./chunk-AYMGSBNU.js";import{a as U}from"./chunk-4DSP56PF.js";import"./chunk-3BUDJKKE.js";import{c as Z,d as R,e as ee,f as te,i as ie,m as ne,n as ae,o as oe,p as re,r as ce,v as le,w as se,y as de}from"./chunk-OTKBQKTN.js";import{b as Y}from"./chunk-NJ656CWW.js";import{$ as r,E as n,J as I,Ma as N,N as L,Na as F,O as w,Oa as J,Ra as V,Sa as K,U as b,V as y,Y as k,Z as A,_ as u,aa as o,ba as T,cb as B,eb as z,ia as x,ka as v,ma as d,oa as G,pa as Q,pb as W,qa as j,ra as H,sa as M,t as C,u as p,ua as D,v as m,va as c,wa as s,xa as _,z as h}from"./chunk-6T5SYK5O.js";import{a as S,b as q}from"./chunk-DGAILPFQ.js";var fe=(a,i)=>i.id;function he(a,i){if(a&1&&(r(0,"div",7)(1,"div",12)(2,"div",13)(3,"label",14),c(4),o(),r(5,"p",15),c(6),o()(),r(7,"div",16)(8,"label",14),c(9),o(),r(10,"p",15),c(11),o()(),r(12,"div",16)(13,"label",14),c(14),o(),r(15,"p",17),c(16),o()(),r(17,"div",16)(18,"label",14),c(19),o(),r(20,"p",15)(21,"span",18),c(22),o()()(),r(23,"div",16)(24,"label",14),c(25),o(),r(26,"p",15),c(27),N(28,"date"),o()()()()),a&2){let e=d();n(4),s(e.i18n.t("vacation_types.branch")),n(2),s(e.getBranchName()||e.i18n.t("vacation_types.all_branches")),n(3),s(e.i18n.t("vacation_types.name")),n(2),s(e.vacationType==null?null:e.vacationType.name),n(3),s(e.i18n.t("vacation_types.name_ar")),n(2),s((e.vacationType==null?null:e.vacationType.nameAr)||e.i18n.t("common.not_specified")),n(3),s(e.i18n.t("vacation_types.column_status")),n(2),D(e.vacationType!=null&&e.vacationType.isActive?"bg-success":"bg-secondary"),n(),_(" ",e.vacationType!=null&&e.vacationType.isActive?e.i18n.t("common.active"):e.i18n.t("common.inactive")," "),n(3),s(e.i18n.t("vacation_types.created_at")),n(2),s(F(28,12,e.vacationType==null?null:e.vacationType.createdAtUtc,"medium"))}}function be(a,i){if(a&1&&(r(0,"option",23),c(1),o()),a&2){let e=i.$implicit;u("value",e.id),n(),s(e.name)}}function ye(a,i){if(a&1&&(r(0,"div",24),c(1),o()),a&2){let e=d(2);n(),_(" ",e.getFieldError("branchId")," ")}}function Ce(a,i){if(a&1&&(r(0,"div",24),c(1),o()),a&2){let e=d(2);n(),_(" ",e.getFieldError("name")," ")}}function Te(a,i){if(a&1&&(r(0,"div",24),c(1),o()),a&2){let e=d(2);n(),_(" ",e.getFieldError("nameAr")," ")}}function xe(a,i){if(a&1){let e=x();r(0,"form",19),v("ngSubmit",function(){p(e);let l=d();return m(l.onSubmit())}),r(1,"div",12)(2,"div",13)(3,"label",20),c(4),o(),r(5,"select",21)(6,"option",22),c(7),o(),k(8,be,2,2,"option",23,fe),o(),b(10,ye,2,1,"div",24),o(),r(11,"div",16)(12,"label",25),c(13),o(),T(14,"input",26),b(15,Ce,2,1,"div",24),o(),r(16,"div",16)(17,"label",20),c(18),o(),T(19,"input",27),b(20,Te,2,1,"div",24),o()()()}if(a&2){let e=d();u("formGroup",e.form),n(4),s(e.i18n.t("vacation_types.branch")),n(),M("is-invalid",e.hasFieldError("branchId")),n(2),s(e.i18n.t("vacation_types.all_branches")),n(),A(e.availableBranches()),n(2),y(e.hasFieldError("branchId")?10:-1),n(3),s(e.i18n.t("vacation_types.name")),n(),M("is-invalid",e.hasFieldError("name")),u("placeholder",e.i18n.t("vacation_types.name_placeholder")),n(),y(e.hasFieldError("name")?15:-1),n(3),s(e.i18n.t("vacation_types.name_ar")),n(),M("is-invalid",e.hasFieldError("nameAr")),u("placeholder",e.i18n.t("vacation_types.name_ar_placeholder")),n(),y(e.hasFieldError("nameAr")?20:-1)}}function Ve(a,i){if(a&1){let e=x();r(0,"button",28),v("click",function(){p(e);let l=d();return m(l.onCancel())}),c(1),o()}if(a&2){let e=d();n(),_(" ",e.i18n.t("common.close")," ")}}function Se(a,i){a&1&&T(0,"span",31)}function Me(a,i){if(a&1){let e=x();r(0,"button",29),v("click",function(){p(e);let l=d();return m(l.onCancel())}),c(1),o(),r(2,"button",30),v("click",function(){p(e);let l=d();return m(l.onSubmit())}),b(3,Se,1,0,"span",31),c(4),o()}if(a&2){let e=d();u("disabled",e.loading()),n(),_(" ",e.i18n.t("common.cancel")," "),n(),u("disabled",!e.isFormValid()||e.loading()),n(),y(e.loading()?3:-1),n(),_(" ",e.isEdit?e.i18n.t("common.update"):e.i18n.t("common.create")," ")}}function Pe(a,i){if(a&1){let e=x();r(0,"div",32),v("click",function(){p(e);let l=d();return m(l.onCancel())}),o()}}var O=class a{fb=C(se);vacationTypesService=C($);notificationService=C(U);i18n=C(Y);vacationType;isEdit=!1;isView=!1;isOpen=h(!1);modalClose=new w;vacationTypeCreated=new w;vacationTypeUpdated=new w;form;availableBranches=h([]);loading=h(!1);formValid=h(!1);formDirty=h(!1);isFormValid=V(()=>this.formValid());isDirty=V(()=>this.formDirty());ngOnInit(){this.initializeForm(),this.loadBranches()}ngOnDestroy(){}initializeForm(){this.form=this.fb.group({branchId:[null],name:["",[R.required,R.maxLength(100)]],nameAr:["",[R.maxLength(100)]]}),this.formValid.set(this.form.valid),this.formDirty.set(this.form.dirty),this.form.statusChanges.subscribe(()=>{this.formValid.set(this.form.valid)}),this.form.valueChanges.subscribe(()=>{this.formDirty.set(this.form.dirty)}),this.isEdit&&this.vacationType&&this.populateForm()}populateForm(){this.vacationType&&(this.form.patchValue({branchId:this.vacationType.branchId,name:this.vacationType.name,nameAr:this.vacationType.nameAr}),this.formValid.set(this.form.valid),this.formDirty.set(this.form.dirty))}loadBranches(){this.vacationTypesService.getBranches().subscribe({next:i=>{this.availableBranches.set(i)},error:i=>{console.error("Failed to load branches:",i)}})}onSubmit(){if(!this.form.valid){this.form.markAllAsTouched();return}let i=this.form.value,e={branchId:i.branchId||null,name:i.name.trim(),nameAr:i.nameAr?.trim()||void 0};this.loading.set(!0),this.isEdit&&this.vacationType?this.vacationTypesService.updateVacationType(this.vacationType.id,e).subscribe({next:()=>{this.loading.set(!1),this.notificationService.success(this.i18n.t("vacation_types.success.updated")),this.vacationTypeUpdated.emit(),this.closeModal()},error:t=>{this.loading.set(!1),console.error("Failed to update vacation type:",t),t.error?.error?this.notificationService.error(t.error.error):this.notificationService.error(this.i18n.t("vacation_types.errors.update_failed"))}}):this.vacationTypesService.createVacationType(e).subscribe({next:()=>{this.loading.set(!1),this.notificationService.success(this.i18n.t("vacation_types.success.created")),this.vacationTypeCreated.emit(),this.closeModal()},error:t=>{this.loading.set(!1),console.error("Failed to create vacation type:",t),t.error?.error?this.notificationService.error(t.error.error):this.notificationService.error(this.i18n.t("vacation_types.errors.create_failed"))}})}onCancel(){this.isOpen.set(!1),this.form.reset(),this.initializeForm(),this.formValid.set(this.form.valid),this.formDirty.set(this.form.dirty),this.modalClose.emit()}getFieldError(i){let e=this.form.get(i);if(!e||!e.errors||!e.touched)return null;let t=e.errors;return t.required?this.i18n.t("validation.field_required"):t.maxlength?this.i18n.t("validation.max_length"):this.i18n.t("validation.invalid_field")}hasFieldError(i){let e=this.form.get(i);return!!(e&&e.errors&&e.touched)}openModal(i,e="create"){this.vacationType=i,this.isEdit=e==="edit",this.isView=e==="view",this.isOpen.set(!0),this.isView||this.initializeForm()}closeModal(){this.isOpen.set(!1),this.isView||(this.form.reset(),this.initializeForm(),this.formValid.set(this.form.valid),this.formDirty.set(this.form.dirty)),this.modalClose.emit()}getBranchName(){return this.vacationType?.branchId&&this.availableBranches().find(e=>e.id===this.vacationType?.branchId)?.name||null}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=I({type:a,selectors:[["app-vacation-type-modal"]],inputs:{vacationType:"vacationType",isEdit:"isEdit",isView:"isView",isOpen:"isOpen"},outputs:{modalClose:"modalClose",vacationTypeCreated:"vacationTypeCreated",vacationTypeUpdated:"vacationTypeUpdated"},decls:14,vars:11,consts:[["tabindex","-1","role","dialog","aria-labelledby","vacationTypeModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","vacationTypeModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"vacation-type-details"],[1,"vacation-type-form",3,"formGroup"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary"],[1,"modal-backdrop","fade","show"],[1,"row"],[1,"col-md-12","mb-3"],[1,"form-label","fw-bold"],[1,"form-control-plaintext"],[1,"col-md-6","mb-3"],["dir","rtl",1,"form-control-plaintext"],[1,"badge"],[1,"vacation-type-form",3,"ngSubmit","formGroup"],[1,"form-label"],["formControlName","branchId",1,"form-select"],["value",""],[3,"value"],[1,"invalid-feedback"],[1,"form-label","required"],["type","text","formControlName","name","maxlength","100",1,"form-control",3,"placeholder"],["type","text","formControlName","nameAr","maxlength","100","dir","rtl",1,"form-control",3,"placeholder"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"modal-backdrop","fade","show",3,"click"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),c(5),o(),r(6,"button",5),v("click",function(){return t.onCancel()}),o()(),r(7,"div",6),b(8,he,29,15,"div",7)(9,xe,21,16,"form",8),o(),r(10,"div",9),b(11,Ve,2,1,"button",10)(12,Me,5,5),o()()()(),b(13,Pe,1,0,"div",11)),e&2&&(H("display",t.isOpen()?"block":"none"),M("show",t.isOpen())("d-block",t.isOpen()),n(5),_(" ",t.isView?t.i18n.t("vacation_types.view_details"):t.isEdit?t.i18n.t("vacation_types.edit_vacation_type"):t.i18n.t("vacation_types.create_vacation_type")," "),n(),u("disabled",t.loading()),n(2),y(t.isView?8:9),n(3),y(t.isView?11:12),n(2),y(t.isOpen()?13:-1))},dependencies:[z,de,ie,re,ce,Z,oe,ee,te,le,ne,ae,B],styles:['.modal[_ngcontent-%COMP%]{z-index:1055}.modal-backdrop[_ngcontent-%COMP%]{z-index:1050}.required[_ngcontent-%COMP%]:after{content:" *";color:red}']})};var Ee=(a,i)=>i.id;function Oe(a,i){if(a&1){let e=x();r(0,"button",38),v("click",function(){p(e);let l=d();return m(l.onCreateVacationType())}),T(1,"i",39),c(2),o()}if(a&2){let e=d();n(2),_(" ",e.i18n.t("vacation_types.create_vacation_type")," ")}}function Ie(a,i){if(a&1&&(r(0,"option",18),c(1),o()),a&2){let e=i.$implicit;u("value",e.id),n(),s(e.name)}}function we(a,i){if(a&1){let e=x();r(0,"div",33),T(1,"i",40),c(2),r(3,"button",41),v("click",function(){p(e);let l=d();return m(l.loadVacationTypes())}),c(4),o()()}if(a&2){let e=d();n(2),_(" ",i," "),n(2),_(" ",e.i18n.t("common.retry")," ")}}function ke(a,i){if(a&1&&(r(0,"div",44),c(1),o()),a&2){let e=d(2).$implicit;n(),s(e.nameAr)}}function Ae(a,i){if(a&1&&(r(0,"div")(1,"div",43),c(2),o(),b(3,ke,2,1,"div",44),o()),a&2){let e=d().$implicit;n(2),s(e.name),n(),y(e.nameAr?3:-1)}}function De(a,i){if(a&1&&c(0),a&2){let e=d().$implicit,t=d();_(" ",e.branchName||t.i18n.t("common.not_specified")," ")}}function Ne(a,i){if(a&1&&(r(0,"span",45),c(1),o()),a&2){let e=d().$implicit,t=d();D(e.isActive?"bg-success":"bg-secondary"),n(),_(" ",t.getStatusText(e.isActive)," ")}}function Fe(a,i){if(a&1&&(c(0),N(1,"date")),a&2){let e=d().$implicit;_(" ",F(1,1,e.createdAtUtc,"short")," ")}}function Be(a,i){if(a&1&&c(0),a&2){let e=d(),t=e.$implicit,l=e.column;_(" ",t[l.key]," ")}}function ze(a,i){if(a&1&&b(0,Ae,4,2,"div")(1,De,1,1)(2,Ne,2,3,"span",42)(3,Fe,2,4)(4,Be,1,1),a&2){let e=i.column;y(e.key==="name"?0:e.key==="branchName"?1:e.key==="isActive"?2:e.key==="createdAtUtc"?3:4)}}var _e=class a{vacationTypesService=C($);notificationService=C(U);confirmationService=C(pe);router=C(W);i18n=C(Y);permissionService=C(X);vacationTypeModal;loading=h(!1);currentPage=h(1);pageSize=h(10);searchTerm=h("");selectedBranchId=h(null);selectedStatus=h(null);availableBranches=h([]);vacationTypes=this.vacationTypesService.vacationTypes;pagedResult=this.vacationTypesService.pagedResult;error=this.vacationTypesService.error;tableColumns=[{key:"name",label:this.i18n.t("vacation_types.name"),sortable:!0,width:"30%"},{key:"branchName",label:this.i18n.t("vacation_types.branch"),sortable:!0,width:"25%"},{key:"isActive",label:this.i18n.t("vacation_types.column_status"),width:"15%"},{key:"createdAtUtc",label:this.i18n.t("vacation_types.created_at"),sortable:!0,width:"20%"}];tableActions=[{key:"view",label:this.i18n.t("common.view"),icon:"fa-eye",color:"primary"},{key:"edit",label:this.i18n.t("common.edit"),icon:"fa-edit",color:"secondary",condition:i=>this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_UPDATE)},{key:"toggle",label:this.i18n.t("common.activate"),icon:"fa-check",color:"success",condition:i=>this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_UPDATE)&&!i.isActive},{key:"toggle",label:this.i18n.t("common.deactivate"),icon:"fa-ban",color:"warning",condition:i=>this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_UPDATE)&&i.isActive},{key:"delete",label:this.i18n.t("common.delete"),icon:"fa-trash",color:"danger",condition:i=>this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_DELETE)}];totalItems=V(()=>this.pagedResult()?.totalCount??0);totalPages=V(()=>{let i=this.pagedResult();return!i||i.pageSize===0?1:Math.ceil(i.totalCount/i.pageSize)});currentFilter=V(()=>({search:this.searchTerm()||void 0,branchId:this.selectedBranchId()??void 0,isActive:this.selectedStatus()??void 0}));PERMISSIONS={VACATION_TYPE_READ:`${E.VACATION_TYPE}.${P.READ}`,VACATION_TYPE_CREATE:`${E.VACATION_TYPE}.${P.CREATE}`,VACATION_TYPE_UPDATE:`${E.VACATION_TYPE}.${P.UPDATE}`,VACATION_TYPE_DELETE:`${E.VACATION_TYPE}.${P.DELETE}`};Math=Math;constructor(){K(()=>{let i=this.currentFilter(),e=this.currentPage(),t=this.pageSize();this.loadVacationTypes(S({page:e,pageSize:t},i))})}ngOnInit(){this.loadBranches(),this.loadVacationTypes()}loadVacationTypes(i){this.loading.set(!0);let e=S(S({page:this.currentPage(),pageSize:this.pageSize()},this.currentFilter()),i);this.vacationTypesService.getVacationTypes(e).subscribe({next:()=>{this.loading.set(!1)},error:t=>{this.loading.set(!1),this.notificationService.error(this.i18n.t("vacation_types.errors.load_failed")),console.error("Failed to load vacation types:",t)}})}loadBranches(){this.vacationTypesService.getBranches().subscribe({next:i=>{this.availableBranches.set(i)},error:i=>{console.error("Failed to load branches:",i),this.notificationService.error(this.i18n.t("branches.errors.load_failed"))}})}onSearchChange(i){this.searchTerm.set(i),this.currentPage.set(1)}onBranchChange(i){this.selectedBranchId.set(i),this.currentPage.set(1)}onStatusChange(i){this.selectedStatus.set(i),this.currentPage.set(1)}onClearFilters(){this.searchTerm.set(""),this.selectedBranchId.set(null),this.selectedStatus.set(null),this.currentPage.set(1)}onPageChange(i){this.currentPage.set(i)}onPageSizeChange(i){this.pageSize.set(i),this.currentPage.set(1)}onCreateVacationType(){if(!this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_CREATE)){this.notificationService.error(this.i18n.t("common.errors.insufficient_permissions"));return}this.vacationTypeModal.openModal(void 0,"create")}onViewVacationType(i){let e=q(S({},i),{canBeModified:!0,canBeDeleted:!0});this.vacationTypeModal.openModal(e,"view")}onEditVacationType(i){if(!this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_UPDATE)){this.notificationService.error(this.i18n.t("common.errors.insufficient_permissions"));return}let e=q(S({},i),{canBeModified:!0,canBeDeleted:!0});this.vacationTypeModal.openModal(e,"edit")}onToggleStatus(i){if(!this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_UPDATE)){this.notificationService.error(this.i18n.t("common.errors.insufficient_permissions"));return}let e=i.isActive?"deactivate":"activate",t=this.i18n.t(`vacation_types.confirm_${e}`).replace("{{name}}",i.name);this.confirmationService.confirm({title:this.i18n.t(`vacation_types.${e}_vacation_type`),message:t,confirmText:this.i18n.t(`common.${e}`),cancelText:this.i18n.t("common.cancel")}).then(l=>{l.confirmed&&this.vacationTypesService.toggleVacationTypeStatus(i.id).subscribe({next:()=>{let f=i.isActive?this.i18n.t("vacation_types.success.deactivated"):this.i18n.t("vacation_types.success.activated");this.notificationService.success(f)},error:f=>{console.error("Failed to toggle vacation type status:",f),this.notificationService.error(this.i18n.t("vacation_types.errors.status_toggle_failed"))}})})}onDeleteVacationType(i){if(!this.permissionService.has(this.PERMISSIONS.VACATION_TYPE_DELETE)){this.notificationService.error(this.i18n.t("common.errors.insufficient_permissions"));return}this.confirmationService.confirm({title:this.i18n.t("vacation_types.delete_vacation_type"),message:this.i18n.t("vacation_types.confirm_delete"),confirmText:this.i18n.t("common.delete"),cancelText:this.i18n.t("common.cancel"),confirmButtonClass:"btn-danger"}).then(e=>{e.confirmed&&this.vacationTypesService.deleteVacationType(i.id).subscribe({next:()=>{this.notificationService.success(this.i18n.t("vacation_types.success.deleted"))},error:t=>{console.error("Failed to delete vacation type:",t),this.notificationService.error(this.i18n.t("vacation_types.errors.delete_failed"))}})})}onTableAction(i){let{action:e,item:t}=i;switch(e){case"view":this.onViewVacationType(t);break;case"edit":this.onEditVacationType(t);break;case"toggle":this.onToggleStatus(t);break;case"delete":this.onDeleteVacationType(t);break}}getStatusBadgeClass(i){return i?"bg-success":"bg-secondary"}getStatusText(i){return i?this.i18n.t("common.active"):this.i18n.t("common.inactive")}onVacationTypeCreated(){this.loadVacationTypes()}onVacationTypeUpdated(){this.loadVacationTypes()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=I({type:a,selectors:[["app-vacation-types"]],viewQuery:function(e,t){if(e&1&&G(O,5),e&2){let l;Q(l=j())&&(t.vacationTypeModal=l.first)}},decls:62,vars:30,consts:[["cellTemplate",""],[1,"vacation-types-page"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-1"],[1,"text-muted","mb-0"],["type","button",1,"btn","btn-primary"],[1,"card","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-3","mb-3"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"input","placeholder","value"],[1,"col-md-2","mb-3"],[1,"form-select",3,"change","value"],["value",""],[3,"value"],["value","true"],["value","false"],[1,"col-md-1","mb-3","d-flex","align-items-end"],["type","button",1,"btn","btn-outline-secondary",3,"click","title"],[1,"fas","fa-times"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"d-flex","align-items-center"],[1,"form-label","me-2","mb-0"],[1,"form-select","form-select-sm",2,"width","auto",3,"change","value"],["value","10"],["value","25"],["value","50"],["value","100"],["role","alert",1,"alert","alert-danger"],[1,"card"],[1,"card-body","p-0"],[3,"actionClick","pageChange","pageSizeChange","data","columns","actions","loading","currentPage","totalPages","totalItems","pageSize","showPagination","emptyMessage","emptyTitle"],[3,"modalClose","vacationTypeCreated","vacationTypeUpdated"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus","me-2"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn","btn-sm","btn-outline-danger","ms-3",3,"click"],[1,"badge",3,"class"],[1,"fw-medium"],[1,"text-muted","small"],[1,"badge"]],template:function(e,t){if(e&1){let l=x();r(0,"div",1)(1,"div",2)(2,"div")(3,"h2",3),c(4),o(),r(5,"p",4),c(6),o()(),b(7,Oe,3,1,"button",5),o(),r(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),c(13),o(),r(14,"div",11)(15,"span",12),T(16,"i",13),o(),r(17,"input",14),v("input",function(g){return p(l),m(t.onSearchChange(g.target.value))}),o()()(),r(18,"div",15)(19,"label",10),c(20),o(),r(21,"select",16),v("change",function(g){return p(l),m(t.onBranchChange(g.target.value?+g.target.value:null))}),r(22,"option",17),c(23),o(),k(24,Ie,2,2,"option",18,Ee),o()(),r(26,"div",15)(27,"label",10),c(28),o(),r(29,"select",16),v("change",function(g){return p(l),m(t.onStatusChange(g.target.value===""?null:g.target.value==="true"))}),r(30,"option",17),c(31),o(),r(32,"option",19),c(33),o(),r(34,"option",20),c(35),o()()(),r(36,"div",21)(37,"button",22),v("click",function(){return p(l),m(t.onClearFilters())}),T(38,"i",23),o()()()()(),r(39,"div",24)(40,"div")(41,"span",25),c(42),o()(),r(43,"div",26)(44,"label",27),c(45),o(),r(46,"select",28),v("change",function(g){return p(l),m(t.onPageSizeChange(+g.target.value))}),r(47,"option",29),c(48,"10"),o(),r(49,"option",30),c(50,"25"),o(),r(51,"option",31),c(52,"50"),o(),r(53,"option",32),c(54,"100"),o()()()(),b(55,we,5,2,"div",33),r(56,"div",34)(57,"div",35)(58,"app-data-table",36),v("actionClick",function(g){return p(l),m(t.onTableAction(g))})("pageChange",function(g){return p(l),m(t.onPageChange(g))})("pageSizeChange",function(g){return p(l),m(t.onPageSizeChange(g))}),L(59,ze,5,1,"ng-template",null,0,J),o()()(),r(61,"app-vacation-type-modal",37),v("modalClose",function(){return p(l),m(t.loadVacationTypes())})("vacationTypeCreated",function(){return p(l),m(t.onVacationTypeCreated())})("vacationTypeUpdated",function(){return p(l),m(t.onVacationTypeUpdated())}),o()()}if(e&2){let l;n(4),s(t.i18n.t("vacation_types.title")),n(2),s(t.i18n.t("vacation_types.subtitle")),n(),y(t.permissionService.has(t.PERMISSIONS.VACATION_TYPE_CREATE)?7:-1),n(6),s(t.i18n.t("common.search")),n(4),u("placeholder",t.i18n.t("vacation_types.search_placeholder"))("value",t.searchTerm()),n(3),s(t.i18n.t("vacation_types.branch")),n(),u("value",t.selectedBranchId()??""),n(2),s(t.i18n.t("common.all")),n(),A(t.availableBranches()),n(4),s(t.i18n.t("common.status")),n(),u("value",t.selectedStatus()??""),n(2),s(t.i18n.t("common.all")),n(2),s(t.i18n.t("common.active")),n(2),s(t.i18n.t("common.inactive")),n(2),u("title",t.i18n.t("common.clear_filters")),n(5),_(" ",t.i18n.t("common.showing_results")," "),n(3),_("",t.i18n.t("common.items_per_page"),":"),n(),u("value",t.pageSize()),n(9),y((l=t.error())?55:-1,l),n(3),u("data",t.vacationTypes())("columns",t.tableColumns)("actions",t.tableActions)("loading",t.loading)("currentPage",t.currentPage)("totalPages",t.totalPages)("totalItems",t.totalItems)("pageSize",t.pageSize)("showPagination",!0)("emptyMessage",t.i18n.t("vacation_types.no_vacation_types"))("emptyTitle",t.i18n.t("vacation_types.no_vacation_types_message"))}},dependencies:[z,O,me,B],styles:[".vacation-types-page[_ngcontent-%COMP%]{padding:1.5rem}.vacation-types-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}.vacation-types-page[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.card[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:8px;box-shadow:0 .125rem .25rem #00000013}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:6px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40}.input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #ced4da;color:#6c757d}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;transition:all .15s ease-in-out}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:#6c757d;color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#6c757d;border-color:#6c757d;color:#fff}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:2px solid #dee2e6;font-weight:600;color:#495057;padding:1rem .75rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;vertical-align:middle;border-bottom:1px solid #f1f3f4}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.vacation-type-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:3px;border:1px solid rgba(0,0,0,.1);flex-shrink:0}.badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.375rem .5rem;border-radius:4px}.badge-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.badge-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.badge-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.badge-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.badge-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.badge-light[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;border:1px solid #dee2e6}.dropdown-menu[_ngcontent-%COMP%]{border-radius:6px;box-shadow:0 .5rem 1rem #00000026;border:1px solid #e9ecef}.dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;transition:background-color .15s ease-in-out}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#f5c6cb;color:#721c24}.fa-check-circle[_ngcontent-%COMP%]{color:#28a745!important}.fa-times-circle[_ngcontent-%COMP%]{color:#6c757d!important}.fa-dollar-sign[_ngcontent-%COMP%]{color:#28a745!important}.fa-ban[_ngcontent-%COMP%]{color:#6c757d!important}.pagination[_ngcontent-%COMP%]{--bs-pagination-border-radius: 6px}.page-link[_ngcontent-%COMP%]{border-radius:6px;margin:0 2px;border:1px solid #dee2e6;color:#007bff}.page-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef;border-color:#dee2e6}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6c757d;background-color:#fff;border-color:#dee2e6}.spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.fa-calendar-times[_ngcontent-%COMP%]{opacity:.6}.alert[_ngcontent-%COMP%]{border-radius:6px;border:1px solid transparent}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border-color:#f5c6cb;color:#721c24}.text-muted[_ngcontent-%COMP%]{font-size:.875rem}@media (max-width: 768px){.vacation-types-page[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]{padding:1rem}.d-flex.justify-content-between[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.btn-group[_ngcontent-%COMP%]{position:static}.dropdown-menu[_ngcontent-%COMP%]{position:absolute!important;transform:none!important}}@media (max-width: 576px){.vacation-types-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem}.badge[_ngcontent-%COMP%]{font-size:.6875rem;padding:.25rem .375rem}.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})};export{_e as VacationTypesComponent};
