import{a}from"./chunk-A6EM5NV6.js";import{g as p,u as m,wb as s,xb as l,y as n}from"./chunk-5OFYUWMA.js";var b=class i{http=n(l);baseUrl=`${a.apiUrl}/api/v1/employees`;branchesUrl=`${a.apiUrl}/api/v1/branches`;departmentsUrl=`${a.apiUrl}/api/v1/departments`;rolesUrl=`${a.apiUrl}/api/v1/roles`;getEmployees(e={}){let t=new s;return e.page&&(t=t.set("page",e.page.toString())),e.pageSize&&(t=t.set("pageSize",e.pageSize.toString())),e.search&&(t=t.set("search",e.search)),e.branchId&&(t=t.set("branchId",e.branchId.toString())),e.departmentId&&(t=t.set("departmentId",e.departmentId.toString())),e.managerId&&(t=t.set("managerId",e.managerId.toString())),e.isActive!==void 0&&(t=t.set("isActive",e.isActive.toString())),e.employmentStatus&&(t=t.set("employmentStatus",e.employmentStatus)),this.http.get(this.baseUrl,{params:t})}getEmployeeById(e){return this.http.get(`${this.baseUrl}/${e}`)}getCurrentEmployee(){return this.http.get(`${this.baseUrl}/current`)}createEmployee(e){return this.http.post(this.baseUrl,e)}updateEmployee(e,t){return this.http.put(`${this.baseUrl}/${e}`,t)}deleteEmployee(e){return this.http.delete(`${this.baseUrl}/${e}`)}toggleEmployeeStatus(e){return this.http.post(`${this.baseUrl}/${e}/toggle-status`,{})}updateEmployeeShift(e,t){return this.http.post(`${this.baseUrl}/${e}/shift`,t)}changeEmployeeShift(e){return this.http.post(`${this.baseUrl}/${e.employeeId}/change-shift`,e)}getBranches(){let e=new s().set("page","1").set("pageSize","100").set("isActive","true");return this.http.get(this.branchesUrl,{params:e})}getDepartments(e){let t=new s;return e&&(t=t.set("branchId",e.toString())),this.http.get(this.departmentsUrl,{params:t})}getEmployeesForSelection(e){let t=new s().set("page","1").set("pageSize","1000").set("isActive","true");return e&&(t=t.set("branchId",e.toString())),this.http.get(this.baseUrl,{params:t}).pipe(p(o=>o.items.map(r=>({id:r.id,name:r.fullName,employeeNumber:r.employeeNumber}))))}getEmployeesDropdown(){return this.http.get(`${this.baseUrl}/dropdown`)}getManagers(e){let t=new s().set("page","1").set("pageSize","1000").set("isActive","true");return e&&(t=t.set("branchId",e.toString())),this.http.get(this.baseUrl,{params:t}).pipe(p(o=>o.items.map(r=>({id:r.id,name:r.fullName,employeeNumber:r.employeeNumber}))))}getRoles(){return this.http.get(this.rolesUrl).pipe(p(e=>e.items||[]))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})};export{b as a};
