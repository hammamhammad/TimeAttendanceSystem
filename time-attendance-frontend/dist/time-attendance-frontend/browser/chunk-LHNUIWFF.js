import{a as w}from"./chunk-7NGNGWXS.js";import{a as U}from"./chunk-4LNI5FX6.js";import{a as P}from"./chunk-3IQ53VGU.js";import{a as N}from"./chunk-CYQTDKAB.js";import{b as M}from"./chunk-AS5QRUY4.js";import{E as e,H as _,J as O,Na as g,Oa as R,U as l,V as m,ca as o,da as i,db as A,ea as p,fb as I,ia as f,la as v,ma as d,nb as q,qb as h,sa as V,u as C,v as x,va as b,wa as c,xa as r,ya as E,z as S,za as T}from"./chunk-LDUBOZPL.js";import"./chunk-DGAILPFQ.js";function k(a,n){if(a&1&&(o(0,"div",8),c(1),i()),a&2){let t=d();b(t.getStatusClass(t.vacationRequest().status)),e(),E(" ",t.vacationRequest().statusText," ")}}function Q(a,n){if(a&1&&(o(0,"div",6)(1,"div",9),p(2,"i",10),i(),o(3,"p"),c(4),i()()),a&2){let t=d();e(4),r(t.i18n.t("COMMON.LOADING"))}}function D(a,n){if(a&1&&(o(0,"div",18)(1,"label"),c(2),i(),o(3,"div",25),c(4),i()()),a&2){let t=d(2);e(2),r(t.i18n.t("VACATION_REQUESTS.REASON")),e(2),r(t.vacationRequest().reason)}}function j(a,n){if(a&1&&(o(0,"div",18)(1,"label"),c(2),i(),o(3,"div",26),c(4),i()()),a&2){let t=d(2);e(2),r(t.i18n.t("VACATION_REQUESTS.NOTES")),e(2),r(t.vacationRequest().notes)}}function L(a,n){if(a&1&&(o(0,"div",14)(1,"label"),c(2),i(),o(3,"div",15),c(4),i()(),o(5,"div",14)(6,"label"),c(7),i(),o(8,"div",15),c(9),g(10,"date"),i()()),a&2){let t=d(3);e(2),r(t.i18n.t("VACATION_REQUESTS.APPROVED_BY")),e(2),r(t.vacationRequest().approvedByUserName),e(3),r(t.i18n.t("VACATION_REQUESTS.APPROVED_DATE")),e(2),r(R(10,4,t.vacationRequest().approvedDate,"medium"))}}function B(a,n){if(a&1&&(o(0,"div",14)(1,"label"),c(2),i(),o(3,"div",15),c(4),i()(),o(5,"div",14)(6,"label"),c(7),i(),o(8,"div",15),c(9),g(10,"date"),i()()),a&2){let t=d(3);e(2),r(t.i18n.t("VACATION_REQUESTS.REJECTED_BY")),e(2),r(t.vacationRequest().rejectedByUserName),e(3),r(t.i18n.t("VACATION_REQUESTS.REJECTED_DATE")),e(2),r(R(10,4,t.vacationRequest().rejectedDate,"medium"))}}function z(a,n){if(a&1&&(o(0,"div",18)(1,"label"),c(2),i(),o(3,"div",27),c(4),i()()),a&2){let t=d(3);e(2),r(t.i18n.t("VACATION_REQUESTS.REJECTION_REASON")),e(2),r(t.vacationRequest().rejectionReason)}}function F(a,n){if(a&1&&(o(0,"div",11)(1,"h3",12),c(2),i(),o(3,"div",13),l(4,L,11,7),l(5,B,11,7),l(6,z,5,2,"div",18),i()()),a&2){let t=d(2);e(2),r(t.i18n.t("VACATION_REQUESTS.APPROVAL_INFO")),e(2),m(t.vacationRequest().approvedByUserName?4:-1),e(),m(t.vacationRequest().rejectedByUserName?5:-1),e(),m(t.vacationRequest().rejectionReason?6:-1)}}function J(a,n){if(a&1){let t=f();o(0,"button",28),v("click",function(){C(t);let u=d(2);return x(u.navigateToEdit())}),p(1,"i",29),c(2),i()}if(a&2){let t=d(2);e(2),E(" ",t.i18n.t("COMMON.EDIT")," ")}}function Y(a,n){if(a&1){let t=f();o(0,"button",30),v("click",function(){C(t);let u=d(2);return x(u.approveRequest())}),p(1,"i",31),c(2),i()}if(a&2){let t=d(2);e(2),E(" ",t.i18n.t("VACATION_REQUESTS.APPROVE")," ")}}function G(a,n){if(a&1){let t=f();o(0,"button",32),v("click",function(){C(t);let u=d(2);return x(u.rejectRequest())}),p(1,"i",33),c(2),i()}if(a&2){let t=d(2);e(2),E(" ",t.i18n.t("VACATION_REQUESTS.REJECT")," ")}}function K(a,n){if(a&1){let t=f();o(0,"button",4),v("click",function(){C(t);let u=d(2);return x(u.cancelRequest())}),p(1,"i",34),c(2),i()}if(a&2){let t=d(2);e(2),E(" ",t.i18n.t("VACATION_REQUESTS.CANCEL")," ")}}function W(a,n){if(a&1){let t=f();o(0,"button",35),v("click",function(){C(t);let u=d(2);return x(u.deleteRequest())}),p(1,"i",36),c(2),i()}if(a&2){let t=d(2);e(2),E(" ",t.i18n.t("COMMON.DELETE")," ")}}function H(a,n){if(a&1&&(o(0,"div",7)(1,"div",11)(2,"h3",12),c(3),i(),o(4,"div",13)(5,"div",14)(6,"label"),c(7),i(),o(8,"div",15),c(9),i()(),o(10,"div",14)(11,"label"),c(12),i(),o(13,"div",15)(14,"span",16),c(15),i()()(),o(16,"div",14)(17,"label"),c(18),i(),o(19,"div",15),c(20),g(21,"date"),i()(),o(22,"div",14)(23,"label"),c(24),i(),o(25,"div",15)(26,"span",8),c(27),i()()()()(),o(28,"div",11)(29,"h3",12),c(30),i(),o(31,"div",13)(32,"div",14)(33,"label"),c(34),i(),o(35,"div",15),c(36),g(37,"date"),i()(),o(38,"div",14)(39,"label"),c(40),i(),o(41,"div",15),c(42),g(43,"date"),i()(),o(44,"div",14)(45,"label"),c(46),i(),o(47,"div",17),c(48),i()()()(),o(49,"div",11)(50,"h3",12),c(51),i(),l(52,D,5,2,"div",18),l(53,j,5,2,"div",18),i(),l(54,F,7,4,"div",11),o(55,"div",19),l(56,J,3,1,"button",20),l(57,Y,3,1,"button",21),l(58,G,3,1,"button",22),l(59,K,3,1,"button",23),l(60,W,3,1,"button",24),i()()),a&2){let t=d();e(3),r(t.i18n.t("VACATION_REQUESTS.BASIC_INFORMATION")),e(4),r(t.i18n.t("VACATION_REQUESTS.EMPLOYEE")),e(2),T("",t.vacationRequest().employeeName," (",t.vacationRequest().employeeNumber,")"),e(3),r(t.i18n.t("VACATION_REQUESTS.VACATION_TYPE")),e(2),V("background-color",t.vacationRequest().vacationTypeColor),e(),T(" ",t.vacationRequest().vacationTypeName," (",t.vacationRequest().vacationTypeCode,") "),e(3),r(t.i18n.t("VACATION_REQUESTS.REQUEST_DATE")),e(2),r(R(21,31,t.vacationRequest().requestedDate,"medium")),e(4),r(t.i18n.t("VACATION_REQUESTS.STATUS")),e(2),b(t.getStatusClass(t.vacationRequest().status)),e(),E(" ",t.vacationRequest().statusText," "),e(3),r(t.i18n.t("VACATION_REQUESTS.DATE_INFORMATION")),e(4),r(t.i18n.t("VACATION_REQUESTS.START_DATE")),e(2),r(R(37,34,t.vacationRequest().startDate,"fullDate")),e(4),r(t.i18n.t("VACATION_REQUESTS.END_DATE")),e(2),r(R(43,37,t.vacationRequest().endDate,"fullDate")),e(4),r(t.i18n.t("VACATION_REQUESTS.TOTAL_DAYS")),e(2),r(t.vacationRequest().totalDays),e(3),r(t.i18n.t("VACATION_REQUESTS.ADDITIONAL_INFO")),e(),m(t.vacationRequest().reason?52:-1),e(),m(t.vacationRequest().notes?53:-1),e(),m(t.vacationRequest().status!==t.VacationStatus.Pending?54:-1),e(2),m(t.canEdit()?56:-1),e(),m(t.canApprove()?57:-1),e(),m(t.canReject()?58:-1),e(),m(t.canCancel()?59:-1),e(),m(t.canDelete()?60:-1)}}var y=class a{constructor(n,t,s,u,X,Z){this.vacationRequestsService=n;this.notificationService=t;this.confirmationService=s;this.router=u;this.route=X;this.i18n=Z}vacationRequest=S(null);loading=S(!1);VacationStatus=w;ngOnInit(){let n=this.route.snapshot.params.id;n&&this.loadVacationRequest(+n)}loadVacationRequest(n){this.loading.set(!0),this.vacationRequestsService.getVacationRequestById(n).subscribe({next:t=>{this.vacationRequest.set(t),this.loading.set(!1)},error:t=>{this.notificationService.error("VACATION_REQUESTS.LOAD_ERROR"),this.loading.set(!1),this.router.navigate(["/vacation-requests"])}})}navigateToEdit(){let n=this.vacationRequest();n&&this.router.navigate(["/vacation-requests/edit",n.id])}approveRequest(){let n=this.vacationRequest();n&&this.confirmationService.confirm({title:"VACATION_REQUESTS.CONFIRM_APPROVE",message:"VACATION_REQUESTS.CONFIRM_APPROVE_MESSAGE"}).then(t=>{t.confirmed&&n&&this.vacationRequestsService.approveVacationRequest(n.id,{vacationRequestId:n.id,approvedByUserId:1,notes:""}).subscribe({next:()=>{this.notificationService.success("VACATION_REQUESTS.APPROVE_SUCCESS"),this.loadVacationRequest(n.id)},error:s=>{this.notificationService.error("VACATION_REQUESTS.APPROVE_ERROR")}})})}rejectRequest(){let n=this.vacationRequest();n&&this.confirmationService.confirm({title:"VACATION_REQUESTS.CONFIRM_REJECT",message:"VACATION_REQUESTS.CONFIRM_REJECT_MESSAGE"}).then(t=>{t.confirmed&&n&&this.vacationRequestsService.rejectVacationRequest(n.id,"").subscribe({next:()=>{this.notificationService.success("VACATION_REQUESTS.REJECT_SUCCESS"),this.loadVacationRequest(n.id)},error:s=>{this.notificationService.error("VACATION_REQUESTS.REJECT_ERROR")}})})}cancelRequest(){let n=this.vacationRequest();n&&this.confirmationService.confirm({title:"VACATION_REQUESTS.CONFIRM_CANCEL",message:"VACATION_REQUESTS.CONFIRM_CANCEL_MESSAGE"}).then(t=>{t.confirmed&&n&&this.vacationRequestsService.cancelVacationRequest(n.id,"").subscribe({next:()=>{this.notificationService.success("VACATION_REQUESTS.CANCEL_SUCCESS"),this.loadVacationRequest(n.id)},error:s=>{this.notificationService.error("VACATION_REQUESTS.CANCEL_ERROR")}})})}deleteRequest(){let n=this.vacationRequest();n&&this.confirmationService.confirm({title:"VACATION_REQUESTS.DELETE_TITLE",message:"VACATION_REQUESTS.DELETE_CONFIRMATION"}).then(t=>{t.confirmed&&n&&this.vacationRequestsService.deleteVacationRequest(n.id).subscribe({next:()=>{this.notificationService.success("VACATION_REQUESTS.DELETE_SUCCESS"),this.router.navigate(["/vacation-requests"])},error:s=>{this.notificationService.error("VACATION_REQUESTS.DELETE_ERROR")}})})}goBack(){this.router.navigate(["/vacation-requests"])}getStatusClass(n){switch(n){case 1:return"status-approved";case 2:return"status-rejected";case 3:return"status-cancelled";default:return"status-pending"}}canApprove(){return this.vacationRequest()?.status===0}canReject(){return this.vacationRequest()?.status===0}canCancel(){let n=this.vacationRequest();return n?.status===1||n?.status===0}canEdit(){return this.vacationRequest()?.status===0}canDelete(){let n=this.vacationRequest();return n?.status===0||n?.status===2||n?.status===3}static \u0275fac=function(t){return new(t||a)(_(U),_(N),_(P),_(h),_(q),_(M))};static \u0275cmp=O({type:a,selectors:[["app-view-vacation-request"]],decls:11,vars:4,consts:[[1,"view-vacation-request-container"],[1,"page-header"],[1,"header-content"],[1,"status-badge",3,"class"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-arrow-left"],[1,"loading-container"],[1,"content-card"],[1,"status-badge"],[1,"spinner"],[1,"fas","fa-spinner","fa-spin"],[1,"info-section"],[1,"section-title"],[1,"info-grid"],[1,"info-item"],[1,"info-value"],[1,"vacation-type-badge"],[1,"info-value","total-days"],[1,"info-item","full-width"],[1,"action-buttons"],[1,"btn","btn-primary"],[1,"btn","btn-success"],[1,"btn","btn-warning"],[1,"btn","btn-secondary"],[1,"btn","btn-danger"],[1,"info-value","reason-text"],[1,"info-value","notes-text"],[1,"info-value","rejection-reason"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-check"],[1,"btn","btn-warning",3,"click"],[1,"fas","fa-times"],[1,"fas","fa-ban"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),c(4),i(),l(5,k,2,3,"div",3),i(),o(6,"button",4),v("click",function(){return s.goBack()}),p(7,"i",5),c(8),i()(),l(9,Q,5,1,"div",6)(10,H,61,40,"div",7),i()),t&2&&(e(4),r(s.i18n.t("VACATION_REQUESTS.VIEW_TITLE")),e(),m(s.vacationRequest()?5:-1),e(3),E(" ",s.i18n.t("COMMON.BACK")," "),e(),m(s.loading()?9:s.vacationRequest()?10:-1))},dependencies:[I,A],styles:[".view-vacation-request-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.8rem;font-weight:600;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.spinner[_ngcontent-%COMP%]{font-size:2rem;color:#3498db;margin-bottom:15px}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.info-section[_ngcontent-%COMP%]{padding:30px;border-bottom:1px solid #e9ecef}.info-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.section-title[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.2rem;font-weight:600;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #3498db;display:inline-block}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.info-value[_ngcontent-%COMP%]{color:#2c3e50;font-size:1rem;padding:8px 0}.total-days[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#3498db}.reason-text[_ngcontent-%COMP%], .notes-text[_ngcontent-%COMP%], .rejection-reason[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:6px;border-left:4px solid #3498db;line-height:1.6}.rejection-reason[_ngcontent-%COMP%]{border-left-color:#e74c3c}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-pending[_ngcontent-%COMP%]{background-color:#ffc107;color:#000}.status-approved[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.status-rejected[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.status-cancelled[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.vacation-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:6px;color:#fff;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.2)}.action-buttons[_ngcontent-%COMP%]{padding:30px;display:flex;gap:15px;justify-content:flex-end;flex-wrap:wrap;background-color:#f8f9fa}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;text-decoration:none;min-width:120px;justify-content:center}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9}.btn-secondary[_ngcontent-%COMP%]{background-color:#95a5a6;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#7f8c8d}.btn-success[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#219a52}.btn-warning[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e67e22}.btn-danger[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c0392b}@media (max-width: 768px){.view-vacation-request-container[_ngcontent-%COMP%]{padding:10px}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:stretch}.header-content[_ngcontent-%COMP%]{justify-content:center;text-align:center}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.info-section[_ngcontent-%COMP%]{padding:20px}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;padding:20px}.btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.section-title[_ngcontent-%COMP%]{font-size:1.1rem}.info-value[_ngcontent-%COMP%]{font-size:.95rem}.total-days[_ngcontent-%COMP%]{font-size:1.3rem}}"]})};export{y as ViewVacationRequestComponent};
